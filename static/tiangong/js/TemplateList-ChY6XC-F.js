import{_ as e,u as t,j as a,a as l}from"../index-CR06pHgF.js";import{E as i,u as n,a as s,T as r}from"./fetch-I3PI3dyF.js";import{k as p,r as o,a0 as c,u as d,l as m,m as u,T as x,Y as v,p as f,X as _,V as g,P as h,aa as w,w as y,f as k,e as C,Q as b,ah as A,M as S,ac as I,ad as T}from"./vue-CmQldkW7.js";import{v as j}from"./index-ngmwIvrM.js";const E={class:"template-info px-[12px] pb-[12px]"},F={class:"truncate text-[15px] font-[500] leading-[170%] text-[#000818]"},L={class:"truncate text-[12px] leading-[160%] text-[#979FAB]"},V=p({__name:"TemplateWritingCard",props:["item"],emits:["cardShow"],setup(e,{emit:t}){const a=t,l=o(!1),n=([{isIntersecting:e}])=>{e&&!l.value&&(l.value=!0,a("cardShow"))};return(t,a)=>{const l=i;return e.item?c((m(),u("div",{key:0,class:"writing-card relative flex-shrink-0 cursor-pointer overflow-hidden rounded-[12px]",style:g({background:2===e.item.template_card?"#fff":"#".concat(e.item.template_colour||"fff")})},[2===e.item.template_card?(m(),x(l,{key:0,class:"mb-[8px] h-[171px] w-full overflow-hidden rounded-[12px]",src:e.item.template_background,fit:"cover"},null,8,["src"])):1===e.item.template_card?(m(),x(l,{key:1,class:"mb-[16px] ml-[12px] mt-[12px] h-[48px] w-[48px] overflow-hidden rounded-full",src:e.item.template_icon,fit:"cover"},null,8,["src"])):v("",!0),f("div",E,[f("div",F,_(e.item.template_name),1),f("div",L,_(e.item.template_description),1)])],4)),[[d(j),n]]):v("",!0)}}}),D={key:0,class:"image-card relative h-[172px] cursor-pointer overflow-hidden rounded-[8px] text-white"},B={class:"absolute bottom-[8px] left-[10px] flex h-[24px] w-[66px] items-center justify-center gap-[2px] rounded-[16px] bg-[rgba(0,8,24,0.80)]"},M=f("span",{class:"text-[12px]"},"做同款",-1),P=f("span",{class:"absolute bottom-[4px] right-[8px] text-[8px] leading-[140%]"},"天工 AI 生成",-1),Q=p({__name:"TemplateImageCard",props:["item"],emits:["cardShow"],setup(t,{emit:a}){const l=a,n=o(!1),s=([{isIntersecting:e}])=>{e&&!n.value&&(n.value=!0,l("cardShow"))};return(a,l)=>{const n=i,r=e;return t.item?c((m(),u("div",D,[h(n,{class:"h-full w-full",src:t.item.template_background,fit:"cover"},null,8,["src"]),f("div",B,[h(r,{class:"h-[12px] w-[12px]",name:"template-list-image-footer"}),M]),P])),[[d(j),s]]):v("",!0)}}}),W={key:0,class:"panel-container relative flex h-screen w-[400px] flex-col items-center gap-[20px] overflow-hidden bg-[#EDEFF1] pt-[20px] leading-[24px]"},X=(e=>(I("data-v-a443e41a"),e=e(),T(),e))((()=>f("div",{class:"w-full flex-shrink-0 px-[20px] text-[16px] font-[500] leading-[24px]"},"模板大全",-1))),Y={key:0,class:"tabs-list flex w-full flex-shrink-0 gap-[24px] overflow-x-auto whitespace-nowrap px-[20px] text-[14px]"},q=["data-content","onClick"],z={key:1,class:"wrap grid w-full flex-1 grid-cols-2 gap-[8px] overflow-y-auto px-[20px]"},G={key:2,class:"flex w-full justify-center gap-[8px] overflow-y-auto"},H={class:"flex w-[176px] flex-col gap-[8px]"},J={class:"flex w-[176px] flex-col gap-[8px]"},K=l(p({__name:"TemplateList",emits:["templateClick"],setup(l,{emit:i}){const p=n(),{setTemplateVisible:c}=p,{templateDataList:g,templateVisible:I,templateAgentType:T,templateTypesList:j}=w(p),E=t(),{currentAgentId:F}=w(E),L=o(""),D=i;function B(e,t){D("templateClick",e),a().reportImmediate({event:"agent_chat_page_section_template_card_click",event_info:{origin:"agent_chat_page",entity:"section_template_card",event:"click",agent_id:F.value,template_id:e.template_id,rank:t}})}y(j,(()=>{Array.isArray(j.value)&&0!==j.value.length?L.value=j.value[0].type:L.value=""}));const M=k((()=>{if(!Array.isArray(g.value)||0===g.value.length)return[];const e=g.value.find((({type:e})=>e===L.value));return e&&Array.isArray(e.list)?e.list:Array.isArray(g.value[0].list)?g.value[0].list:[]})),P=k((()=>M.value.filter(((e,t)=>t%2==0)))),K=k((()=>M.value.filter(((e,t)=>t%2==1))));function N(e){a().reportImmediate({event:"agent_chat_page_section_template_card_show",event_info:{origin:"agent_chat_page",entity:"section_template_card",event:"show",agent_id:F.value,template_id:e}})}function O(){I.value&&a().reportImmediate({event:"agent_chat_page_section_template_show",event_info:{origin:"agent_chat_page",entity:"section_template",event:"show",agent_id:F.value}})}return y(I,O),C((()=>{O()})),(t,a)=>{const l=e;return d(I)?(m(),u("div",W,[X,h(l,{class:"absolute right-[20px] top-[22px] h-[20px] w-[20px] cursor-pointer",name:"editor-close",onClick:a[0]||(a[0]=e=>d(c)(!1))}),Array.isArray(d(j))&&d(j).length>1?(m(),u("div",Y,[(m(!0),u(b,null,A(d(j),((e,t)=>(m(),u("div",{class:S(["cursor-pointer hover:font-[500]",[L.value===e.type&&"font-[500]"]]),"data-content":e.type,key:t,onClick:t=>L.value=e.type},_(e.type),11,q)))),128))])):v("",!0),d(T)===d(s)?(m(),u("div",z,[(m(!0),u(b,null,A(d(M),((e,t)=>(m(),x(Q,{key:e.template_id,item:e,onCardShow:t=>N(e.template_id),onClick:a=>B(e,t+1)},null,8,["item","onCardShow","onClick"])))),128))])):d(T)===d(r)?(m(),u("div",G,[f("div",H,[(m(!0),u(b,null,A(d(P),((e,t)=>(m(),x(V,{key:e.template_id,item:e,"agent-id":d(F),onCardShow:t=>N(e.template_id),onClick:a=>B(e,2*t+1)},null,8,["item","agent-id","onCardShow","onClick"])))),128))]),f("div",J,[(m(!0),u(b,null,A(d(K),((e,t)=>(m(),x(V,{key:e.template_id,item:e,"agent-id":d(F),onCardShow:t=>N(e.template_id),onClick:a=>B(e,2*t+2)},null,8,["item","agent-id","onCardShow","onClick"])))),128))])])):v("",!0)])):v("",!0)}}}),[["__scopeId","data-v-a443e41a"]]);export{K as T};
