import{by as a,bz as t}from"../index-CR06pHgF.js";import{d as e,r as n,ag as r,e as s,w as o}from"./vue-CmQldkW7.js";import{c as u}from"./cloneDeep-a86zWJ9A.js";let c;const i=i=>{const l=parseInt(i.toString());if(Number.isNaN(l))throw new Error("id 必须是数字");return e("agent:".concat(l),(()=>{const e=n(),i=n(),d=r(),f=a=>{a.data&&(e.value=a.data,i.value=a.data)},m=()=>{var t;return c=a(l,null!=(t=d.query.oms_token)?t:void 0),c.then(f)};s((()=>{m()})),o((()=>d.fullPath),(()=>{i.value=u(e.value)}));const v=n();return{agent:e,fakeAgent:i,fetchAgent:m,fetchSession:async()=>{const a=await t(l);v.value=a.data}}}))()};export{i as u};
