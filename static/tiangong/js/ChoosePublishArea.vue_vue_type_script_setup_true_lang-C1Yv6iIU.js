import{k as e,f as t,l as n,m as o,G as l,P as a,S as s,a0 as i,p as r,M as u,u as c,X as d,a4 as p,a5 as m,Y as f,V as v,r as g,K as h,ae as x,L as b,a8 as y,n as k,i as C,q as _,C as w,ay as S,az as M,e as B,w as I,T as P,U as W,Q as j,$ as E,z as N,x as O,aA as L,ah as F,W as A,aq as R,ac as T,ad as V,aa as H}from"./vue-CmQldkW7.js";import{am as z,au as D,az as $,aq as U,aC as K,ar as Z,bk as q,bl as Y,bm as X,bn as G,bo as Q,an as J,as as ee,bp as te,bq as ne,br as oe,ap as le,bs as ae,bt as se,bu as ie,bv as re,bw as ue,t as ce,_ as de,E as pe,a as me,n as fe,j as ve,K as ge,u as he,z as xe,y as be,X as ye,g as ke,bx as Ce,k as _e}from"../index-CR06pHgF.js";import{c as we,b as Se,r as Me,u as Be}from"./fetch-I3PI3dyF.js";import"./el-tooltip-l0sNRNKZ.js";import{b as Ie,N as Pe,E as We,T as je}from"./TgSelect-BJEbABWH.js";const Ee={},Ne=z({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0}}),Oe=["textContent"],Le=e({name:"ElBadge"});const Fe=K(U(e({...Le,props:Ne,setup(e,{expose:f}){const v=e,g=D("badge"),h=t((()=>v.isDot?"":$(v.value)&&$(v.max)?v.max<v.value?"".concat(v.max,"+"):0!==v.value||v.showZero?"".concat(v.value):"":"".concat(v.value)));return f({content:h}),(e,t)=>(n(),o("div",{class:u(c(g).b())},[l(e.$slots,"default"),a(m,{name:"".concat(c(g).namespace.value,"-zoom-in-center"),persisted:""},{default:s((()=>[i(r("sup",{class:u([c(g).e("content"),c(g).em("content",e.type),c(g).is("fixed",!!e.$slots.default),c(g).is("dot",e.isDot)]),textContent:d(c(h))},null,10,Oe),[[p,!e.hidden&&(c(h)||e.isDot)]])])),_:1},8,["name"])],2))}}),[["__file","badge.vue"]])),Ae=z({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Z(String),default:"solid"}}),Re=e({name:"ElDivider"});const Te=K(U(e({...Re,props:Ae,setup(e){const a=e,s=D("divider"),i=t((()=>s.cssVar({"border-style":a.borderStyle})));return(e,t)=>(n(),o("div",{class:u([c(s).b(),c(s).m(e.direction)]),style:v(c(i)),role:"separator"},[e.$slots.default&&"vertical"!==e.direction?(n(),o("div",{key:0,class:u([c(s).e("text"),c(s).is(e.contentPosition)])},[l(e.$slots,"default")],2)):f("v-if",!0)],6))}}),[["__file","divider.vue"]]));function Ve(t){let n;const o=g(!1),l=h({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(){var e,t;null==(t=null==(e=f.$el)?void 0:e.parentNode)||t.removeChild(f.$el)}function u(){if(!o.value)return;const e=l.parent;o.value=!1,e.vLoadingAddClassList=void 0,function(){const e=l.parent,t=f.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute("loading-number");n=Number.parseInt(n)-1,n?e.setAttribute("loading-number",n.toString()):(Y(e,t.bm("parent","relative")),e.removeAttribute("loading-number")),Y(e,t.bm("parent","hidden"))}r(),d.unmount()}()}const c=e({name:"ElLoading",setup(e,{expose:t}){const{ns:n,zIndex:o}=q("loading");return t({ns:n,zIndex:o}),()=>{const e=l.spinner||l.svg,t=y("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...e?{innerHTML:e}:{}},[y("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),o=l.text?y("p",{class:n.b("text")},[l.text]):void 0;return y(m,{name:n.b("fade"),onAfterLeave:u},{default:s((()=>[i(a("div",{style:{backgroundColor:l.background||""},class:[n.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[y("div",{class:n.b("spinner")},[t,o])]),[[p,l.visible]])]))})}}}),d=x(c),f=d.mount(document.createElement("div"));return{...b(l),setText:function(e){l.text=e},removeElLoadingChild:r,close:function(){var e;t.beforeClose&&!t.beforeClose()||(o.value=!0,clearTimeout(n),n=window.setTimeout(u,400),l.visible=!1,null==(e=t.closed)||e.call(t))},handleAfterLeave:u,vm:f,get $el(){return f.$el}}}let He;const ze=function(e={}){if(!X)return;const t=De(e);if(t.fullscreen&&He)return He;const n=Ve({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(He=void 0)}});$e(t,t.parent,n),Ue(t,t.parent,n),t.parent.vLoadingAddClassList=()=>Ue(t,t.parent,n);let o=t.parent.getAttribute("loading-number");return o=o?"".concat(Number.parseInt(o)+1):"1",t.parent.setAttribute("loading-number",o),t.parent.appendChild(n.$el),k((()=>n.visible.value=t.visible)),t.fullscreen&&(He=n),n},De=e=>{var t,n,o,l;let a;return a=C(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(o=e.lock)&&o,customClass:e.customClass||"",visible:null==(l=e.visible)||l,target:a}},$e=async(e,t,n)=>{const{nextZIndex:o}=n.vm.zIndex||n.vm._.exposed.zIndex,l={};if(e.fullscreen)n.originalPosition.value=G(document.body,"position"),n.originalOverflow.value=G(document.body,"overflow"),l.zIndex=o();else if(e.parent===document.body){n.originalPosition.value=G(document.body,"position"),await k();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";l[t]="".concat(e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-Number.parseInt(G(document.body,"margin-".concat(t)),10),"px")}for(const t of["height","width"])l[t]="".concat(e.target.getBoundingClientRect()[t],"px")}else n.originalPosition.value=G(t,"position");for(const[a,s]of Object.entries(l))n.$el.style[a]=s},Ue=(e,t,n)=>{const o=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Y(t,o.bm("parent","relative")):Q(t,o.bm("parent","relative")),e.fullscreen&&e.lock?Q(t,o.bm("parent","hidden")):Y(t,o.bm("parent","hidden"))},Ke=Symbol("ElLoading"),Ze=(e,t)=>{var n,o,l,a;const s=t.instance,i=e=>_(t.value)?t.value[e]:void 0,r=t=>(e=>{const t=C(e)&&(null==s?void 0:s[e])||e;return t?g(t):t})(i(t)||e.getAttribute("element-loading-".concat(S(t)))),u=null!=(n=i("fullscreen"))?n:t.modifiers.fullscreen,c={text:r("text"),svg:r("svg"),svgViewBox:r("svgViewBox"),spinner:r("spinner"),background:r("background"),customClass:r("customClass"),fullscreen:u,target:null!=(o=i("target"))?o:u?void 0:e,body:null!=(l=i("body"))?l:t.modifiers.body,lock:null!=(a=i("lock"))?a:t.modifiers.lock};e[Ke]={options:c,instance:ze(c)}},qe={mounted(e,t){t.value&&Ze(e,t)},updated(e,t){const n=e[Ke];t.oldValue!==t.value&&(t.value&&!t.oldValue?Ze(e,t):t.value&&t.oldValue?_(t.value)&&((e,t)=>{for(const n of Object.keys(t))w(t[n])&&(t[n].value=e[n])})(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[Ke])||t.instance.close(),e[Ke]=null}},Ye=["success","info","warning","error"],Xe=ee({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:X?document.body:void 0}),Ge=z({customClass:{type:String,default:Xe.customClass},center:{type:Boolean,default:Xe.center},dangerouslyUseHTMLString:{type:Boolean,default:Xe.dangerouslyUseHTMLString},duration:{type:Number,default:Xe.duration},icon:{type:J,default:Xe.icon},id:{type:String,default:Xe.id},message:{type:Z([String,Object,Function]),default:Xe.message},onClose:{type:Z(Function),required:!1},showClose:{type:Boolean,default:Xe.showClose},type:{type:String,values:Ye,default:Xe.type},offset:{type:Number,default:Xe.offset},zIndex:{type:Number,default:Xe.zIndex},grouping:{type:Boolean,default:Xe.grouping},repeatNum:{type:Number,default:Xe.repeatNum}}),Qe=M([]),Je=e=>{const{prev:t}=(e=>{const t=Qe.findIndex((t=>t.id===e)),n=Qe[t];let o;return t>0&&(o=Qe[t-1]),{current:n,prev:o}})(e);return t?t.vm.exposed.bottom.value:0},et=["id"],tt=["innerHTML"],nt=e({name:"ElMessage"});var ot=U(e({...nt,props:Ge,emits:{destroy:()=>!0},setup(e,{expose:h}){const x=e,{Close:b}=ae,{ns:y,zIndex:k}=q("message"),{currentZIndex:C,nextZIndex:_}=k,w=g(),S=g(!1),M=g(0);let N;const O=t((()=>x.type?"error"===x.type?"danger":x.type:"info")),L=t((()=>{const e=x.type;return{[y.bm("icon",e)]:e&&te[e]}})),F=t((()=>x.icon||te[x.type]||"")),A=t((()=>Je(x.id))),R=t((()=>((e,t)=>Qe.findIndex((t=>t.id===e))>0?16:t)(x.id,x.offset)+A.value)),T=t((()=>M.value+R.value)),V=t((()=>({top:"".concat(R.value,"px"),zIndex:C.value})));function H(){0!==x.duration&&({stop:N}=se((()=>{D()}),x.duration))}function z(){null==N||N()}function D(){S.value=!1}return B((()=>{H(),_(),S.value=!0})),I((()=>x.repeatNum),(()=>{z(),H()})),ne(document,"keydown",(function({code:e}){e===ie.esc&&D()})),oe(w,(()=>{M.value=w.value.getBoundingClientRect().height})),h({visible:S,bottom:T,close:D}),(e,t)=>(n(),P(m,{name:c(y).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[0]||(t[0]=t=>e.$emit("destroy")),persisted:""},{default:s((()=>[i(r("div",{id:e.id,ref_key:"messageRef",ref:w,class:u([c(y).b(),{[c(y).m(e.type)]:e.type},c(y).is("center",e.center),c(y).is("closable",e.showClose),e.customClass]),style:v(c(V)),role:"alert",onMouseenter:z,onMouseleave:H},[e.repeatNum>1?(n(),P(c(Fe),{key:0,value:e.repeatNum,type:c(O),class:u(c(y).e("badge"))},null,8,["value","type","class"])):f("v-if",!0),c(F)?(n(),P(c(le),{key:1,class:u([c(y).e("icon"),c(L)])},{default:s((()=>[(n(),P(W(c(F))))])),_:1},8,["class"])):f("v-if",!0),l(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(n(),o(j,{key:1},[f(" Caution here, message could've been compromised, never use user's input as message "),r("p",{class:u(c(y).e("content")),innerHTML:e.message},null,10,tt)],2112)):(n(),o("p",{key:0,class:u(c(y).e("content"))},d(e.message),3))])),e.showClose?(n(),P(c(le),{key:2,class:u(c(y).e("closeBtn")),onClick:E(D,["stop"])},{default:s((()=>[a(c(b))])),_:1},8,["class","onClick"])):f("v-if",!0)],46,et),[[p,S.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","message.vue"]]);let lt=1;const at=e=>{const t=!e||C(e)||N(e)||O(e)?{message:e}:e,n={...Xe,...t};if(n.appendTo){if(C(n.appendTo)){let e=document.querySelector(n.appendTo);re(e)||(e=document.body),n.appendTo=e}}else n.appendTo=document.body;return n},st=({appendTo:e,...t},n)=>{const o="message_".concat(lt++),l=t.onClose,s=document.createElement("div"),i={...t,id:o,onClose:()=>{null==l||l(),(e=>{const t=Qe.indexOf(e);if(-1===t)return;Qe.splice(t,1);const{handler:n}=e;n.close()})(d)},onDestroy:()=>{L(null,s)}},r=a(ot,i,O(i.message)||N(i.message)?{default:O(i.message)?i.message:()=>i.message}:null);r.appContext=n||it._context,L(r,s),e.appendChild(s.firstElementChild);const u=r.component,c={close:()=>{u.exposed.visible.value=!1}},d={id:o,vnode:r,vm:u,handler:c,props:r.component.props};return d},it=(e={},t)=>{if(!X)return{close:()=>{}};if($(Ee.max)&&Qe.length>=Ee.max)return{close:()=>{}};const n=at(e);if(n.grouping&&Qe.length){const e=Qe.find((({vnode:e})=>{var t;return(null==(t=e.props)?void 0:t.message)===n.message}));if(e)return e.props.repeatNum+=1,e.props.type=n.type,e.handler}const o=st(n,t);return Qe.push(o),o.handler};Ye.forEach((e=>{it[e]=(t={},n)=>{const o=at(t);return it({...o,type:e},n)}})),it.closeAll=function(e){for(const t of Qe)e&&e!==t.props.type||t.handler.close()},it._context=null;const rt=ue(it,"$message"),ut={class:"ml-[8px] flex flex-1 flex-col"},ct={class:"max-w-[100px] truncate text-[14px] font-normal leading-[22px] text-[#000818]"},dt={key:0,class:"uploadProgress"},pt={class:"!text-[10px] font-normal leading-[94%] text-[#979FAB]"},mt={key:1,class:"text-[10px] font-normal leading-[94%] text-[#979FAB]"},ft=["onClick"],vt=["src"],gt={key:0,class:"absolute left-[0] top-[0] h-[100%] w-[100%] rounded-[8px] bg-[rgba(0,8,24,0.40)]"},ht=["onClick"],xt=me(e({__name:"AgentFileList",props:{list:{},class:{type:[Array,String,null,Number,Boolean]},uploadType:{}},emits:["remove"],setup(e,{emit:t}){const l=e,i=t,p=e=>{i("remove",e)};return(e,t)=>{const i=de,m=pe,v=we;return e.list.length>0?(n(),o("div",{key:0,class:u(c(ce)("flex flex-wrap gap-[8px] px-[20px] pt-[12px]",l.class))},[2===l.uploadType?(n(!0),o(j,{key:0},F(e.list,(e=>(n(),o("div",{class:"flex min-w-[172px] max-w-[calc(50%-136px)] items-center rounded-[8px] bg-[#F5F6F7] p-[8px]",key:e.uid},[a(i,{class:"h-[24px] w-[24px]",name:"ic_"+e.type},null,8,["name"]),r("div",ut,[a(m,{effect:"dark",content:e.name,placement:"top"},{default:s((()=>[r("div",ct,d(e.name),1)])),_:2},1032,["content"]),0===e.status?(n(),o("div",dt,[a(v,{percentage:e.percent},{default:s((()=>[r("span",pt,d(100===e.percent?"解析中":"上传中"),1)])),_:2},1032,["percentage"])])):1===e.status?(n(),o("div",mt,d("html"===e.type?"网页":e.size),1)):f("",!0)]),r("div",{class:"ml-[8px] flex h-[16px] w-[16px] cursor-pointer items-center justify-center rounded-[50%] bg-[rgba(0,8,24,0.30)]",onClick:t=>p(e.uid)},[a(i,{class:"h-[8px] w-[8px]",name:"ic_close"})],8,ft)])))),128)):f("",!0),1===l.uploadType?(n(!0),o(j,{key:1},F(e.list,(e=>(n(),o("div",{class:"relative flex h-[58px] w-[58px] items-center justify-center rounded-[8px] bg-[#F5F6F7]",key:e.uid},[r("img",{class:"max-h-[100%] max-w-[100%] object-contain",src:e.imgUrl},null,8,vt),0===e.status?(n(),o("div",gt)):f("",!0),r("div",{class:"absolute right-[2px] top-[2px] flex h-[16px] w-[16px] cursor-pointer items-center justify-center rounded-[50%] bg-[rgba(0,8,24,0.30)]",onClick:t=>p(e.uid)},[a(i,{class:"h-[8px] w-[8px]",name:"ic_close"})],8,ht),0===e.status?(n(),P(i,{key:1,class:"absolute left-[calc(50%-16px)] top-[calc(50%-16px)] h-[32px] w-[32px] animate-spin",name:"ic_file_loading"})):f("",!0)])))),128)):f("",!0)],2)):f("",!0)}}}),[["__scopeId","data-v-e5612ee0"]]),bt=e({__name:"AgentPopover",props:{name:{},class:{type:[Array,String,null,Number,Boolean]}},setup(e,{expose:t}){const o=e,a=g(!1);return t({closePopover:()=>{a.value=!1}}),(e,t)=>{const i=fe;return n(),P(i,{visible:c(a),"onUpdate:visible":t[0]||(t[0]=e=>w(a)?a.value=e:null),"popper-class":c(ce)("!shadow-[0px_0px_12px_rgba(0,0,0,0.10)] !w-[614px] !rounded-[16px] bg-[#fff] !px-[27px] !py-[47px]",o.class),placement:"top",title:"","show-arrow":!1,trigger:"click"},{reference:s((()=>[l(e.$slots,"reference")])),default:s((()=>[l(e.$slots,"default")])),_:3},8,["visible","popper-class"])}}}),yt=e=>(T("data-v-5beca3ff"),e=e(),V(),e),kt={key:0,class:"flex items-center justify-center gap-[10px]"},Ct={class:"gap-[4px]"},_t=yt((()=>r("span",{class:"text-[16px] font-medium leading-[24px] text-[#2785FF]"}," 点击上传 ",-1))),wt={class:"text-[16px] font-normal leading-[24px] text-[#000818]"},St={class:"text-[14px] font-normal leading-[22px] text-[#B1B7C0]"},Mt={key:1,class:"flex items-center justify-center gap-[10px]"},Bt=yt((()=>r("div",{class:"text-[16px] font-normal leading-[24px] text-[#B1B7C0]"},"抱歉，暂不支持文件和链接混合上传",-1))),It=me(e({__name:"AgentFileUpload",props:{uploadResult:{},uploadType:{},hasUpload:{type:Boolean,default:!1},hasLink:{type:Boolean,default:!1},action:{},uploadObj:{},accept:{},uploadTip:{},onSuccess:{},onProgress:{},beforeUpload:{},onError:{},onExceed:{},onLinkUpload:{}},emits:["update:visible","close"],setup(e,{expose:l,emit:i}){const p=e,m=t((()=>he().currentAgentConfig)),v=g(""),h={device:"Web"},x=g(),b=t((()=>-1!==p.uploadResult.findIndex((e=>"html"===e.type)))),y=t((()=>p.uploadResult.length>=1&&-1===p.uploadResult.findIndex((e=>"html"===e.type)))),k=async e=>{if(p.beforeUpload){if(!1===await p.beforeUpload(e))return!1}return!0},C=(e,t,n)=>{p.onProgress&&p.onProgress(e,t,n)},_=(e,t,n)=>{p.onSuccess&&p.onSuccess(e,t,n)},S=()=>{p.onError&&p.onError()},M=()=>{p.onExceed&&p.onExceed()},B=()=>{p.onLinkUpload&&(p.onLinkUpload(v.value),v.value="")},W=()=>{ve().reportImmediate({event:"agent_chat_page_filebox_add_button_click",event_info:{origin:"agent_chat_page",entity:"filebox_add_button",event:"click"}})},E=()=>{ve().reportImmediate({event:"agent_chat_page_filebox_area_click",event_info:{origin:"agent_chat_page",entity:"filebox_area",event:"click"}})},N=()=>{ve().reportImmediate({event:"agent_chat_page_filebox_area_click",event_info:{origin:"agent_chat_page",entity:"filebox_add_link",event:"click"}})};I((()=>p.uploadResult.length),(e=>{e||O()}));const O=()=>{var e;null==(e=x.value)||e.clearFiles()};return l({resetFiles:O}),(e,t)=>{var l;const i=de,g=Se,I=Te,O=ge;return n(),o(j,null,[c(b)?f("",!0):(n(),o("div",kt,[a(i,{class:"h-[60px] w-[60px]",name:"ic_upload"}),a(g,{class:"uploadDrag",ref_key:"uploadRef",ref:x,timeout:6e5,"with-credentials":!0,headers:h,action:p.action,data:p.uploadObj,limit:(2===p.uploadType&&(null==(l=c(m))||l.id),1),"show-file-list":!1,accept:p.accept,"on-success":_,"on-progress":C,"before-upload":k,"on-error":S,"on-exceed":M,drag:""},{default:s((()=>[r("div",{class:"flex flex-col items-start justify-center gap-[4px]",onClick:W,onDragenter:E},[r("div",Ct,[_t,r("span",wt," 或拖拽"+d(1===p.uploadType?"图片":"文件")+"到此处添加 ",1)]),r("div",St,"*暂支持"+d(p.uploadTip)+"文件",1)],32)])),_:1},8,["action","data","limit","accept"])])),c(b)?(n(),o("div",Mt,[a(i,{class:"h-[60px] w-[60px]",name:"ic_upload2"}),Bt])):f("",!0),p.hasLink&&p.hasUpload?(n(),P(I,{key:2,class:"uploadLine !mx-[50px] !my-[30px] !w-[auto] border-t-[#EDEFF1]"},{default:s((()=>[A(" OR ")])),_:1})):f("",!0),p.hasLink?(n(),o("div",{key:3,class:u(["linkDiv flex items-center rounded-[8px] border-[1px] border-solid border-[#EDEFF1] bg-[#F5F6F7] py-[8px] pl-[1px] pr-[16px]",c(v)&&"linkOver"])},[a(O,{class:"linkInput",modelValue:c(v),"onUpdate:modelValue":t[0]||(t[0]=e=>w(v)?v.value=e:null),disabled:c(y),placeholder:c(y)?"抱歉，暂不支持文件和链接混合上传":"上传链接",onKeydown:R(B,["enter"]),onFocus:N},null,8,["modelValue","disabled","placeholder"]),r("div",{class:u(["linkIcon flex h-[24px] w-[24px] cursor-pointer items-center justify-center",c(y)&&"disableIcon"]),onClick:B},null,2)],2)):f("",!0)],64)}}}),[["__scopeId","data-v-5beca3ff"]]),Pt={3001:"上传或解析超时",20011:"文件摘要匹配失败",20014:"无法访问URL",20015:"URL不能在白名单中",20016:"请修改文件名重新上传"},Wt=me(e({__name:"Loading",props:{loading:{type:Boolean,default:!0}},setup:e=>(e,t)=>{const a=qe;return i((n(),o("div",{class:"loading relative flex h-[22px] w-[22px] items-center justify-center","element-loading-spinner":'<circle cx="11" cy="11" r="10" stroke="#E1E3E7" stroke-width="1.5" fill="none" /><circle class="path" cx="11" cy="11" r="10" stroke="#485568" stroke-width="1.5" fill="none"/>',"element-loading-svg-view-box":"0, 0, 22, 22"},[r("div",{style:v({transform:"scale(".concat(e.loading?"0.8":"1",")")})},[l(e.$slots,"default",{},void 0,!0)],4)])),[[a,e.loading]])}}),[["__scopeId","data-v-520650bc"]]),jt={class:"flex items-center text-base leading-[1.5] text-secondary"},Et=["src"],Nt={class:"text-sm leading-[22px] text-icon-text-1"},Ot=e({__name:"StatusText",props:{icon:{},text:{},loading:{type:Boolean}},setup:e=>(e,t)=>{const l=de;return n(),o("div",jt,[a(Wt,{class:"mr-[6px]",loading:e.loading},{default:s((()=>[e.icon.indexOf("https://")>-1?(n(),o("img",{key:0,class:"h-4 w-4",src:e.icon},null,8,Et)):(n(),P(l,{key:1,class:u(["h-4 w-4",{"animate-spin text-[#BEDAFF]":"i-loading"===e.icon}]),name:e.icon},null,8,["name","class"]))])),_:1},8,["loading"]),r("span",Nt,d(e.text),1)])}}),Lt={class:"tag flex items-center rounded px-2 py-1 text-xs leading-5 text-icon-text-2"},Ft=me(e({__name:"Tag",props:{text:{}},setup:e=>(e,t)=>(n(),o("div",Lt,[r("span",null,d(e.text),1)]))}),[["__scopeId","data-v-0350fe69"]]);var At={exports:{}};!function(e,t){let n=null;function o(){return null!==n}function l(e){n&&s(),n=e}function a(e){e===n&&(n=null)}function s(){n&&(n.closeMenu(),n=null)}const i={defaultDirection:"br",defaultMinWidth:100,defaultMaxWidth:600,defaultZindex:100,defaultAdjustPadding:{x:0,y:10}};function r(e,t){let n=e.offsetTop;return null!=e.offsetParent&&e.offsetParent!=t&&(n-=e.offsetParent.scrollTop,n+=r(e.offsetParent,t)),n}function u(e,t){let n=e.offsetLeft;return null!=e.offsetParent&&e.offsetParent!=t&&(n-=e.offsetParent.scrollLeft,n+=u(e.offsetParent,t)),n}function c(e,t,n,o){return{x:u(e,o)+t,y:r(e,o)+n}}const d="mx-menu-default-container",p="mx-menu-container-";let m=0;function f(e){const{getContainer:t,zIndex:n}=e;if(t){const e="function"==typeof t?t():t;if(e){let t=e.getAttribute("id");return t||(t=p+m++,e.setAttribute("id",t)),{eleId:t,container:e,isNew:!1}}}let o=document.getElementById(d);return o||(o=document.createElement("div"),o.setAttribute("id",d),o.setAttribute("class","mx-menu-ghost-host fullscreen"),document.body.appendChild(o)),o.style.zIndex=(null==n?void 0:n.toString())||i.defaultZindex.toString(),{eleId:d,container:o,isNew:!0}}function v(e){return"number"==typeof e?"".concat(e,"px"):e}const g=t.defineComponent({props:{vnode:{type:null},data:{type:null,default:null}},setup(e){const{vnode:n,data:o}=t.toRefs(e);return()=>"function"==typeof n.value?n.value(o.value):n.value}}),h=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},x={},b={class:"mx-checked-mark","aria-hidden":"true",viewBox:"0 0 1024 1024"},y=[t.createElementVNode("path",{d:"M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z"},null,-1)];function k(e,n){return t.openBlock(),t.createElementBlock("svg",b,y)}const C=h(x,[["render",k]]),_={},w={class:"mx-right-arrow","aria-hidden":"true",viewBox:"0 0 1024 1024"},S=[t.createElementVNode("path",{d:"M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z"},null,-1)];function M(e,n){return t.openBlock(),t.createElementBlock("svg",w,S)}const B=h(_,[["render",M]]),I={class:"mx-item-row"},P=["xlink:href"],W={key:1,class:"label"},j={class:"mx-item-row"},E={class:"mx-shortcut"},N=t.defineComponent({__name:"ContextMenuItem",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},customRender:{type:Function,default:null},customClass:{type:String,default:""},clickHandler:{type:Function,default:null},label:{type:[String,Object,Function],default:""},icon:{type:[String,Object,Function],default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},clickableWhenHasChildren:{type:Boolean,default:!1},rawMenuItem:{type:Object,default:void 0}},emits:["click","subMenuOpen","subMenuClose"],setup(e,{expose:n,emit:o}){const l=e,a=o,{clickHandler:s,clickClose:i,clickableWhenHasChildren:r,disabled:u,hidden:c,label:d,icon:p,iconFontClass:m,showRightArrow:f,shortcut:v,hasChildren:h}=t.toRefs(l),x=t.ref(!1),b=t.ref(!1),y=t.ref(),k=t.inject("globalHasSlot"),_=t.inject("globalRenderSlot"),w=t.inject("globalTheme"),S=t.inject("globalIconFontClass"),M=t.inject("globalMenuTransitionProps"),N=t.inject("globalClickCloseClassName"),O=t.inject("globalIgnoreClickClassName"),L=t.inject("globalCloseMenu"),F=t.inject("menuContext"),A={showSubMenu:()=>x.value?(F.markActiveMenuItem(A,!0),!0):!!h.value&&(T(),!0),isDisabledOrHidden:()=>u.value||c.value,getElement:()=>y.value,focus:()=>b.value=!0,blur:()=>b.value=!1,click:R};function R(e){if(!u.value){if(e){const t=e.target;if(t.classList.contains("mx-context-no-clickable")||O&&t.classList.contains(O))return;if(N&&t.classList.contains(N))return e.stopPropagation(),void L(l.rawMenuItem)}h.value?r.value?("function"==typeof s.value&&s.value(e),a("click",e)):x.value||T():("function"==typeof s.value&&s.value(e),a("click",e),i.value&&L(l.rawMenuItem))}}function T(e){b.value=!1,F.checkCloseOtherSubMenuTimeOut()||F.closeOtherSubMenu(),u.value||(F.markActiveMenuItem(A),h.value&&(e||F.markThisOpenedByKeyBoard(),F.addOpenedSubMenu((()=>{b.value=!1,x.value=!1,a("subMenuClose")})),x.value=!0,a("subMenuOpen")))}function V(){return{disabled:u.value,label:d.value,icon:p.value,iconFontClass:m.value,showRightArrow:f.value,clickClose:i.value,clickableWhenHasChildren:r.value,shortcut:v.value,theme:w,isOpen:x,hasChildren:h,onClick:R,onMouseEnter:T,closeMenu:L}}return t.onMounted((()=>{F.isMenuItemDataCollectedFlag()?t.nextTick((()=>{let e=0;const t=F.getElement();if(t){let n=0;for(let o=0;o<t.children.length;o++){const l=t.children[o];if("ContextMenuItem"===l.getAttribute("data-type")){if(l===y.value){e=n;break}n++}}}F.addChildMenuItem(A,e)})):F.addChildMenuItem(A)})),t.onBeforeUnmount((()=>{F.removeChildMenuItem(A)})),n({showSubMenu:x,keyBoardFocusMenu:b}),(n,o)=>t.unref(c)?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",{key:0,class:"mx-context-menu-item-wrapper",ref_key:"menuItemRef",ref:y,"data-type":"ContextMenuItem"},[t.unref(k)("itemRender")?(t.openBlock(),t.createBlock(t.unref(g),{key:0,vnode:()=>t.unref(_)("itemRender",V())},null,8,["vnode"])):e.customRender?(t.openBlock(),t.createBlock(t.unref(g),{key:1,vnode:e.customRender,data:V()},null,8,["vnode","data"])):(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass(["mx-context-menu-item",t.unref(u)?"disabled":"",b.value?"keyboard-focus":"",e.customClass?" "+e.customClass:"",x.value?"open":""]),onClick:R,onMouseenter:T},[t.renderSlot(n.$slots,"default",{},(()=>[t.createElementVNode("div",I,[t.createElementVNode("div",{class:t.normalizeClass(["mx-icon-placeholder",e.preserveIconWidth?"preserve-width":""])},[t.renderSlot(n.$slots,"icon",{},(()=>[t.unref(k)("itemIconRender")?(t.openBlock(),t.createBlock(t.unref(g),{key:0,vnode:()=>t.unref(_)("itemIconRender",V())},null,8,["vnode"])):"string"==typeof e.svgIcon&&e.svgIcon?(t.openBlock(),t.createElementBlock("svg",t.mergeProps({key:1,class:"icon svg"},e.svgProps),[t.createElementVNode("use",{"xlink:href":e.svgIcon},null,8,P)],16)):"string"!=typeof t.unref(p)?(t.openBlock(),t.createBlock(t.unref(g),{key:2,vnode:t.unref(p),data:t.unref(p)},null,8,["vnode","data"])):"string"==typeof t.unref(p)&&""!==t.unref(p)?(t.openBlock(),t.createElementBlock("i",{key:3,class:t.normalizeClass(t.unref(p)+" icon "+t.unref(m)+" "+t.unref(S))},null,2)):t.createCommentVNode("",!0)])),e.checked?t.renderSlot(n.$slots,"check",{key:0},(()=>[t.unref(k)("itemCheckRender")?(t.openBlock(),t.createBlock(t.unref(g),{key:0,vnode:()=>t.unref(_)("itemCheckRender",V())},null,8,["vnode"])):t.createCommentVNode("",!0),t.createVNode(C)])):t.createCommentVNode("",!0)],2),t.renderSlot(n.$slots,"label",{},(()=>[t.unref(k)("itemLabelRender")?(t.openBlock(),t.createBlock(t.unref(g),{key:0,vnode:()=>t.unref(_)("itemLabelRender",V())},null,8,["vnode"])):"string"==typeof t.unref(d)?(t.openBlock(),t.createElementBlock("span",W,t.toDisplayString(t.unref(d)),1)):(t.openBlock(),t.createBlock(t.unref(g),{key:2,vnode:t.unref(d),data:t.unref(d)},null,8,["vnode","data"]))]))]),t.createElementVNode("div",j,[t.unref(v)?t.renderSlot(n.$slots,"shortcut",{key:0},(()=>[t.unref(k)("itemShortcutRender")?(t.openBlock(),t.createBlock(t.unref(g),{key:0,vnode:()=>t.unref(_)("itemShortcutRender",V())},null,8,["vnode"])):t.createCommentVNode("",!0),t.createElementVNode("span",E,t.toDisplayString(t.unref(v)),1)])):t.createCommentVNode("",!0),t.unref(f)?t.renderSlot(n.$slots,"rightArrow",{key:1},(()=>[t.unref(k)("itemRightArrowRender")?(t.openBlock(),t.createBlock(t.unref(g),{key:0,vnode:()=>t.unref(_)("itemRightArrowRender",V())},null,8,["vnode"])):t.createCommentVNode("",!0),t.createVNode(B)])):t.createCommentVNode("",!0)])]))],34)),t.unref(M)?(t.openBlock(),t.createBlock(t.Transition,t.normalizeProps(t.mergeProps({key:3},t.unref(M))),{default:t.withCtx((()=>[x.value?t.renderSlot(n.$slots,"submenu",{key:0}):t.createCommentVNode("",!0)])),_:3},16)):x.value?t.renderSlot(n.$slots,"submenu",{key:4}):t.createCommentVNode("",!0)],512))}}),O=t.defineComponent({name:"ContextMenuSperator",components:{VNodeRender:g},setup:()=>({globalHasSlot:t.inject("globalHasSlot"),globalRenderSlot:t.inject("globalRenderSlot")})}),L={key:1,class:"mx-context-menu-item-sperator mx-context-no-clickable"};function F(e,n,o,l,a,s){const i=t.resolveComponent("VNodeRender");return e.globalHasSlot("separatorRender")?(t.openBlock(),t.createBlock(i,{key:0,vnode:()=>e.globalRenderSlot("separatorRender",{})},null,8,["vnode"])):(t.openBlock(),t.createElementBlock("div",L))}const A=h(O,[["render",F]]),R=t.defineComponent({name:"ContextSubMenu",components:{ContextMenuItem:N,ContextMenuSeparator:A,ContextMenuIconRight:B},props:{items:{type:Object,default:null},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0},adjustPosition:{type:Boolean,default:!0},direction:{type:String,default:"br"}},setup(e){const n=t.inject("menuContext"),o=t.inject("globalOptions"),l=t.inject("globalHasSlot"),a=t.inject("globalRenderSlot"),s=t.inject("globalTheme"),{zIndex:c,getParentWidth:d,getParentHeight:p}=n,{adjustPosition:m}=t.toRefs(e),f=t.ref(),g=t.ref(),h=t.ref(),x=[],b=t.inject("globalSetCurrentSubMenu"),y=[];let k=null,C=0;function _(){k&&k.blur()}function w(e,t){if(e){for(let n=void 0!==t?t:0;n<y.length;n++)if(!y[n].isDisabledOrHidden()){S(n);break}}else for(let n=void 0!==t?t:y.length-1;n>=0;n--)if(!y[n].isDisabledOrHidden()){S(n);break}}function S(e){if(k&&_(),void 0!==e&&(k=y[Math.max(0,Math.min(e,y.length-1))]),k&&(k.focus(),F.value)){const e=k.getElement();e&&(j.value=Math.min(Math.max(-E.value,-e.offsetTop-e.offsetHeight+R.value),0))}}function M(){b(B)}const B={isTopLevel:()=>null===n.getParentContext(),closeSelfAndActiveParent:()=>{const e=W.getParentContext();if(e){e.closeOtherSubMenu();const t=e.getSubMenuInstanceContext();if(t)return t.focusCurrentItem(),!0}return!1},closeCurrentSubMenu:()=>{var e;return null==(e=W.getParentContext())?void 0:e.closeOtherSubMenu()},moveCurrentItemFirst:()=>w(!0),moveCurrentItemLast:()=>w(!1),moveCurrentItemDown:()=>w(!0,k?y.indexOf(k)+1:0),moveCurrentItemUp:()=>w(!1,k?y.indexOf(k)-1:0),focusCurrentItem:()=>S(),openCurrentItemSubMenu:()=>!!k&&(null==k?void 0:k.showSubMenu()),triggerCurrentItemClick:e=>null==k?void 0:k.click(e)};let I=!1,P=!1;const W={zIndex:c+1,container:n.container,adjustPadding:o.adjustPadding||i.defaultAdjustPadding,getParentWidth:()=>{var e;return(null==(e=f.value)?void 0:e.offsetWidth)||0},getParentHeight:()=>{var e;return(null==(e=f.value)?void 0:e.offsetHeight)||0},getParentX:()=>A.value.x,getParentY:()=>A.value.y,getParentAbsX:()=>f.value?u(f.value,n.container):0,getParentAbsY:()=>f.value?r(f.value,n.container):0,getPositon:()=>[0,0],addOpenedSubMenu(e){x.push(e)},closeOtherSubMenu(){x.forEach((e=>e())),x.splice(0,x.length),b(B)},checkCloseOtherSubMenuTimeOut:()=>!!C&&(clearTimeout(C),C=0,!0),closeOtherSubMenuWithTimeOut(){C=setTimeout((()=>{C=0,this.closeOtherSubMenu()}),200)},addChildMenuItem:(e,t)=>{void 0===t?y.push(e):y.splice(t,0,e)},removeChildMenuItem:e=>{y.splice(y.indexOf(e),1)},markActiveMenuItem:(e,t=!1)=>{_(),k=e,t&&S()},markThisOpenedByKeyBoard:()=>{I=!0},isOpenedByKeyBoardFlag:()=>!!I&&(I=!1,!0),isMenuItemDataCollectedFlag:()=>P,getElement:()=>f.value||null,getParentContext:()=>n,getSubMenuInstanceContext:()=>B};t.provide("menuContext",W);const j=t.ref(0),E=t.ref(0);function N(e){j.value=e?Math.min(Math.max(j.value-50,-E.value),0):Math.min(j.value+50,0)}function O(e){e.preventDefault(),e.stopPropagation(),N(e.deltaY>0)}function L(e){o.mouseScroll&&(e.preventDefault(),e.stopPropagation(),N(e.deltaY>0))}const F=t.ref(!1),A=t.ref({x:0,y:0}),R=t.ref(0);return t.onMounted((()=>{var l,a,s,i;const c=n.getPositon();A.value={x:null!=(a=null!=(l=c[0])?l:o.xOffset)?a:0,y:null!=(i=null!=(s=c[1])?s:o.yOffset)?i:0},b(B),t.nextTick((()=>{var o,l,a,s,i,c;const v=f.value;if(v&&g.value){const{container:f}=n,g=null!=(o=null==d?void 0:d())?o:0,h=null!=(l=null==p?void 0:p())?l:0,x="number"==typeof n.adjustPadding?n.adjustPadding:null!=(a=null==(i=n.adjustPadding)?void 0:i.x)?a:0,b="number"==typeof n.adjustPadding?n.adjustPadding:null!=(s=null==(c=n.adjustPadding)?void 0:c.y)?s:0,y=h>0?b:0,k=document.documentElement.scrollHeight,C=document.documentElement.scrollWidth,_=Math.min(C,f.offsetWidth),w=Math.min(k,f.offsetHeight);let S=u(v,f),M=r(v,f);e.direction.includes("l")?A.value.x-=v.offsetWidth+x:e.direction.includes("r")?A.value.x+=g+x:(A.value.x+=g/2,A.value.x-=(v.offsetWidth+x)/2),e.direction.includes("t")?A.value.y-=v.offsetHeight+2*b:e.direction.includes("b")?A.value.y-=b:A.value.y-=(v.offsetHeight+b)/2,m.value&&t.nextTick((()=>{S=u(v,f),M=r(v,f);const e=S+v.offsetWidth-_,t=M+v.offsetHeight+2*y-w;if(F.value=t>0,E.value=v.offsetHeight-w+2*y,e>0){const e=g+v.offsetWidth-x,t=S;A.value.x-=e>t?t:e}if(F.value){const e=t,n=M;A.value.y-=e>n?n-y:e-y,R.value=w-2*y}else R.value=0}))}null==v||v.focus({preventScroll:!0}),n.isOpenedByKeyBoardFlag()&&w(!0),P=!0}))})),{menu:f,scroll:g,options:o,zIndex:c,constOptions:i,scrollValue:j,upScrollButton:h,overflow:F,position:A,scrollHeight:E,maxHeight:R,globalHasSlot:l,globalRenderSlot:a,globalTheme:s,onScroll:N,onSubMenuBodyClick:M,onMouseWhell:L,onMouseWhellMx:O,solveNumberOrStringSize:v}}}),T={key:0,class:"mx-context-menu-updown placeholder"},V={key:1,class:"mx-context-menu-updown placeholder"},H={class:"mx-context-menu-scroll",ref:"scroll"};function z(e,n,o,l,a,s){const i=t.resolveComponent("ContextMenuSeparator"),r=t.resolveComponent("ContextSubMenu",!0),u=t.resolveComponent("ContextMenuItem"),c=t.resolveComponent("ContextMenuIconRight");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass("mx-context-menu "+(e.options.customClass?e.options.customClass:"")+" "+e.globalTheme),style:t.normalizeStyle({maxWidth:e.maxWidth?e.solveNumberOrStringSize(e.maxWidth):"".concat(e.constOptions.defaultMaxWidth,"px"),minWidth:e.minWidth?e.solveNumberOrStringSize(e.minWidth):"".concat(e.constOptions.defaultMinWidth,"px"),maxHeight:e.overflow&&e.maxHeight>0?"".concat(e.maxHeight,"px"):void 0,zIndex:e.zIndex,left:"".concat(e.position.x,"px"),top:"".concat(e.position.y,"px")}),"data-type":"ContextSubMenu",onClick:n[4]||(n[4]=(...t)=>e.onSubMenuBodyClick&&e.onSubMenuBodyClick(...t)),onWheel:n[5]||(n[5]=(...t)=>e.onMouseWhell&&e.onMouseWhell(...t))},[t.createElementVNode("div",{class:t.normalizeClass(["mx-context-menu-items"]),ref:"menu",style:t.normalizeStyle({top:"".concat(e.scrollValue,"px")})},[t.renderSlot(e.$slots,"default",{},(()=>[e.overflow&&e.options.updownButtonSpaceholder?(t.openBlock(),t.createElementBlock("div",T)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.items,((n,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:o},[!0!==n.hidden&&"up"===n.divided?(t.openBlock(),t.createBlock(i,{key:0})):t.createCommentVNode("",!0),!0!==n.hidden&&"self"===n.divided?(t.openBlock(),t.createBlock(i,{key:1})):(t.openBlock(),t.createBlock(u,{key:2,clickHandler:n.onClick?e=>n.onClick(e):void 0,disabled:n.disabled,hidden:n.hidden,icon:n.icon,iconFontClass:n.iconFontClass,svgIcon:n.svgIcon,svgProps:n.svgProps,label:n.label,customRender:n.customRender,customClass:n.customClass,checked:n.checked,shortcut:n.shortcut,clickClose:n.clickClose,clickableWhenHasChildren:n.clickableWhenHasChildren,preserveIconWidth:void 0!==n.preserveIconWidth?n.preserveIconWidth:e.options.preserveIconWidth,showRightArrow:n.children&&n.children.length>0,hasChildren:n.children&&n.children.length>0,rawMenuItem:n,onSubMenuOpen:n.onSubMenuOpen,onSubMenuClose:n.onSubMenuClose},t.createSlots({_:2},[n.children&&n.children.length>0?{name:"submenu",fn:t.withCtx((()=>[t.createVNode(r,{items:n.children,maxWidth:n.maxWidth,minWidth:n.minWidth,adjustPosition:void 0!==n.adjustSubMenuPosition?n.adjustSubMenuPosition:e.options.adjustPosition,direction:void 0!==n.direction?n.direction:e.options.direction},null,8,["items","maxWidth","minWidth","adjustPosition","direction"])])),key:"0"}:void 0]),1032,["clickHandler","disabled","hidden","icon","iconFontClass","svgIcon","svgProps","label","customRender","customClass","checked","shortcut","clickClose","clickableWhenHasChildren","preserveIconWidth","showRightArrow","hasChildren","rawMenuItem","onSubMenuOpen","onSubMenuClose"])),!0===n.hidden||"down"!==n.divided&&!0!==n.divided?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(i,{key:3}))],64)))),128)),e.overflow&&e.options.updownButtonSpaceholder?(t.openBlock(),t.createElementBlock("div",V)):t.createCommentVNode("",!0)]))],4),t.createElementVNode("div",H,[t.withDirectives(t.createElementVNode("div",{ref:"upScrollButton",class:t.normalizeClass("mx-context-menu-updown mx-context-no-clickable up"+(e.overflow&&e.scrollValue<0?"":" disabled")),onClick:n[0]||(n[0]=t=>e.onScroll(!1)),onWheel:n[1]||(n[1]=(...t)=>e.onMouseWhellMx&&e.onMouseWhellMx(...t))},[t.createVNode(c)],34),[[t.vShow,e.overflow]]),t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass("mx-context-menu-updown mx-context-no-clickable down"+(e.overflow&&e.scrollValue>-e.scrollHeight?"":" disabled")),onClick:n[2]||(n[2]=t=>e.onScroll(!0)),onWheel:n[3]||(n[3]=(...t)=>e.onMouseWhellMx&&e.onMouseWhellMx(...t))},[t.createVNode(c)],34),[[t.vShow,e.overflow]])],512)],38)}const D=h(R,[["render",z]]),$={class:"mx-menu-ghost-host"},U=t.defineComponent({__name:"ContextSubMenuWrapper",props:{options:{type:Object,default:null},show:{type:Object,default:null},container:{type:Object,default:null},isFullScreenContainer:{type:Boolean,default:!0}},emits:["close","closeAnimFinished"],setup(e,{expose:n,emit:o}){var s,r,u,c,d;const p=e,m=o,f=t.useSlots(),{options:v,show:g,container:h}=t.toRefs(p);t.onMounted((()=>{g.value&&y()})),t.onBeforeUnmount((()=>{w()})),t.watch(g,(e=>{e?y():w()}));const x={closeMenu:k,isClosed:C};let b=!1;function y(){_(),l(x)}function k(e){b=!0,m("close",e),v.value.menuTransitionProps||m("closeAnimFinished"),a(x)}function C(){return b}function _(){setTimeout((()=>{document.addEventListener("click",I,!0),document.addEventListener("contextmenu",I,!0),document.addEventListener("scroll",B,!0),!p.isFullScreenContainer&&h.value&&h.value.addEventListener("scroll",B,!0),!1!==v.value.keyboardControl&&document.addEventListener("keydown",M)}),50)}function w(){document.removeEventListener("contextmenu",I,!0),document.removeEventListener("click",I,!0),document.removeEventListener("scroll",B,!0),!p.isFullScreenContainer&&h.value&&h.value.removeEventListener("scroll",B,!0),!1!==v.value.keyboardControl&&document.removeEventListener("keydown",M)}const S=t.ref();function M(e){var t,n,o,l,a,s,i,r,u,c,d,p,m;let f=!0;switch(e.key){case"Escape":!1===(null==(t=S.value)?void 0:t.isTopLevel())?null==(n=S.value)||n.closeCurrentSubMenu():k();break;case"ArrowDown":null==(o=S.value)||o.moveCurrentItemDown();break;case"ArrowUp":null==(l=S.value)||l.moveCurrentItemUp();break;case"Home":null==(a=S.value)||a.moveCurrentItemFirst();break;case"End":null==(s=S.value)||s.moveCurrentItemLast();break;case"ArrowLeft":null!=(i=S.value)&&i.closeSelfAndActiveParent()||null==(u=(r=v.value).onKeyFocusMoveLeft)||u.call(r);break;case"ArrowRight":null!=(c=S.value)&&c.openCurrentItemSubMenu()||null==(p=(d=v.value).onKeyFocusMoveRight)||p.call(d);break;case"Enter":null==(m=S.value)||m.triggerCurrentItemClick(e);break;default:f=!1}f&&S.value&&(e.stopPropagation(),e.preventDefault())}function B(){!1!==v.value.closeWhenScroll&&k()}function I(e){P(e.target)}function P(e){for(;e;){if(e.classList&&e.classList.contains("mx-menu-host"))return;e=e.parentNode}!1!==v.value.clickCloseOnOutside&&(w(),k())}return t.provide("globalSetCurrentSubMenu",(e=>S.value=e)),t.provide("globalOptions",v.value),t.provide("globalCloseMenu",k),t.provide("globalTheme",(null==(s=v.value)?void 0:s.theme)||"light"),t.provide("globalIsFullScreenContainer",p.isFullScreenContainer),t.provide("globalClickCloseClassName",null==(r=v.value)?void 0:r.clickCloseClassName),t.provide("globalIgnoreClickClassName",null==(u=v.value)?void 0:u.ignoreClickClassName),t.provide("globalIconFontClass",(null==(c=v.value)?void 0:c.iconFontClass)||"iconfont"),t.provide("globalMenuTransitionProps",null==(d=v.value)?void 0:d.menuTransitionProps),t.provide("globalHasSlot",(e=>void 0!==f[e])),t.provide("globalRenderSlot",((e,n)=>t.renderSlot(f,e,{...n},(()=>[t.h("span","Render slot failed")]),!1))),t.provide("menuContext",{zIndex:v.value.zIndex||i.defaultZindex,container:h.value,adjustPadding:{x:0,y:0},getParentAbsY:()=>v.value.x,getParentAbsX:()=>v.value.y,getParentX:()=>0,getParentY:()=>0,getParentWidth:()=>0,getParentHeight:()=>0,getPositon:()=>[v.value.x,v.value.y],closeOtherSubMenuWithTimeOut:()=>{},checkCloseOtherSubMenuTimeOut:()=>!1,addOpenedSubMenu:()=>{},closeOtherSubMenu:()=>{},getParentContext:()=>null,getSubMenuInstanceContext:()=>null,getElement:()=>null,addChildMenuItem:()=>{},removeChildMenuItem:()=>{},markActiveMenuItem:()=>{},markThisOpenedByKeyBoard:()=>{},isOpenedByKeyBoardFlag:()=>!1,isMenuItemDataCollectedFlag:()=>!1}),n(x),(e,n)=>(t.openBlock(),t.createElementBlock("div",$,[t.unref(v).menuTransitionProps?(t.openBlock(),t.createBlock(t.Transition,t.mergeProps({key:0,appear:""},t.unref(v).menuTransitionProps,{onAfterLeave:n[0]||(n[0]=e=>m("closeAnimFinished"))}),{default:t.withCtx((()=>[t.unref(g)?(t.openBlock(),t.createBlock(D,{key:0,class:"mx-menu-host",items:t.unref(v).items,adjustPosition:t.unref(v).adjustPosition,maxWidth:t.unref(v).maxWidth||t.unref(i).defaultMaxWidth,minWidth:t.unref(v).minWidth||t.unref(i).defaultMinWidth,direction:t.unref(v).direction||t.unref(i).defaultDirection},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default")])),_:3},8,["items","adjustPosition","maxWidth","minWidth","direction"])):t.createCommentVNode("",!0)])),_:3},16)):t.unref(g)?(t.openBlock(),t.createBlock(D,{key:1,class:"mx-menu-host",items:t.unref(v).items,adjustPosition:t.unref(v).adjustPosition,maxWidth:t.unref(v).maxWidth||t.unref(i).defaultMaxWidth,minWidth:t.unref(v).minWidth||t.unref(i).defaultMinWidth,direction:t.unref(v).direction||t.unref(i).defaultDirection},{default:t.withCtx((()=>[t.renderSlot(e.$slots,"default")])),_:3},8,["items","adjustPosition","maxWidth","minWidth","direction"])):t.createCommentVNode("",!0)]))}}),K=t.defineComponent({name:"ContextMenu",emits:["update:show","close"],props:{options:{type:Object,default:null},show:{type:Boolean,default:!1}},setup(e,n){const{options:o,show:l}=t.toRefs(e);return n.expose({closeMenu:()=>n.emit("update:show",!1),isClosed:()=>!l.value}),()=>{const{isNew:e,container:a,eleId:s}=f(o.value);return[t.h(t.Teleport,{to:"#".concat(s)},[t.h(U,{options:o,show:l,container:a,isFullScreenContainer:!e,onClose:e=>{var t,l;n.emit("update:show",!1),n.emit("close"),null==(l=(t=o.value).onClose)||l.call(t,e)}},n.slots)])]}}}),Z=t.defineComponent({name:"ContextMenuGroup",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},clickHandler:{type:Function,default:null},label:{type:String,default:""},icon:{type:String,default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},adjustSubMenuPosition:{type:Boolean,default:void 0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0}},setup(e,n){const o=t.inject("globalOptions"),{adjustSubMenuPosition:l,maxWidth:a,minWidth:s}=t.toRefs(e),i=typeof l.value<"u"?l.value:o.adjustPosition;return()=>t.h(N,{...e,showRightArrow:!0,maxWidth:void 0,minWidth:void 0,adjustSubMenuPosition:void 0,hasChildren:void 0!==typeof n.slots.default},n.slots.default?{submenu:()=>t.h(D,{maxWidth:a.value,minWidth:s.value,adjustPosition:i},{default:n.slots.default})}:void 0)}});function q(e,n,o,l){const a=t.ref(!0),s=t.h(U,{options:e,show:a,container:n,isFullScreenContainer:!o,onCloseAnimFinished:()=>{t.render(null,n)},onClose:t=>{var n;null==(n=e.onClose)||n.call(e,t),a.value=!1}},l);return t.render(s,n),s.component}function Y(e,t){const n=f(e);return q(e,n.container,n.isNew,t).exposed}const X={install(e){e.config.globalProperties.$contextmenu=Y,e.component("ContextMenu",K),e.component("ContextMenuItem",N),e.component("ContextMenuGroup",Z),e.component("ContextMenuSperator",A),e.component("ContextMenuSeparator",A),e.component("ContextSubMenu",D)},showContextMenu:(e,t)=>Y(e,t),isAnyContextMenuOpen:()=>o(),closeContextMenu:s,transformMenuPosition:c},G={},Q={class:"mx-menu-bar-icon-menu",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200"},J=[t.createElementVNode("path",{d:"M133.310936 296.552327l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949 0-19.781623-15.997312-35.950949-35.950949-35.950949L133.310936 224.650428c-19.781623 0-35.950949 16.169326-35.950949 35.950949C97.359987 280.383 113.529313 296.552327 133.310936 296.552327z"},null,-1),t.createElementVNode("path",{d:"M890.51705 476.135058 133.310936 476.135058c-19.781623 0-35.950949 16.169326-35.950949 35.950949 0 19.781623 16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-16.169326 35.950949-35.950949C926.467999 492.304384 910.298673 476.135058 890.51705 476.135058z"},null,-1),t.createElementVNode("path",{d:"M890.51705 727.447673 133.310936 727.447673c-19.781623 0-35.950949 15.997312-35.950949 35.950949s16.169326 35.950949 35.950949 35.950949l757.206115 0c19.781623 0 35.950949-15.997312 35.950949-35.950949S910.298673 727.447673 890.51705 727.447673z"},null,-1)];function ee(e,n){return t.openBlock(),t.createElementBlock("svg",Q,J)}const te=h(G,[["render",ee]]),ne=["onClick","onMouseenter"],oe=t.defineComponent({__name:"MenuBar",props:{options:{type:Object,default:null}},setup(e){const n=e,o=t.ref(),l=t.ref(!1),a=t.ref([]),s=t.ref(null);function i(){l.value=!0}function c(){l.value=!1}t.onMounted((()=>{a.value=n.options.items||[]})),t.watch((()=>n.options),(()=>{a.value=n.options.items||[]}));let d=null,p=-1;function m(){p<a.value.length-1?p++:p=0,g(p,a.value[p])}function f(){p>0?p--:p=a.value.length-1,g(p,a.value[p])}function v(e){var t;const o=null!=(t=n.options.barPopDirection)?t:"bl";let l=0,a=0;return a=o.startsWith("b")?r(e)+e.offsetHeight:o.startsWith("t")?r(e):r(e)+e.offsetHeight/2,l=o.endsWith("l")?u(e):o.startsWith("r")?u(e)+e.offsetWidth:u(e)+e.offsetWidth/2,{x:l,y:a}}function g(e,t){var a;if(p=e,!t.children)return;d&&(d.closeMenu(),d=null,l.value=!0),s.value=t;const i=null==(a=o.value)?void 0:a.children[e];if(i){const{x:e,y:o}=v(i);d=X.showContextMenu({...n.options,items:t.children,x:e,y:o,onKeyFocusMoveLeft(){f()},onKeyFocusMoveRight(){m()},onClose(){s.value==t&&(l.value=!1,s.value=null)}})}}function h(){p=0;const e=o.value;if(e){const{x:t,y:o}=v(e);d=X.showContextMenu({...n.options,x:t,y:o})}}function x(e,t){t?(l.value=!0,g(e,t),t.onClick&&(!0===t.clickableWhenHasChildren&&t.children&&t.children.length>0||!t.children||0===t.children.length)&&t.onClick()):h()}function b(e,t){l.value&&g(e,t)}return(n,l)=>{var r;return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["mx-menu-bar",null!=(r=e.options.theme)?r:"",e.options.mini?"mini":""]),onFocus:i,onBlur:c},[t.renderSlot(n.$slots,"prefix"),e.options.mini?(t.openBlock(),t.createElementBlock("div",{key:0,ref_key:"menuBarContent",ref:o,class:"mx-menu-bar-content"},[t.createElementVNode("div",{class:"mx-menu-bar-item",onClick:l[0]||(l[0]=e=>x(0,null))},[t.createVNode(te)])],512)):(t.openBlock(),t.createElementBlock("div",{key:1,ref_key:"menuBarContent",ref:o,class:"mx-menu-bar-content"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.value,((e,n)=>(t.openBlock(),t.createElementBlock("div",{key:n,class:t.normalizeClass(["mx-menu-bar-item",e==s.value?"active":""]),onClick:t=>x(n,e),onMouseenter:t=>b(n,e)},t.toDisplayString(e.label),43,ne)))),128))],512)),t.renderSlot(n.$slots,"suffix")],34)}}});e.ContextMenu=K,e.ContextMenuGroup=Z,e.ContextMenuItem=N,e.ContextMenuSeparator=A,e.MenuBar=oe,e.default=X,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(At.exports,Me);const Rt=be(At.exports);function Tt(){const e=Be(),t=he(),{createDocWithAsk:n,checkDocById:o,insertContent:l}=e,{editorVisible:a}=H(e),{currentAgentConfig:s}=H(t),{copy:i}=ye({legacy:!0}),r=g(""),u=g(""),c=g(),d=()=>{const e=window.getSelection();if(!e||(null==e?void 0:e.rangeCount)<1)return;const t=e.toString();i(t),ke("复制成功",{icon:"success"}),ve().reportImmediate({event:"agent_chat_page_answer_card_right_copy_click",event_info:{origin:"agent_chat_page",entity:"answer_card_right_copy",event:"click",agent_id:u.value,ask_id:r.value,card_type:"markdown"}})},p=async()=>{const e=window.getSelection();if(!e||(null==e?void 0:e.rangeCount)<1)return;const l=e.toString(),a=await n({content:l,ask_id:r.value,conversation_id:c.value});i(l),a&&(ke("复制并创建文档成功",{icon:"success"}),t.updateRelateDocId({askId:r.value,docId:a}),o(a)),ve().reportImmediate({event:"agent_chat_page_answer_card_right_create_click",event_info:{origin:"agent_chat_page",entity:"answer_card_right_create",event:"click",agent_id:u.value,ask_id:r.value,card_type:"markdown"}})},m=()=>{const e=window.getSelection();if(!e||(null==e?void 0:e.rangeCount)<1)return;const t=e.toString();i(t),l((e=>{if(e&&e.indexOf("\n")>-1){const t=e.split("\n");e="<p>"+(e=t.join("</p><p>"))+"</p>"}return e})(t)),ke("复制并添加到文档成功",{icon:"success"}),ve().reportImmediate({event:"agent_chat_page_answer_card_right_add_click",event_info:{origin:"agent_chat_page",entity:"answer_card_right_add",event:"click",agent_id:u.value,ask_id:r.value,card_type:"markdown"}})};return{showMenu:e=>{var t,n;const{event:o,ask_id:l,conversation_id:i,docId:f,agent_id:v}=e;o.preventDefault();const g=window.getSelection();if(!g||(null==g?void 0:g.rangeCount)<1)return;const{x:h,y:x}=o,b=null==g?void 0:g.getRangeAt(0),y=null==b?void 0:b.getClientRects();let k=!1;for(let a=0;a<(null==y?void 0:y.length);a++){const e=y[a];if(!e)continue;const{left:t,right:n,top:o,bottom:l}=e;h>t&&h<n&&x>o&&x<l&&(k=!0)}k&&(Rt.showContextMenu({x:h,y:x,zIndex:3,minWidth:160,items:[{label:"复制",onClick:d},{label:"复制并创建文档",onClick:p,hidden:!!f||!(null==(t=s.value.configs)?void 0:t.enable_document)},{label:"复制并添加到文档",onClick:m,hidden:!a.value||!(null==(n=s.value.configs)?void 0:n.enable_document)}]}),r.value=l,u.value=v,c.value=i,ve().reportImmediate({event:"agent_chat_page_answer_card_right_click",event_info:{origin:"agent_chat_page",entity:"answer_card_right",event:"click",agent_id:v,ask_id:l,card_type:"markdown"}}))}}}const Vt={class:"flex flex-col gap-4"},Ht=["onClick"],zt={class:"flex shrink grow basis-0 flex-col items-start justify-start gap-2"},Dt={class:"flex items-center justify-between self-stretch"},$t={class:"flex items-center justify-start gap-1.5"},Ut={class:"text-[15px] font-medium leading-relaxed text-slate-950"},Kt={class:"flex items-center justify-start gap-2.5 p-0.5"},Zt={key:1,class:"h-4 w-4 rounded-full border border-gray-400"},qt={class:"text-xs font-normal leading-tight text-slate-600"},Yt={key:0,class:"mt-4"},Xt={class:"h-6"},Gt=r("div",{class:"mb-2 mt-0.5 text-xs font-normal leading-tight text-slate-600"}," 为你的智能体预选类别，最终以平台审核后的分类为准 ",-1),Qt={class:"gap- flex flex-col bg-white py-2"},Jt={class:"flex w-full flex-col items-start justify-center gap-1 rounded-lg"},en={class:"mt-4 flex items-start justify-end"},tn=e({__name:"ChoosePublishArea",emits:["confirm"],setup(e,{emit:t}){const l=[{title:"仅自己可见",tips:"无需审核，私密智能体只有你可以对话",icon:a(de,{class:"h-5 w-5",name:"lock"},null),scope:0},{title:"获得链接的人可对话",tips:"无需审核，可生成智能体的链接，与朋友分享你的灵感与乐趣",icon:a(de,{class:"h-5 w-5",name:"link"},null),scope:1},{title:"公开到智能体广场",tips:"需审核，通过后将上架到智能体广场，为你的智能体带来更多曝光和流量",icon:a(de,{class:"h-5 w-5",name:"global"},null),scope:2}],i=g(),p=g(1),m=g("");B((()=>{(async()=>{const e=await Ce();e.data&&(i.value=e.data.tabs)})()}));const v=t,h=()=>{if(2===p.value){if(""===m.value)return;v("confirm",p.value,m.value)}else v("confirm",p.value)};return(e,t)=>{const v=Pe,g=We,x=je,b=_e;return n(),o("div",null,[r("div",Vt,[(n(),o(j,null,F(l,(e=>r("div",{class:u(["flex w-full cursor-pointer items-start justify-start gap-2.5 rounded-xl bg-neutral-100 px-4 py-3",{"bg-sky-100":c(p)===e.scope}]),key:e.title,onClick:t=>p.value=e.scope},[r("div",zt,[r("div",Dt,[r("div",$t,[a(v,{node:e.icon},null,8,["node"]),r("div",Ut,d(e.title),1)]),r("div",Kt,[c(p)===e.scope?(n(),P(de,{key:0,class:"h-4 w-4 rounded-full bg-blue-500 text-white",name:"ic_circle_check"})):(n(),o("div",Zt))])]),r("div",qt,d(e.tips),1)])],10,Ht))),64))]),2===c(p)?(n(),o("div",Yt,[r("div",Xt,[a(v,{node:c(Ie)("分类")},null,8,["node"])]),Gt,a(x,{modelValue:c(m),"onUpdate:modelValue":t[0]||(t[0]=e=>w(m)?m.value=e:null),placeholder:"请选择分类"},{default:s((()=>[r("div",Qt,[(n(!0),o(j,null,F(c(i),(e=>(n(),P(g,{label:e.category_name,key:e.category_id,value:e.category_id},{default:s((()=>[r("div",Jt,[r("div",{class:u(["w-full truncate text-sm font-normal leading-snug text-slate-950",{"!font-medium !text-[#2785ff]":c(m)===e.category_id}])},d(e.category_name),3),e.category_desc?(n(),o("div",{key:0,class:u(["w-full truncate text-xs font-normal leading-tight text-slate-600",{"!text-[#2785ff]":c(m)===e.category_id}])},d(e.category_desc),3)):f("",!0)])])),_:2},1032,["label","value"])))),128))])])),_:1},8,["modelValue"])])):f("",!0),r("div",en,[a(b,{kind:"primary",disabled:2===c(p)&&""===c(m),onClick:h},{default:s((()=>[A(" 确认发布 ")])),_:1},8,["disabled"])])])}}});export{It as A,rt as E,Wt as L,Ft as T,bt as _,xt as a,Ot as b,tn as c,Pt as e,Tt as u};
