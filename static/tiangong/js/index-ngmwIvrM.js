import{cL as e,cM as t,cN as n,cO as o,cP as r,cQ as s,cR as a,cS as u,cT as c}from"../index-CR06pHgF.js";import{f as i,r as l,w as v,e as f,c as d}from"./vue-CmQldkW7.js";function m(e){var n;const o=t(e);return null!=(n=null==o?void 0:o.$el)?n:o}const p=a?window:void 0;function h(e){const t=function(){const e=l(!1),t=d();return t&&f((()=>{e.value=!0}),t),e}();return i((()=>(t.value,Boolean(e()))))}function w(e,s,a={}){const{root:u,rootMargin:c="0px",threshold:f=.1,window:d=p,immediate:w=!0}=a,b=h((()=>d&&"IntersectionObserver"in d)),g=i((()=>{const o=t(e);return(Array.isArray(o)?o:[o]).map(m).filter(n)}));let x=o;const y=l(w),A=b.value?v((()=>[g.value,m(u),y.value]),(([e,t])=>{if(x(),!y.value)return;if(!e.length)return;const n=new IntersectionObserver(s,{root:m(t),rootMargin:c,threshold:f});e.forEach((e=>e&&n.observe(e))),x=()=>{n.disconnect(),x=o}}),{immediate:w,flush:"post"}):o,M=()=>{x(),A(),y.value=!1};return r(M),{isSupported:b,isActive:y,pause(){x(),y.value=!1},resume(){y.value=!0},stop:M}}const b={[e.mounted](e,t){"function"==typeof t.value?w(e,t.value):w(e,...t.value)}};!function(){let e=!1;const t=l(!1)}();export{b as v};
