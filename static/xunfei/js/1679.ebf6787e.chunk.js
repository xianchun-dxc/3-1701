"use strict";(self.webpackChunkxfgpt=self.webpackChunkxfgpt||[]).push([[1679],{83623:function(e,t,n){n.d(t,{x:function(){return l}});var o=n(36679),l=function(){return o.Z.get("/iflygpt/u/prompt/getPromptList")}},3364:function(e,t,n){n.d(t,{Z:function(){return y}});var o=n(1413),l=n(93433),i=n(74165),a=n(15861),s=n(29439),r=n(47313),c=n(92715),u=n(58467),p=n(2135),d=n(2147),f=n(64649),h=n(92454),g=n(58804),v=(t=n(76657),n.n(t)),m=n(46417),b=function(e){return e=e.color,(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2996",width:"2.8rem",height:"3.2rem",children:(0,m.jsx)("path",{d:"M374.016554 46.979922 290.432889 95.235728l0.447998 0L251.265047 118.083637l0 0L150.209452 176.451402c0 0-52.479789 29.95188-80.703676 77.887687C38.465901 307.010878 40.257894 398.85051 40.257894 398.85051l0 69.63172 0 26.879892 0 33.215867 0 33.663865 0 62.847748c0 0-1.791993 91.903631 29.247883 144.57542 28.223887 47.935808 80.703676 77.887687 80.703676 77.887687l87.29565 50.367798 0.383998 0.575998 99.327601 57.34377 0.127999 0 36.671853 21.119915c0 0 78.655684 47.551809 139.839439 46.975811 55.615777-0.575998 107.711568-30.975876 107.711568-30.975876l34.559861-19.90392 0.383998 0 216.83113-125.247497c0 0 52.479789-29.95188 80.767676-77.887687 31.039875-52.671789 29.183883-144.57542 29.183883-144.57542L983.294108 503.554089l0.511998 0.767997L983.806106 366.722638c0 0 0.255999-60.415757-27.071891-108.863563-30.143879-53.247786-110.655556-97.599608-110.655556-97.599608l-83.583664-48.255806 0.319999 0.639997L740.479083 99.77971l0.255999 0L621.56756 30.979986c0 0-52.095791-30.463878-107.711568-30.975876C452.672238-0.507887 374.016554 46.979922 374.016554 46.979922z",fill:void 0===e?"#FF4D50":e,"p-id":"2997"})})})},x={botPopup:"bot-popup_botPopup__7aqOs",popupLogo:"bot-popup_popupLogo__zTJ6l",botPopContent:"bot-popup_botPopContent__bfICD",botAddMask:"bot-popup_botAddMask__4uFmL",noChat:"bot-popup_noChat__lU3S4",selectTip:"bot-popup_selectTip__cTIYV",tabWrap:"bot-popup_tabWrap__MHNmE",tabItem:"bot-popup_tabItem__zk61c",activeTab:"bot-popup_activeTab__jJBJv",botPopTitle:"bot-popup_botPopTitle__IzY9p",botChatWrap:"bot-popup_botChatWrap__z-hSf",botItem:"bot-popup_botItem__pIrXu",botIcon:"bot-popup_botIcon__TWcl-",firstWord:"bot-popup_firstWord__4iA7X",botIntro:"bot-popup_botIntro__JvltQ",botName:"bot-popup_botName__LZ5j3",botDesc:"bot-popup_botDesc__EOlZK",botDelete:"bot-popup_botDelete__j2NXE",botTypeWrap:"bot-popup_botTypeWrap__lTBiy",botTypeItem:"bot-popup_botTypeItem__SjKe3",activeType:"bot-popup_activeType__c9stF",addBotWrap:"bot-popup_addBotWrap__+OiMF"},N=[{tabName:"\u5e38\u7528\u52a9\u624b",current:"chatList"},{tabName:"\u52a9\u624b\u4e2d\u5fc3",current:"botList"}],w={0:{bgColor:"#FDE8E9",fontColor:"#FE4E4F"},1:{bgColor:"#FDEAD1",fontColor:"#FF8C0A"},2:{bgColor:"#E2ECFE",fontColor:"#3874F0"},3:{bgColor:"#D9F6F8",fontColor:"#0ABBC6"},4:{bgColor:"#ECE3FE",fontColor:"#7B38F2"},5:{bgColor:"#7487fe",fontColor:"#FFF"}};function y(e){function t(e,t,n){return n&&n===(null==B?void 0:B.uid)?5:(null==e?void 0:e.charCodeAt(0))%5}function n(){var e=q.current,t=e.botType,n=e.pageIndex,o=e.pageSize,i=e.total;(0,d.Ww)({botType:0===t?void 0:t,pageIndex:n,pageSize:o}).then((function(e){q.current.total=e.total,e=i?[].concat((0,l.Z)(U),(0,l.Z)(e.pageList)):e.pageList,E(e)})).catch((function(e){var t;100!==(null==e?void 0:e.code)&&(console.error(e),"80003"!=(null==e||null==(t=e.detail)?void 0:t.code))&&null!=e&&e.msg&&c.FN.show({content:e.msg,icon:"fail"})}))}var y=e.showPopup,C=e.closePopup,F=(e=(0,r.useState)(y),(e=(0,s.Z)(e,2))[0]),A=e[1],I=(0,u.s0)(),S=(e=(0,r.useState)("chatList"),(e=(0,s.Z)(e,2))[0]),T=e[1],j=(e=(0,r.useState)(0),(e=(0,s.Z)(e,2))[0]),L=e[1],k=(e=(0,p.lr)(),(0,s.Z)(e,1)[0]),Z=(e=(0,r.useState)(!1),(e=(0,s.Z)(e,2))[0]),R=e[1],_=(e=(0,g.FV)(f.Z3),(e=(0,s.Z)(e,2))[0]),z=e[1],U=(e=(0,r.useState)([]),(e=(0,s.Z)(e,2))[0]),E=e[1],B=(e=(0,g.FV)(f.eY),(0,s.Z)(e,1)[0]),D=(e=(0,g.FV)(f.Z0),(0,s.Z)(e,1)[0]),W=(e=(0,g.FV)(f.Qw),(0,s.Z)(e,1)[0]),O=(e=(0,r.useState)(),(e=(0,s.Z)(e,2))[0]),M=e[1],q=(0,r.useRef)({pageIndex:1,pageSize:20,total:0}),P=((0,r.useEffect)((function(){A(y)}),[y]),function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.wq)();case 3:t=e.sent,z(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),100!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&(console.error(e.t0),"80003"!==(null===e.t0||void 0===e.t0||null==(t=e.t0.detail)?void 0:t.code))&&null!==e.t0&&void 0!==e.t0&&e.t0.msg&&c.FN.show({content:e.t0.msg,icon:"fail"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}());return(0,r.useEffect)((function(){(0,d.w2)().then((function(e){M(e)})).catch((function(e){var t;100!==(null==e?void 0:e.code)&&"80003"!=(null==e||null==(t=e.detail)?void 0:t.code)&&null!=e&&e.msg&&c.FN.show({content:e.msg,icon:"fail"})})),P(),n()}),[]),(0,m.jsx)(c.GI,{className:x.botPopup,visible:F,onClose:function(){return C&&C()},closeOnMaskClick:!0,mask:!0,stopPropagation:["click"],destroyOnClose:!0,children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:x.popupLogo}),(0,m.jsxs)("div",{className:x.botPopContent,children:[(0,m.jsx)("div",{className:x.tabWrap,children:null==N?void 0:N.map((function(e,t){return(0,m.jsx)("div",{className:"".concat(x.tabItem," ").concat(S===(null==e?void 0:e.current)?x.activeTab:""),onClick:function(){return T(null==e?void 0:e.current)},children:null==e?void 0:e.tabName},t)}))}),Z?(0,m.jsx)("div",{className:x.botAddMask,children:(0,m.jsx)("div",{className:x.loadingTip,children:(0,m.jsx)(c.wW,{color:"primary"})})}):null,"chatList"===S?(0,m.jsxs)(m.Fragment,{children:[0===(null==_?void 0:_.filter((function(e){return"1"!==(null==e?void 0:e.botType)})).length)?(0,m.jsx)("div",{className:x.noChat,children:"\u60a8\u8fd8\u6ca1\u6709\u5e38\u7528\u52a9\u624b"}):null,(0,m.jsx)("div",{className:x.botChatWrap,children:null==_?void 0:_.map((function(e){var n;return"1"!==(null==e?void 0:e.botType)&&(0,m.jsxs)("div",{className:"".concat(x.botItem),onClick:function(){D||!W?c.FN.show("\u5bf9\u8bdd\u8fdb\u884c\u4e2d\uff0c\u8bf7\u52ff\u64cd\u4f5c"):(I("/chat?id=".concat(null==e?void 0:e.id).concat(null!=e&&e.botId?"&botId="+(null==e?void 0:e.botId):"")),C&&C())},children:[(0,m.jsxs)("div",{className:x.botIcon,children:[(0,m.jsx)(b,{color:null==w||null==(n=w[t(null==e||null==(n=e.botTitle)?void 0:n.slice(0,1),null!=e&&e.marketBotId,null==e?void 0:e.uid)])?void 0:n.bgColor}),(0,m.jsx)("div",{className:x.firstWord,style:{color:null==w||null==(n=w[t(null==e||null==(n=e.botTitle)?void 0:n.slice(0,1),null!=e&&e.marketBotId,null==e?void 0:e.uid)])?void 0:n.fontColor},children:null==e||null==(n=e.botTitle)?void 0:n.slice(0,1)})]}),(0,m.jsxs)("div",{className:x.botIntro,children:[(0,m.jsx)("div",{className:x.botName,children:null!=(n=null==e?void 0:e.botTitle)?n:""}),(0,m.jsx)("div",{className:x.botDesc,children:null!=(n=null==e?void 0:e.botDesc)?n:""})]}),(0,m.jsx)("div",{className:x.botDelete,onClick:function(t){var n;t.stopPropagation(),n=null==e?void 0:e.id,D||!W?c.FN.show("\u5bf9\u8bdd\u8fdb\u884c\u4e2d\uff0c\u8bf7\u52ff\u64cd\u4f5c"):(R(!0),(0,h.F)({chatListId:n}).then((function(){c.FN.show({icon:"success",content:"\u5220\u9664\u6210\u529f\uff01"}),P(),k.get("id")===n.toString()&&I("/desk")})).catch((function(e){var t;100!==(null==e?void 0:e.code)&&(console.error(e),20006===(null==(t=e.detail)?void 0:t.code)?P():null!=e&&e.msg&&c.FN.show({icon:"fail",content:e.msg}))})).finally((function(){R(!1)})))}})]},e.id)}))})]}):null,"botList"===S?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:x.botTypeWrap,children:null==O?void 0:O.map((function(e){return 1===(null==e?void 0:e.key)?null:(0,m.jsx)("div",{className:"".concat(x.botTypeItem," ").concat(j===(null==e?void 0:e.key)?x.activeType:""),onClick:function(){L(null==e?void 0:e.key),q.current=(0,o.Z)((0,o.Z)({},q.current),{},{pageIndex:1,botType:null==e?void 0:e.key,total:0}),n()},children:null==e?void 0:e.name},null==e?void 0:e.key)}))}),(0,m.jsx)("div",{className:x.addBotWrap,children:0===U.length?(0,m.jsx)("div",{className:x.noChat,children:"\u7a7a\u7a7a\u5982\u4e5f"}):(0,m.jsx)(v(),{pageStart:q.current.pageIndex,loadMore:function(){q.current.pageIndex=q.current.pageIndex+1,n()},hasMore:U.length<q.current.total,useWindow:!1,children:null==U?void 0:U.map((function(e){var n,o=e.bot;return(0,m.jsxs)("div",{className:x.botItem,onClick:function(){var e,t,n;D||!W?c.FN.show("\u5bf9\u8bdd\u8fdb\u884c\u4e2d\uff0c\u8bf7\u52ff\u64cd\u4f5c"):((e=null==_?void 0:_.find((function(e){return(null==o?void 0:o.botId)===(null==e?void 0:e.botId)})))?I("/chat?id=".concat(null==e?void 0:e.id).concat(null!=e&&e.botId?"&botId="+(null==e?void 0:e.botId):"")):(t=null==o?void 0:o.botId,n=null==o?void 0:o.marketBotId,console.log(n),R(!0),(0,d.Lk)({botId:t}).then((function(e){(0,d.fl)({marketBotId:n||""}).then((function(){c.FN.show({content:"\u521b\u5efa\u6210\u529f",icon:"success"}),I("/chat?id=".concat(null==e?void 0:e.id,"&botId=").concat(t)),P()})).catch((function(e){var t;100!==(null==e?void 0:e.code)&&(console.error(e),"80003"!=(null==e||null==(t=e.detail)?void 0:t.code))&&null!=e&&e.msg&&c.FN.show({content:e.msg,icon:"fail"})}))})).catch((function(e){var t;100!==(null==e?void 0:e.code)&&(console.error(e),"80003"!=(null==e||null==(t=e.detail)?void 0:t.code))&&null!=e&&e.msg&&c.FN.show({content:e.msg,icon:"fail"})})).finally((function(){R(!1)}))),C&&C())},children:[(0,m.jsxs)("div",{className:x.botIcon,children:[(0,m.jsx)(b,{color:null==w||null==(n=w[t(null==o||null==(n=o.botName)?void 0:n.slice(0,1),null!=o&&o.marketBotId,"")])?void 0:n.bgColor}),(0,m.jsx)("div",{className:x.firstWord,style:{color:null==w||null==(n=w[t(null==o||null==(n=o.botName)?void 0:n.slice(0,1),null!=o&&o.marketBotId,"")])?void 0:n.fontColor},children:null==o||null==(n=o.botName)?void 0:n.slice(0,1)})]}),(0,m.jsxs)("div",{className:x.botIntro,children:[(0,m.jsx)("div",{className:x.botName,children:null==o?void 0:o.botName}),(0,m.jsx)("div",{className:x.botDesc,children:null==o?void 0:o.botDesc})]})]},e.botId)}))})})]}):null]})]})})}},77679:function(e,t,n){n.d(t,{Z:function(){return x}});var o=n(74165),l=n(15861),i=n(15671),a=n(43144),s=n(97326),r=n(60136),c=n(29388),u=(t=n(47313),n(26719)),p=n.n(u),d=n(72652),f=n(71735),h=n(99147),g=n(92715);function v(e,t,n){this.bucketName=e||"",this.bucketUrl=t||"",this.signatureUrl=n||"/developer/user/fileToken",this.uploadUrl=n||"/developer/user/fileToken",this.fileUrl="",this.createHttpRequest=function(e){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){e=Array.prototype.map.call(e,(function(e){return 255&e.charCodeAt(0)})),e=new Uint8Array(e),this.send(e.buffer)}),t},this.getFileName=function(e,t){return t=t&&""!==t?t+e.name.substring(e.name.lastIndexOf(".")):e.name}}v.prototype.getSignature=function(e,t,n,o){var l=this.createHttpRequest(),i=(l.open("POST",this.signatureUrl),new FormData);i.append("file",e.file),l.onreadystatechange=function(){4===l.readyState&&(200===l.status?t({msg:JSON.parse(l.responseText)}):n({msg:l.responseText}))},l.upload.onprogress=function(e){e.lengthComputable&&o(e.loaded/e.total)},l.send(i)},v.prototype.uploadFile=function(e,t,n,o){var l=this;this.getSignature({fileName:e.fileRename||this.bucketUrl+""+e.file.name,file:e.file},(function(i){var a=(i=i.msg.data).authorization,s=i.date,r=(i.digest,i.url),c=(i=i.host,e.file||{}),u=(r="".concat(r,"&authorization=").concat(Base64.encode(a),"&date=").concat(s,"&host=").concat(i),l.createHttpRequest());u.open("POST",r,!0),u.setRequestHeader("Authorization",a),u.onreadystatechange=function(e){if(4===u.readyState)if(200===u.status){var o="";try{var l;o=null==(l=JSON.parse(u.responseText).data)?void 0:l.link}catch(e){console.warn("fileORSC PARSE ERR",e)}t({msg:o,file:c,url:o})}else n({msg:u.responseText,file:c})},u.upload.onprogress=function(e){e.lengthComputable&&o(e.loaded/e.total)},s=new FileReader;s.onload=function(e){e=e.target.result,u.send(e)},s.readAsArrayBuffer(c)}),(function(){alert("\u4e0a\u4f20\u5931\u8d25\uff01")}),(function(){}))},v.prototype.batchUpload=function(e,t,n,o){var l,i,a,s=this,r=[],c=[],u=0;0==e.length?console.warn("\u6279\u91cf\u4e0a\u4f20\u5217\u8868\u4e3a\u7a7a"):(l=function n(l){r.push(l.file),o(r.length/e.length),r.length==e.length?t(r):(u++,s.uploadFile({file:e[u]},n,i,a))},i=function(t){c.push(t.file),r.length+c.length==e.length&&n({errorList:c,successList:r})},a=function(e){},o(0),s.uploadFile({file:e[u]},l,i,a))},v.prototype.uploadFileLocal=function(e,t,n,o){var l=e.file||{},i=((e=new FormData).append("file",l),this.createHttpRequest());i.open("post",this.uploadUrl,!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?t:n)({msg:i.responseText,file:l})},i.upload.onprogress=function(e){e.lengthComputable&&o(e.loaded/e.total)},i.send(e)},v.prototype.getFileUrl=function(){};var m=v,b=n(46417),x=function(e){(0,r.Z)(u,e);var t,n=(0,c.Z)(u);function u(){var e;(0,i.Z)(this,u);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))).state={uploading:!1,tip:0},e.compressImage=function(t,n,o){var l=(0,s.Z)(e);return l.setState({uploading:!0}),new Promise((function(e,i){new(p())(t,{quality:n,convertSize:o,success:function(t){if(l.setState({uploading:!1}),3145728<t.size)return g.FN.show({icon:"fail",content:"\u56fe\u7247\u592a\u5927\u4e86\uff0c\u6362\u4e00\u5f20\u8bd5\u8bd5\u5427"}),!1;t=new File([t],t.name,{type:t.type,lastModified:t.lastModified}),e(t)},error:function(e){l.setState({uploading:!1}),console.log(e.message),i(e)}})}))},e.upload=function(t,n){var o=(0,s.Z)(e),l=(i=t.name.match(/(.*)\./g)[0].toString()).substring(0,i.length-1),i=t.name.substring(i.length);l={file:t,fileRename:l+"."+i},i=new m("aicontest","https://bjcdn.openstorage.cn/","/iflygpt/oss/sign");e.setState({uploading:!0,tip:"0%"}),i.uploadFile(l,(function(e){n(e.url),e={fileUrl:e.url,fileName:e.file.name},o.props.needFile&&(e.fileObj=t),o.props.onUploaded&&o.props.onUploaded(e),o.setState({uploading:!1})}),(function(e){"text/html"!==e.file.type&&g.FN.show({icon:"fail",content:"\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}),console.log("failed",e),o.setState({uploading:!1})}),(function(e){console.log("ing",e),o.setState({tip:Math.floor(100*e)+"%"})}))},e.onChange=function(){var t=(0,l.Z)((0,o.Z)().mark((function t(n,l){var i,a,r,c,u,p;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(0,s.Z)(e),console.log(n),n.preventDefault(),n.dataTransfer?a=n.dataTransfer.files:n.target&&(a=n.target.files),i.checkAccept(a[0])?(r=i.props,c=r.classType,r=void 0!==(r=r.shouldResize)&&r,!c||"mp4"!==i.getFileType(a[0].name)&&"avi"!==i.getFileType(a[0].name)?t.next=14:((c=[]).push(a[0]),c=URL.createObjectURL(new Blob(c,{type:"application/zip"})),(u=new Audio(c)).addEventListener("loadedmetadata",(function(e){if(u.duration<10)return g.FN.show({icon:"fail",content:"\u89c6\u9891\u81f3\u5c1115\u79d2\u4ee5\u4e0a\uff01"}),l.fileInput.value="",!1;i.props.onStart&&i.props.onStart(),i.upload(a[0],(function(e){var t=new FileReader;t.onload=function(){i.setState({src:t.result}),i.props.onSuccess&&i.props.onSuccess(e,a[0]),i.props.onChange&&i.props.onChange(e),l.fileInput.value=""},t.readAsDataURL(a[0])}))})),t.next=27)):t.next=27;break;case 14:if(3145728<=(p=a[0]).size&&r)return t.prev=16,t.next=19,i.compressImage(a[0],.6,3e6);t.next=25;break;case 19:p=t.sent,t.next=25;break;case 22:t.prev=22,t.t0=t.catch(16),console.error("\u56fe\u7247\u5904\u7406\u9519\u8bef:",t.t0);case 25:i.props.onStart&&i.props.onStart(),i.upload(p,(function(e){var t=new FileReader;t.onload=function(){i.setState({src:t.result}),i.props.onSuccess&&i.props.onSuccess(e,p),i.props.onChange&&i.props.onChange(e),l.fileInput.value=""},t.readAsDataURL(p)}));case 27:case"end":return t.stop()}}),t,null,[[16,22]])})));return function(e,n){return t.apply(this,arguments)}}(),e.checkAccept=function(t){var n,o;return!(!t||!t.name||"json"!==e.getFileType(t.name)&&!t.size)&&(n=!0,t.name.substr(0,t.name.lastIndexOf(".")),e.props.accept&&(o=t.name.toLowerCase().split(".").splice(-1)[0],e.props.accept.split(",").indexOf(o)<0)&&(n=!1,g.FN.show({icon:"fail",content:"\u4e0d\u652f\u6301\u8be5\u683c\u5f0f\u6587\u4ef6"}),e.fileInput.value=""),e.props.size&&t.size>1024*e.props.size*1024&&(n=!1,e.fileInput.value="",g.FN.show({icon:"fail",content:"\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u9650\u5236"})),e.props.resolutionLimit&&(t.width>resolutionLimit.width||t.height>resolutionLimit.height)&&(n=!1,e.fileInput.value="",g.FN.show({icon:"fail",content:"\u56fe\u7247\u5206\u8fa8\u7387\u5927\u5c0f\u8d85\u8fc7\u9650\u5236"})),n)},e.showPreview=function(t){var n=e.getFileType(t);return-1<["jpg","png","gif","jpeg"].indexOf(n)?(0,b.jsx)("img",{src:t}):(0,b.jsx)(f.Z,{style:{fontSize:20},twoToneColor:"#52c41a"})},e}return(0,a.Z)(u,[{key:"componentDidUpdate",value:(t=(0,l.Z)((0,o.Z)().mark((function e(t){var n,l,i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(n=this).props.imagePasted,i=t.imagePasted||{},(null==l?void 0:l.lastModified)===(null===i?void 0:i.lastModified))e.next=17;else{if(3145728<=(a=this.props.imagePasted).size&&shouldResize)return e.prev=6,e.next=9,n.compressImage(this.props.imagePasted,.6,3e6);e.next=15}break;case 9:a=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error("\u56fe\u7247\u5904\u7406\u9519\u8bef:",e.t0);case 15:n.props.onStart&&n.props.onStart(),n.upload(a,(function(e){var t=new FileReader;t.onload=function(){n.setState({src:t.result}),n.props.onSuccess&&n.props.onSuccess(e,a),n.props.onChange&&n.props.onChange(e),g.FN.show({icon:"success",content:"\u56fe\u7247\u5df2\u590d\u5236"})},t.readAsDataURL(a)}));case 17:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return t.apply(this,arguments)})},{key:"getFileType",value:function(e){var t=e.lastIndexOf(".");return e.substr(t+1)}},{key:"render",value:function(){var e=this,t=void 0!==(t=this.state.uploading)&&t,n=(i=this.props).noEdit,o=i.isFile,l=i.text,i=i.classType;return(0,b.jsxs)("div",{className:"".concat(i?"upload-div":""," ").concat("upload-status-"+t),children:[i&&(0,b.jsx)(d.Z,{indicator:(0,b.jsx)(h.Z,{style:{fontSize:20},spin:!0}),spinning:t,wrapperClassName:"upload_spin_wrapper",children:(0,b.jsx)("input",{ref:function(t){return e.fileInput=t},type:"file",className:"upload-file",onChange:function(t){return e.onChange(t,e)}})}),!i&&o&&(0,b.jsx)(d.Z,{spinning:t,tip:"",children:(0,b.jsxs)("div",{className:"ucloud-upload ucloud-fileload",children:["\u9009\u62e9\u6587\u4ef6",(0,b.jsx)("input",{ref:function(t){return e.fileInput=t},type:"file",disabled:n,className:"input-file ".concat("disabled"===n?"no-cursor":""),onChange:function(t){return e.onChange(t,e)}})]})}),!i&&!o&&(0,b.jsxs)(d.Z,{spinning:t,tip:"\u4e0a\u4f20\u4e2d...",children:[(0,b.jsx)("span",{className:"ruleText",children:l}),(0,b.jsxs)("div",{className:"ucloud-upload ".concat(t?"uploading":""),children:[this.props.value?this.showPreview(this.props.value):null,(0,b.jsx)("input",{ref:function(t){return e.fileInput=t},type:"file",disabled:n,className:"input-file ".concat("disabled"===n?"no-cursor":""),onChange:function(t){return e.onChange(t,e)}})]})]})]})}}]),u}(t.Component)},92247:function(e,t,n){function o(e){sessionStorage.setItem("channel",e)}function l(){return sessionStorage.getItem("channel")}n.d(t,{f:function(){return l},p:function(){return o}})},52873:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABWRJREFUWEfVWV9sU2UUP+f77roNhARhEh/8DyLrumFijNa13W0LJDIf1DiDGn0zYDKVxOiTLz7qgxCDISYmBtEoYnxAEwdru9uOSaRR1vbyR4QQSYxkG4jOdXT3fsd8Vzra0vbeu46ZfY/t7/zO7957vnPOdz6EBtb+/bqnrQ3uNMG8GxXWBiatAqQliMwjaYlEAQingOM4GWKMAz8/Nga/9fV5C3N1i24NiQgPJ4+v4cQ3ALJ1AKS440ADSJw20Ty+MbjhV0QkN/auBA8m9XYEEQKC1W6c1MQiXCRgWjToPeGUz5HgkRH91ukZ6iWge50Su8Eh4LmWJvzW7/desrOzFaxpGd8M4ROIYMXlzVpEUCCkgxtDndl6PuoJxpimqwAieLNEVudlyUjIm5B7ttr/tQTjYCq7BQU8tLBi//NGDNLRgO+7aqKrCo5peng+3ywDmDERz3JAQ5B5HwC22r8I603HK3E3CJYxawA+bU/oDIEEl1o8bF9xQ6XT6SVX8p5nQeBddgwK0NehipguEyyzwVRBbJvPDUYztDca7TxXKu7o0TPLJ6fzryMiqydabsQlHranNHuUCY5ruRfnOXVRONjxTrXiEB/KvUJIt9m9ZZnywqGOvUXcrGCrKJDosyNw+78xLd7bvLnrn1I7WS0TqdwbRLDUCR8h218sLpZgSRBP5bbNWwUrUYHIj4WD7XLHz65YUn8YSDzuRKyFQbgYDnTskV/KEnxI+3ktB+V5xwQugSRErllRfkTkRr4w7WOcP2LJcLFMMD7bFHrwjGUUG8o8A4heF/YLDyXSIz2dX6FsEVeupjfdd10LrRmNiYv4LiYS+hrBxAtzcU8ERziJk8TZVqcbaC5+ijZMsH04mMhEkWG3WyIC+JuL8V2qqhoxLesHgE1uOdziSdAwxlK5rSBonVtjrigDPY+t/0Ha6bru+WOcdgBQ3ZIrc6oAakOAZW79WXiGpzE2lO0HhJXuCCg/sYq/3+e9ftQ5nMr2MAE9tXgYwEk15PsymTzTZkB+O1H9KleVh2ACY1rmLWfNyHUKREqEg51aKenIyIXWqcKfO6qVdUQ0WxTcXSyxg4lsL7K5dIKUx3gy9zYRcadvGJFdbVGu7PT7/flKm5iWlXEs47lsMcaOqgHv98UfBwZGlza1sleJoNmpX4mTD+5aMHF+JNrdfriao+HhU8uumsZr5SmSplubVuzy++8oe8DBYT2Apoi4FuwuJNBgAneqqneylqPBVLa3ovE/FAn5Rirx6XS66a9JTz8hLncumvKuNh0iHAsHrZNAzZVKZVbMEO8nEowxuAzG+G6Z+qoZxFO5LhL0pGPB1qZzmNYQSUwhfNAb6Lxs5yCuZZ8igE4mxAFV7crVwsumayh54mUB4nY7ztm0lkhkosJJ4WB8NBJo/8YJcTL5U9uMaO4Jh9oP2A1KBrTRexRgLznhtQqHk9LMGCNOng+DwbVjTojdYuJa5jkCvN/OzirNTpofEngqqnZ8YUc41//lFzGgebuM+9oc15ofCbBrL5t500fd3Q/8PldBTuwSqWyvqDdWKLaXkqxuA8/gbCTg+9SJ00YwiYR+C3GQ2aVqMSlr4OsdkZhH+UR9dP35RsQ4tY1pmSAAhm/AVx6RJKDaIZQBXFBDvo+dOmwUZxWTvKefRHkxueEQWnRUecz3MOXzQGD9L40KcWOfSuW6CiXFpOYxX5KWDlJkoQDix904mw+siSZy4F0yY9gOUqTD+R5VNfIQtqOq2dBIjkaIWKARZ43bOhwGXnO0uMatRdGLaaA9+0UX8sqgCelg5Xi1MrQcjYsW1aVM6RMummuvUtGL6mKxMp7+j6vbfwGY+K69mapeUwAAAABJRU5ErkJggg=="}}]);