/*! For license information please see 4721.51e64bf6.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["4721"],{12722:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.5c6c885a.otf"},10967:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.5747380f.ttf"},61463:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.6dcba8d7.woff"},71499:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.3716a72c.woff2"},19883:function(e,t,n){"use strict";e.exports=n.p+"static/image/large-avatar-cici.a03470ca.jpeg"},97187:function(e,t,n){"use strict";e.exports=n.p+"static/image/large-avatar-doubao.9a3d9a6d.jpeg"},56154:function(e,t,n){"use strict";n("97458"),n("52983"),t.default=n.p+"static/svg/download-edge.fd7f1620.svg"},49194:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return i}});var r=n("9161"),o=n("16044"),a=n("97458");n("52983");var i=function(e){return(0,a.jsx)("svg",(0,o._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",viewBox:"0 0 28 28"},e),{children:(0,a.jsx)("path",{d:"M14.007 28q-2.881 0-5.418-1.11a14.3 14.3 0 0 1-4.453-3.026 14.5 14.5 0 0 1-3.04-4.453Q0 16.875 0 13.993q0-2.868 1.095-5.404Q2.191 6.053 4.121 4.12A14.5 14.5 0 0 1 8.59 1.095Q11.124 0 13.993 0t5.404 1.095q2.536 1.096 4.467 3.026A14.2 14.2 0 0 1 26.89 8.59Q28 11.124 28 13.993q0 2.881-1.095 5.418a14.3 14.3 0 0 1-3.027 4.453 14.2 14.2 0 0 1-4.467 3.026Q16.876 28 14.007 28m.015-6.917q.518 0 .835-.317.332-.332.332-.836v-6.816l-.13-2.969 1.37 1.672 1.599 1.643q.316.33.807.331.475 0 .792-.303a.99.99 0 0 0 .332-.763q0-.475-.332-.807L14.944 7.22q-.433-.447-.922-.447-.476 0-.908.447L8.43 11.918q-.317.317-.317.807 0 .461.317.763.318.303.778.303.49 0 .807-.331l1.629-1.658 1.326-1.642-.116 2.954v6.816q0 .504.332.836.331.317.836.317"})}))}},96577:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return i}});var r=n("9161"),o=n("16044"),a=n("97458");n("52983");var i=function(e){return(0,a.jsxs)("svg",(0,o._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{children:[(0,a.jsx)("g",{clipPath:"url(#download_svg__a)",children:(0,a.jsx)("path",{fill:"currentColor",d:"M20.926 12.457c0 5.168-4.301 9.457-9.469 9.457C6.301 21.914 2 17.625 2 12.457S6.29 3 11.445 3c5.168 0 9.48 4.29 9.48 9.457M10.66 8.379v4.289l.094 2.168-.902-1.125-.973-.996a.85.85 0 0 0-.586-.235.77.77 0 0 0-.785.786q0 .351.21.562l3.13 3.106c.222.222.386.316.62.316.247 0 .434-.105.645-.316l3.106-3.106a.73.73 0 0 0 .234-.562c0-.446-.351-.786-.808-.786a.8.8 0 0 0-.575.235l-.972.996-.903 1.137.094-2.18v-4.29c0-.468-.34-.808-.82-.808a.78.78 0 0 0-.809.809"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"download_svg__a",children:(0,a.jsx)("path",{fill:"#fff",d:"M2 3h19.277v18.926H2z"})})})]}))}},26590:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return i}});var r=n("9161"),o=n("16044"),a=n("97458");n("52983");var i=function(e){return(0,a.jsx)("svg",(0,o._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14"},e),{children:(0,a.jsx)("path",{d:"M.588 6.169A5.24 5.24 0 0 1 2.14 2.423a5.4 5.4 0 0 1 1.688-1.149A5.1 5.1 0 0 1 5.893.857q1.1 0 2.064.417t1.689 1.149a5.2 5.2 0 0 1 1.141 1.688q.417.965.417 2.058 0 .834-.253 1.593a5.2 5.2 0 0 1-.69 1.394l2.857 2.864q.144.15.219.342t.075.397q0 .294-.137.526-.136.24-.369.376a1 1 0 0 1-.533.144 1.1 1.1 0 0 1-.403-.075.9.9 0 0 1-.342-.22l-2.885-2.884q-.615.404-1.333.629-.717.225-1.517.225a5.2 5.2 0 0 1-2.065-.41 5.34 5.34 0 0 1-2.83-2.837 5.2 5.2 0 0 1-.41-2.064m1.483 0q0 .793.294 1.49.3.69.827 1.217.527.52 1.217.82.69.294 1.484.294.792 0 1.483-.294.69-.3 1.217-.82a3.82 3.82 0 0 0-1.217-6.228 3.75 3.75 0 0 0-1.483-.294q-.795 0-1.484.294-.69.295-1.217.82-.525.527-.827 1.218-.294.69-.294 1.483"})}))}},85390:function(e,t,n){"use strict";n.d(t,{Greeting:function(){return m}});var r,o=n("40509"),a=n("97458"),i=n("52983"),s=n("87608"),u=n.n(s),c=n("67074"),l=n("52420"),d=n("94686");n("10954");var f=n("15649"),v=n("97187");n("19883");var g=n("33252"),_=n("29385"),h=n("48083"),p=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-40 w-212 rounded-8 mb-6 bg-[rgba(153,153,153,0.1)]"}),(0,a.jsx)("div",{className:"h-40  w-360 rounded-8 bg-[rgba(153,153,153,0.1)]"})]})};var m=(r=function(){var e,t=(0,g.useSkillGuidance)(),n=t.data,r=t.loading,o=null===(e=(0,d.useUserProfile)())||void 0===e?void 0:e.nickname,a=!1;try{a=null===l.FlowConfig||void 0===l.FlowConfig?void 0:l.FlowConfig.isGuest}catch(e){}return{greeting:null==n?void 0:n.greeting,username:o,loading:r,isGuest:a}},function(e){var t=e.className,n=(0,c.default)(),s=(0,o._)((0,i.useState)(!1),2),l=s[0],d=s[1],g=(0,_.useGuidancePanel)().t,m=r(e),b=m.greeting,C=m.loading,w=m.username,S=m.isGuest;return(0,a.jsxs)("div",{className:u()("flex items-center",h.header,t),children:[l?(0,a.jsx)("img",{src:v,className:"rounded-full ml-10 mr-20",draggable:"false"}):(0,a.jsx)("video",{src:f,loop:!0,muted:!0,autoPlay:!0,className:"rounded-full ml-10 mr-20",onError:function(){!n.current&&d(!0)}}),C?(0,a.jsx)(p,{}):(0,a.jsxs)("h1",{className:"m-0 text-[var(--s-color-text-primary,#000)] font-semibold font-[Montserrat]",children:[S?g("newChat_greeting_title_doubao"):g("newChat_greeting_TitleLine1",{postProcess:"sprintf",sprintf:[void 0===w?"":w]}),(0,a.jsx)("br",{}),null!=b?b:g("newChat_greeting_TitleLine2")]})]})})},7358:function(e,t,n){"use strict";n.d(t,{useGuidanceGroupsComposer:function(){return v},useGuidanceGroupsData:function(){return d},useGuidanceGroupsDataV2:function(){return f}});var r=n("9161"),o=n("16044"),a=n("40789"),i=n("3461"),s=n("88128"),u=n("59240"),c=n("33252"),l=n("34917"),d=function(){var e,t=(0,c.useSkillGuidance)(),n=t.data,a=t.loading,u=(0,i.useChat)().sendMessage,l=(0,s.useIsNarrowScreen)();return{data:l?null==n?void 0:null===(e=n.groups)||void 0===e?void 0:e.slice(0,3).map(function(e){return(0,o._)((0,r._)({},e),{items:e.items.slice(0,1).map(function(e){return(0,o._)((0,r._)({},e),{backgroundUrl:void 0})})})}):null==n?void 0:n.groups,loading:a,isSingle:l,sendMessage:u}},f=function(){var e=(0,c.useSkillGuidanceV2)(),t=e.data,n=e.loading,r=(0,i.useChat)().sendMessage,o=(0,s.useIsNarrowScreen)();return{data:null==t?void 0:t.groups,loading:n,isSingle:o,configKey:"skill_guidance_v2",sendMessage:r}},v=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).beforeClick,n=(0,l.useGuidancePanel)().trackMeta,i=void 0===n?{}:n,s=i.conversationId,c=i.conversationType,d=i.botId,f=i.isLocalConversation,v=i.version,g=e.sendMessage,_=function(e){return["search","read_pdf","image","read_url","write"][e]};return{handleGroupsShow:function(){(0,u.trackEvent)("show_onboarding_card",{current_page:a.VisitPage.CHAT,onboarding_type:"web_greeting",chat_type:f?"default_new":"default",conversation_type:c,conversation_id:s,bot_id:d,version:v})},handleSingleCardShow:function(e){var t,n=e.guidance,r=e.cardIndex,o=e.singleCardIndex;(0,u.trackEvent)("show_onboarding_card_single_question",{current_page:null!==(t=i.currentPage)&&void 0!==t?t:a.VisitPage.CHAT,bot_id:d,conversation_type:c,chat_type:f?"default_new":"default",prompt_position_row:o+1,prompt_position:r+1,onboarding_type:"web_greeting",onboarding_question_type:_(r),onboarding_promptcontent:JSON.stringify(n.message),conversation_id:s,version:v})},handleClick:function(n){var l,h,p,m,b,C,w,S,x,y,k,I,E,L,T,N,A=n.guidance,P=n.singleCardIndex,j=n.cardIndex;if((0,u.trackEvent)("click_onboarding_card_single_question",{current_page:null!==(k=i.currentPage)&&void 0!==k?k:a.VisitPage.CHAT,bot_id:d,conversation_type:c,chat_type:f?"default_new":"default",prompt_position_row:P+1,prompt_position:j+1,onboarding_type:"web_greeting",onboarding_question_type:_(j),onboarding_promptcontent:JSON.stringify(A.message),conversation_id:s,version:v}),!1!==(null==t?void 0:t({guidance:A,singleCardIndex:P,cardIndex:j}))){var R=null===(l=A.message)||void 0===l?void 0:l.input_skill,M=R?{input_skill:JSON.stringify(R)}:void 0,G={scene:"web_onboarding_greeting",sec_scene:["web_onboarding_greeting_search","web_onboarding_greeting_read_pdf","web_onboarding_greeting_image","web_onboarding_greeting_read_url","web_onboarding_greeting_write"][j],extraExt:(0,r._)((0,o._)((0,r._)({},M),{send_from_skill_guidance_or_suggestion:"1"}),A.useCacheAnswer?{guidance_config_key:e.configKey,guidance_use_cache_answer:"1"}:{})};(null===(p=A.message)||void 0===p?void 0:null===(h=p.images)||void 0===h?void 0:h.length)&&!A.message.Text?g((0,r._)({image_key:null!==(I=A.message.images[0].key)&&void 0!==I?I:"",image_ori:A.message.images[0].Image_ori,image_thumb:A.message.images[0].image_thumb,from:"web_onboarding_greeting"},G)):(null===(b=A.message)||void 0===b?void 0:null===(m=b.images)||void 0===m?void 0:m.length)&&A.message.Text?g((0,r._)({compositeContent:{images:[{key:null!==(E=A.message.images[0].key)&&void 0!==E?E:"",from:"web_onboarding_greeting",image_ori:A.message.images[0].Image_ori,image_thumb:A.message.images[0].image_thumb}],text:A.message.Text}},G)):(null===(w=A.message)||void 0===w?void 0:null===(C=w.files)||void 0===C?void 0:C.length)&&!A.message.Text?g((0,r._)({file_key:null!==(L=A.message.files[0].key)&&void 0!==L?L:"",file_name:A.message.files[0].file_name,from:"web_onboarding_greeting"},G)):(null===(x=A.message)||void 0===x?void 0:null===(S=x.files)||void 0===S?void 0:S.length)&&A.message.Text?g((0,r._)({compositeContent:{files:[{key:null!==(T=A.message.files[0].key)&&void 0!==T?T:"",file_name:A.message.files[0].file_name,from:"web_onboarding_greeting"}],text:A.message.Text}},G)):(null===(y=A.message)||void 0===y?void 0:y.Text)&&g((0,r._)({text:null===(N=A.message)||void 0===N?void 0:N.Text},G))}}}}},69382:function(e,t,n){"use strict";n.d(t,{GuidanceGroups:function(){return l},GuidanceGroupsSkeleton:function(){return u},useGuidanceGroupsComposer:function(){return i.useGuidanceGroupsComposer},useGuidanceGroupsData:function(){return i.useGuidanceGroupsData},useGuidanceGroupsDataV2:function(){return i.useGuidanceGroupsDataV2}});var r=n("97458");n("52983");var o=n("31152"),a=n("12400"),i=n("7358"),s=n("34917");n("33252");var u=function(){return(0,r.jsx)("div",{className:"flex justify-between flex-wrap",children:Array(9).fill(0).map(function(e,t){return(0,r.jsx)("div",{className:"h-64 rounded-10 mb-10 w-[30%] bg-[rgba(153,153,153,0.1)]",style:{opacity:1-(t+1)/10}},t)})})},c=function(e,t){return function(n){var o=n.className,a=(0,s.useGuidancePanel)().t,c=t(n),l=(0,i.useGuidanceGroupsComposer)(c),d=l.handleClick,f=l.handleGroupsShow,v=l.handleSingleCardShow;return c.loading?(0,r.jsx)(u,{}):(0,r.jsx)(e,{data:c.data||[],single:c.isSingle,hoverPrompt:a("promptCard_label_try"),className:o,onClick:d,onShow:f,onSingleCardShow:v})}},l=c(o.GuidanceGroups,i.useGuidanceGroupsData);c(a.GuidanceGroups,i.useGuidanceGroupsDataV2)},33252:function(e,t,n){"use strict";n.d(t,{useSkillGuidance:function(){return d},useSkillGuidanceV2:function(){return f}});var r=n("92769"),o=n("88802"),a=n("87382"),i=n("78597"),s=n("37948"),u=n("76185"),c=[s.GuidanceType.SEARCH,s.GuidanceType.READ,s.GuidanceType.IMAGE];function l(e){var t;return!!e.title&&!!e.items&&!!(null===(t=e.items)||void 0===t?void 0:t.every(function(e){return!!e.title}))}var d=function(){return(0,i.useRequest)((0,r._)(function(){var e,t,n,r,i,s;return(0,o.__generator)(this,function(o){switch(o.label){case 0:e=(0,a.createReportEvent)({eventName:"skill_guidance_load"}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,u.apiService.samantha.GetSkillGuidance()];case 2:return i=o.sent(),e.addDurationPoint("success"),e.success(),[2,{groups:null===(n=i.data)||void 0===n?void 0:null===(t=n.groups)||void 0===t?void 0:t.filter(l).map(function(e){var t;return{title:e.title,items:null===(t=e.items)||void 0===t?void 0:t.map(function(e){return{title:e.title||"",titleIconUrl:e.title_icon_url,backgroundUrl:e.background_url,backgroundUrls:e.background_urls,desc:e.desc,descIconUrl:e.desc_icon_url,message:e.message,useCacheAnswer:e.use_cache_answer}})}}),greeting:null===(r=i.data)||void 0===r?void 0:r.greeting}];case 3:return s=o.sent(),e.error({reason:"load_skill_guidance_failed",error:s}),[2];case 4:return[2]}})}),{cacheKey:"skill-guidance",staleTime:72e5})},f=function(){return(0,i.useRequest)((0,r._)(function(){var e,t,n,r,i,s;return(0,o.__generator)(this,function(o){switch(o.label){case 0:e=(0,a.createReportEvent)({eventName:"skill_guidance_load"}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,u.apiService.samantha.GetSkillGuidance({config_key:"skill_guidance_v2"})];case 2:return i=o.sent(),e.addDurationPoint("success"),e.success(),[2,{groups:null===(n=i.data)||void 0===n?void 0:null===(t=n.groups)||void 0===t?void 0:t.filter(l).map(function(e,t){var n;return{title:e.title,type:c[t],items:null===(n=e.items)||void 0===n?void 0:n.map(function(e){var t=e.desc_detail_items,n=e.desc?[{highlight:!0,detail:e.desc}]:void 0;return{title:e.title||"",titleIconUrl:e.title_icon_url,backgroundUrl:e.background_url,backgroundUrls:e.background_urls,descItems:t||n,descIconUrl:e.desc_icon_url,message:e.message,useCacheAnswer:e.use_cache_answer}}).slice(0,1)}}).slice(0,3),greeting:null===(r=i.data)||void 0===r?void 0:r.greeting}];case 3:return s=o.sent(),e.error({reason:"load_skill_guidance_failed",error:s}),[2];case 4:return[2]}})}),{cacheKey:"skill-guidance-v2",staleTime:72e5})}},80045:function(e,t,n){"use strict";n.d(t,{Greeting:function(){return r.Greeting},GuidanceGroups:function(){return o.GuidanceGroups},GuidanceGroupsSkeleton:function(){return o.GuidanceGroupsSkeleton},Layout:function(){return a.Layout},PreviousConversation:function(){return i.PreviousConversation},useGuidanceGroupsComposer:function(){return o.useGuidanceGroupsComposer},useGuidanceGroupsData:function(){return o.useGuidanceGroupsData},useGuidanceGroupsDataV2:function(){return o.useGuidanceGroupsDataV2},useShowPrevious:function(){return i.useShowPrevious}});var r=n("85390"),o=n("69382"),a=n("97979"),i=n("27221")},97979:function(e,t,n){"use strict";n.d(t,{Layout:function(){return s}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("98469"),s=function(e){var t=e.GreetingSlot,n=e.GuidanceGroupsSlot,o=e.SearchInputSlot,s=e.PreviousConversationSlot,u=e.className;return(0,r.jsxs)("div",{className:u,"data-testid":"guidance_panel",children:[s&&(0,r.jsx)(s,{className:a()("absolute mx-auto left-0 right-0",i.previous)}),(0,r.jsx)(t,{className:a()(o?"mb-46":i.greeting)}),o&&(0,r.jsx)(o,{className:"mb-40"}),(0,r.jsx)(n,{})]})}},27221:function(e,t,n){"use strict";n.d(t,{PreviousConversation:function(){return m},useShowPrevious:function(){return h}});var r,o=n("97458"),a=n("87608"),i=n.n(a),s=n("5987"),u=n("78597"),c=n("3461"),l=n("88128"),d=n("10630"),f=n("52420"),v=n("87575"),g=n("77079"),_=n("29385"),h=function(e){var t,n=(0,d.useIsFirstChat)(null!==(t=null==e?void 0:e.conversation_id)&&void 0!==t?t:"");if(!e)return!1;var r="1"===(0,u.parseHashOrQuery)(location.search).show_list,o=!!f.FlowConfig.isGuest||null!=e&&!!e.update_time&&1e3*Number(e.update_time)+432e5<Date.now();return(0,v.isCocoConversation)(e)&&o&&!n&&!r},p={default:"text-[var(--s-color-text-quaternary,rgba(0,0,0,0.2))]",hover:"hover:text-[var(--s-color-brand-primary-default,#06F)]",active:"active:text-[var(--s-color-brand-primary-pressed,#0052CC)]"};var m=(r=function(){var e=(0,c.useChat)().chatViewConfig,t=h((0,d.useConversation)(null==e?void 0:e.chatId)),n=(0,l.useIsNarrowScreen)();return{show:t&&!n,hideThreadOnboarding:(0,s.useThreadOnboardingStore)().hideThreadOnboarding}},function(e){var t=e.className,n=(0,_.useGuidancePanel)().t,a=r(e),s=a.show,u=a.hideThreadOnboarding;return s?(0,o.jsxs)("div",{className:i()("flex items-center w-fit cursor-pointer transition-colors",p.active,p.default,p.hover,t),onClick:function(){u(!0)},children:[(0,o.jsx)(g.default,{className:"mr-6",size:"small"}),(0,o.jsx)("p",{className:"m-0 text-12 cursor-pointer",children:n("newChat_previous_conversations_indicator")})]}):null})},29385:function(e,t,n){"use strict";n.d(t,{useGuidancePanel:function(){return c},withContext:function(){return l}});var r=n("9161"),o=n("97458"),a=n("52983"),i=n("50013"),s=(0,a.createContext)(null),u={t:function(e){throw Error("Except GuidancePanelContext when calling t('".concat(e,"')"))}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.optionalProvider,n=e.overrideValueWithoutProvider,r=(0,a.useContext)(s);return r?r:(void 0!==t,(0,i.default)(n,u))},l=function(e){var t=function(t){return(0,o.jsx)(s.Provider,{value:(0,r._)({},t),children:(0,o.jsx)(e,(0,r._)({},t))})};return t.displayName="GuidancePanelWrapped".concat(e.displayName||e.name),t}},34917:function(e,t,n){"use strict";n.d(t,{GuidanceGroupsSkeleton:function(){return d.GuidanceGroupsSkeleton},GuidancePanel:function(){return v},PreviousConversation:function(){return d.PreviousConversation},useGuidanceGroupsComposer:function(){return d.useGuidanceGroupsComposer},useGuidanceGroupsData:function(){return d.useGuidanceGroupsData},useGuidanceGroupsDataV2:function(){return d.useGuidanceGroupsDataV2},useGuidancePanel:function(){return l.useGuidancePanel},useShowPrevious:function(){return d.useShowPrevious}});var r=n("9161"),o=n("89334"),a=n("97458"),i=n("52983"),s=n("50013"),u=n("61550"),c=n("67239"),l=n("29385"),d=n("80045"),f=function(e){var t=e.slots,n=t.GreetingSlot,r=t.GuidanceGroupsSlot,o=t.SearchInputSlot,a=t.LayoutSlot,i=t.PreviousConversationSlot,s=(0,c.createBizWithSlots)(a,{GreetingSlot:n,GuidanceGroupsSlot:r,SearchInputSlot:o,PreviousConversationSlot:i});return(0,l.withContext)(s)},v=function(e){var t=e.slots,n=(0,o._)(e,["slots"]),c=(0,s.default)(t,g),l=(0,i.useMemo)(function(){return f({slots:c})},(0,u.default)(t));return(0,a.jsx)(l,(0,r._)({},n))},g={GreetingSlot:d.Greeting,GuidanceGroupsSlot:d.GuidanceGroups,LayoutSlot:d.Layout,SearchInputSlot:null,PreviousConversationSlot:null}},67618:function(e,t,n){"use strict";n.d(t,{NotLoggedFeedbackEntry:function(){return p},NotLoggedFeedbackModal:function(){return h}});var r=n("92769"),o=n("9161"),a=n("40509"),i=n("88802"),s=n("97458"),u=n("52983"),c=n("85019"),l=n("33865"),d=n("59240"),f=n("74175"),v=n("72676"),g=n("66442"),_=n("12776"),h=function(e){var t,n=e.visible,l=e.onVisibleChange,d=(0,v.useTranslateFn)(),h=(0,g.useFeedbackBaseConfig)(),p=(0,a._)((0,u.useState)(),2),m=p[0],b=p[1];var C=(t=(0,r._)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,f.apiService.setting.GetWebAnonID()];case 1:return b(String(e.sent().web_id)),[2]}})}),function(){return t.apply(this,arguments)});return(0,u.useEffect)(function(){C()},[]),(0,s.jsx)(c.FeedbackModal,(0,o._)({containerClassName:_["feedback-modal-textarea-only"],userAvatar:void 0,userId:"",t:d,showFileList:!1,showFeedbackList:!1,submitButtonDisabled:!m,getFeedbackList:f.apiService.setting.GetFeedbackList.bind(f.apiService.setting),getUploadAuthToken:f.apiService.resource.GetUploadAuthToken.bind(f.apiService.resource),visible:void 0!==n&&n,onClose:function(){null==l||l(!1)}},h))},p=function(){var e=(0,a._)((0,u.useState)(!1),2),t=e[0],n=e[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.TextFormatter,{text:(0,v.getUnreactiveTranslate)("tourist_submit_feedback_web_bottom"),replacingMap:{tourist_submit_feedback_web_link:(0,v.getUnreactiveTranslate)("tourist_submit_feedback_web_link")},className:_["feedback-entry"],replaceTextClassName:"".concat(_["feedback-entry-button"]," e2e_cls_loginmodal_feedback_entry"),onTextClick:function(e,t){"tourist_submit_feedback_web_link"===e.key&&(t.stopPropagation(),(0,d.trackEvent)("click_setting_feedback"),n(!0))}}),(0,s.jsx)(h,{visible:t,onVisibleChange:n})]})}},63938:function(e,t,n){"use strict";var r=n("97458");n("52983");var o="https://www.doubao.com";t.default=function(){return(0,r.jsxs)("div",{style:{display:"none"},children:[(0,r.jsx)("a",{href:"".concat(o,"/download/desktop"),children:"\u4E0B\u8F7D\u8C46\u5305\u5BA2\u6237\u7AEF"}),(0,r.jsx)("a",{href:"".concat(o,"/browser-extension/landing"),children:"\u5B89\u88C5\u8C46\u5305AI\u63D2\u4EF6"})]})}},78924:function(e,t,n){"use strict";n.d(t,{BotChatView:function(){return H}});var r=n("92769"),o=n("9161"),a=n("16044"),i=n("40509"),s=n("88802"),u=n("97458"),c=n("52983"),l=n("33434"),d=n("59574"),f=n("59391"),v=n("87382"),g=n("12772"),_=n("1202"),h=n("89066"),p=n("40789"),m=n("45194"),b=n("83375"),C=n("46750"),w=n("10173"),S=n("87575"),x=n("73373"),y=n("2322"),k=n("62920"),I=n("48022"),E=n("75761"),L=n("9668"),T=n("26689"),N=n("68534"),A=n("32208"),P=n("1924"),j=n("38438"),R=n("94686"),M=n("99956"),G=n("59240"),F=n("76185"),D=n("3269"),O=n("82169"),B=n("58416");function U(){return(U=(0,r._)(function(e,t){var n,r,a,i,u;return(0,s.__generator)(this,function(a){switch(a.label){case 0:if(2!==Number(null==e?void 0:e.version))return[2,{msgList:[],onboarding_content_source:"preset"}];if(n=null==e?void 0:e.message_list,r={},!((null==e?void 0:e.call_mode)===T.CallMode.Real||(null==e?void 0:e.call_mode)===T.CallMode.RealNone))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),n=(null==e?void 0:e.call_mode)===T.CallMode.Real?e.message_list:[],[4,F.apiService.bot.GetFirstMet({bot_id:t})];case 2:return r=a.sent().data,[3,4];case 3:return a.sent(),[3,4];case 4:return!(0,d.default)(null==r?void 0:r.message_list)&&(n=null==r?void 0:null===(i=r.message_list)||void 0===i?void 0:i.slice()),u=(0,b.getOnboardingContentSource)(null==n?void 0:n[0]),[2,(0,o._)({msgList:n},u)]}})})).apply(this,arguments)}var H=(0,c.forwardRef)(function(e,t){var n=e.chatId,b=e.chatType,T=e.MessageListSlot,F=(0,A.useNavigate)(),H=(0,A.useLocation)(),V=(0,m.parseHashOrQuery)(H.search)||{},q=V.enter_from,W=V.from_visit_page,K=V.bot_position,J=(0,D.useLocalConversationWithBotId)(n),Q=(0,M.useBotInfo)(n),z=(0,c.useRef)(0),Y=(0,c.useRef)(!1),X=(0,D.useRecommendListStatus)(),Z=X.tagList,$=X.selectedTagId,ee=(0,D.useChoicenessBotListExcludeConversation)(),et=(0,i._)((0,k.useChatStore)(function(e){return[e.updateMessageList,e.clearConversationMessages]},l.shallow),2),en=et[0],er=et[1],eo=(0,i._)((0,M.useBotStore)(function(e){return[e.fetchToUpdateBot]},l.shallow),1)[0];(0,c.useImperativeHandle)(t,function(){return{onBeforeSendMessage:function(){F(H.pathname.concat(H.search),{state:{backToRoute:void 0}})},sendMessage:function(e){var t=(0,f.default)(e);J&&(0,I.sendSupportedMessage)(t.map(function(e){var t;return(0,a._)((0,o._)({},e),{ctx:{localConversationId:J,botId:n,enterFrom:(null==H?void 0:null===(t=H.state)||void 0===t?void 0:t.enter_from)||q},reportEvents:{create_conversation_by_message:(0,v.createReportEvent)({eventName:"create_conversation_by_message",meta:{scene:"new_bot_conversation"}})}})}),O.ChatType.Bot)}}});var ea=(0,g.useInitMessageFromState)().initSearchSendMessage;return(0,c.useEffect)(function(){var e,t,i,u,c,l,f,g=(0,_.initLocalConversation)(n);function I(){return(I=(0,r._)(function(e){var t,r,i,u,c,l,f,_,h,p,k,I,E,L,T;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(t=void 0,!(b===O.ChatType.Bot||b===O.ChatType.ProfileBot)||(t=M.useBotStore.getState().botMap[n]))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,eo({botId:n})];case 2:return t=s.sent(),[3,4];case 3:return r=s.sent(),v.logger.persist.error({message:"fetchToUpdateBotInfo Error",error:r}),[3,4];case 4:if((null==t?void 0:t.has_conversation)&&t.conversation_id)return i="".concat(B.CHAT_PAGE_ROUTE).concat(t.conversation_id),c=(u=(0,m.parseHashOrQuery)(H.search)).guest_landing,l=u.login_source,1===Number(c)&&(f={guest_landing:"1"},l&&(f.login_source=l),i=(0,m.toURL)("".concat(B.CHAT_PAGE_ROUTE).concat(t.conversation_id),f)),[2,F(i,{state:{create_chat_type:"chat_with_bot",page_start_time:z.current}})];if(_=(t||{}).onboarding,h={onboarding_content_source:""},!(_&&g))return[3,6];return p=_,er(g),[4,function(e,t){return U.apply(this,arguments)}(p,n)];case 5:E=void 0===(I=(k=s.sent()).msgList)?[]:I,T=void 0===(L=k.onboarding_content_source)?"preset":L,en({conversationId:g,immerUpdate:function(e){!function(e,t,n,r){var i=(0,C.getTemporaryReplyMessageId)(w.onBoardingConstantMessageId);if(2===Number(null==t?void 0:t.version)&&!(0,d.default)(n)){null==n||n.forEach(function(t,n){var s=(0,a._)((0,o._)({},t),{message_id:w.onBoardingConstantMessageId+n,local_message_id:i+n,conversation_id:e,reply_id:w.onBoardingConstantMessageId,status:N.PushMessageStatus.Available});!(0,S.isSuggestMessage)(s)&&(r.draftMessageLinks.push({isLocalMessage:!1,messageId:w.onBoardingConstantMessageId+n}),r.draftMessageMap[w.onBoardingConstantMessageId+n]=(0,x.normalizeMessage)(s))});return}2!==Number(null==t?void 0:t.version)&&function(e,t,n,r,o,a){var i={text:a},s={content:JSON.stringify(i),contentObj:i,content_type:N.ContentType.Text,conversation_id:t,create_time:Date.now(),localInfo:{from:y.MessageFrom.Api,logId:"none"},ext:{is_finish:"1",onboarding:"1",stream:"1",sp:JSON.stringify(o)},index:1,local_message_id:n,message_id:w.onBoardingConstantMessageId,message_type:N.MessageType.Message,meta_infos:void 0,reply_id:w.onBoardingConstantMessageId,status:N.PushMessageStatus.Available,tts_content:null==e?void 0:e.content},u={isLocalMessage:!1,messageId:w.onBoardingConstantMessageId};r.draftMessageLinks.push(u),r.draftMessageMap[w.onBoardingConstantMessageId]=s}(t,e,i,r,[],null==t?void 0:t.content)}(g,p,E,e),h={onboarding_content_source:T}}}),s.label=6;case 6:return(0,G.trackEvent)("enter_page",(0,o._)({},e,h)),(0,j.initGuestSendMsg)({localConversationId:g,botId:n}),ea({localConversationId:g,botId:n}),[2]}})})).apply(this,arguments)}var T=(0,P.getLoginSourceQuery)(H),A="bot_discover"===((null==H?void 0:null===(e=H.state)||void 0===e?void 0:e.enter_from)||q),D=(null===(t=H.state)||void 0===t?void 0:t.from_visit_page)||W,V=(0,h.markCurPage)(p.VisitPage.CHAT),J=V.curPage,X=V.prevPage,et={current_page:J||"other",previous_page:T||D||X||"other"},ei=(0,a._)((0,o._)({},et),{page:"chat",bot_id:n,is_tts:0,enter_method:X===p.VisitPage.LANDING?"landing":"bot_discover"===((null==H?void 0:null===(i=H.state)||void 0===i?void 0:i.enter_from)||q)?"bot_list_discover":null!==(l=(null==H?void 0:null===(u=H.state)||void 0===u?void 0:u.enter_from)||q)&&void 0!==l?l:"other",bot_position:null!==(f=String((null==H?void 0:null===(c=H.state)||void 0===c?void 0:c.bot_position)||K))&&void 0!==f?f:"other",chat_type:(0,E.getChatTypeForTea)("",Q),user_id:A?(0,R.getUserId)():void 0,req_id:A?(0,M.getRequestIdByBotId)(n):void 0,recommend_from:A?"bot_list_discover":void 0});z.current=Date.now(),!function(e){I.apply(this,arguments)}(ei);var es=k.useChatStore.subscribe(function(e){return e.localConversationMap[g]},function(e){var t,r;if((null==e?void 0:null===(t=e.local)||void 0===t?void 0:t.createStatus)===L.CreateConversationStatus.Done&&(null==e?void 0:null===(r=e.local)||void 0===r?void 0:r.newConversationId)){null===(s=e.local)||void 0===s||null===(i=s.reportEvent)||void 0===i||i.success();var i,s,u,c,l,d,f=(0,E.getInfoByConversationId)(e.local.newConversationId).botInfo,v=(0,a._)((0,o._)({},et),{enter_method:null==e?void 0:null===(u=e.local)||void 0===u?void 0:u.createFrom,click_from:"chatted",bot_id:n,chat_type:(0,E.getChatTypeForTea)(null===(c=e.local)||void 0===c?void 0:c.newConversationId,f),discover_page_bot_type:A?null===(l=Z.find(function(e){return e.tag_id===$}))||void 0===l?void 0:l.tag_name:void 0,user_id:A?(0,R.getUserId)():void 0,req_id:A?(0,M.getRequestIdByBotId)(n):void 0,recommend_from:A?"bot_list_discover":void 0});Y.current=!0,!ee.find(function(e){return e.botID===n})&&(0,G.trackEvent)("follow_bot",v),F("".concat(B.CHAT_PAGE_ROUTE).concat(null===(d=e.local)||void 0===d?void 0:d.newConversationId),{state:{create_chat_type:"chat_with_bot",page_start_time:z.current,enter_from:A?"bot_discover":"other_default"}})}});return function(){es();var e,t="bot_discover"===((null==H?void 0:null===(e=H.state)||void 0===e?void 0:e.enter_from)||q);Y.current||(0,G.trackEvent)("leave_chat_page",(0,a._)((0,o._)({},et),{bot_id:n,duration:String(Date.now()-z.current),chat_type:(0,E.getChatTypeForTea)("",Q),user_id:t?(0,R.getUserId)():void 0,recommend_from:t?"bot_list_discover":void 0,req_id:t?(0,M.getRequestIdByBotId)(n):void 0}))}},[n]),J?(0,u.jsx)(T,{section:!1,conversationId:J}):null})},50200:function(e,t,n){"use strict";n.d(t,{ChatView:function(){return I}});var r=n("97458"),o=n("14670"),a=n("52983"),i=n("33434"),s=n("11790"),u=n("87608"),c=n.n(u),l=n("5987"),d=n("89066"),f=n("78597"),v=n("32156"),g=n("3461"),_=n("56090"),h=n("10824"),p=n("21503"),m=n("10630"),b=n("62920"),C=n("52420"),w=n("96535"),S=n("34917"),x=n("51699"),y=n("94702"),k=n("14881"),I=(0,a.forwardRef)(function(e,t){var n=e.chatId,u=e.chatType,I=e.MessageListSlot,E=(0,g.useChat)(),L=E.idInParams,T=E.locationState,N=E.t;(0,_.useChatView)(t,{conversationId:n});var A=(0,f.usePrevious)(n,function(){return!0}),P=n!==A,j=(0,m.useConversation)(n),R=(0,m.useIsFirstChat)(n),M=(0,b.useChatStore)(function(e){return(0,s.default)(e.messageMap,n)},i.shallow),G=(0,S.useShowPrevious)(j),F=(0,l.useThreadOnboardingStore)(function(e){return{isThreadOnboardingClosed:e.isThreadOnboardingClosed,resetIsThreadOnboardingClosed:e.resetIsThreadOnboardingClosed,isSlideDown:e.isSlideDown,hideThreadOnboarding:e.hideThreadOnboarding}}),D=F.isThreadOnboardingClosed,O=F.isSlideDown,B=F.resetIsThreadOnboardingClosed,U=F.hideThreadOnboarding,H=(0,h.useIsSamantha)(n,u)&&(!!C.FlowConfig.isGuest||M)&&(R||G)&&!D&&(null==T?void 0:T.showThreadOnboarding)!==!1;(0,a.useEffect)(function(){B()},[n]);var V=(0,x.useSimulateScroll)(function(){G&&U(!0)}),q=V.handleTouchEnd,W=V.handleTouchStart,K=V.handleWheel,J=(0,d.useTeaVar)("samantha_guidance_v2",!1).value,Q=(0,a.useMemo)(function(){return{PreviousConversationSlot:S.PreviousConversation,GuidanceGroupsSlot:J||w.isBetaEnv?y.CustomGuidanceGroupsV2:y.CustomGuidanceGroups}},[J]);return L&&!(0,f.isNumeric)(L)?(0,r.jsx)(p.NavigateToFirstChat,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{in:H,unmountOnExit:!0,timeout:400,enter:!1,children:function(e){return(0,r.jsx)(v.SamanthaLayout.MaxWidthLayout,{children:(0,r.jsx)("div",{className:c()("overflow-hidden",k.container),onWheel:K,onTouchStart:W,onTouchEnd:q,children:(0,r.jsx)(S.GuidancePanel,{slots:Q,className:c()(k["fade-".concat(e)],O?k["slide-down"]:k["slide-up"]),t:N,isLoggedIn:!0,trackMeta:{conversationId:n,conversationType:null==j?void 0:j.conversation_type,botId:null==j?void 0:j.bot_id,version:J||w.isBetaEnv?"1":"0"}})})})}},n),(0,r.jsx)(o.default,{in:!H,mountOnEnter:!0,unmountOnExit:!0,timeout:400,exit:!1,enter:!P,children:function(e){return(0,r.jsx)(I,{className:c()(k["fade-".concat(e)],O?k["slide-down"]:k["slide-up"]),conversationId:n,enableLoadMore:!0})}})]})})},51699:function(e,t,n){"use strict";n.d(t,{useSimulateScroll:function(){return a}});var r=n("52983"),o=n("78597"),a=function(e){var t=(0,o.useThrottleFn)(function(t){Math.abs(t.deltaY)>2*Math.abs(t.deltaX)&&t.deltaY<0&&e()},{wait:200}).run,n=(0,r.useRef)({x:0,y:0}),a=(0,r.useRef)(!1);return{handleWheel:t,handleTouchStart:(0,r.useCallback)(function(e){n.current={x:e.touches[0].clientX,y:e.touches[0].clientY},a.current=!0},[n,a]),handleTouchEnd:(0,r.useCallback)(function(t){if(a.current){var r=n.current,o=r.x,i=r.y,s=t.changedTouches[0],u=s.clientX,c=s.clientY,l=c-i;Math.abs(l)>2*Math.abs(u-o)&&l>0&&e(),a.current=!1}},[a,n,e])}}},78950:function(e,t,n){"use strict";n.d(t,{CustomChatView:function(){return v}});var r=n("9161"),o=n("16044"),a=n("97458"),i=n("52983"),s=n("3461"),u=n("87681"),c=n("15816"),l=n("9307"),d=n("50200"),f=n("78924"),v=(0,i.forwardRef)(function(e,t){var n=(0,s.useChat)().chatViewConfig,i=null==n?void 0:n.chatType;if(i===u.ChatType.Conversation)return(0,a.jsx)(d.ChatView,(0,o._)((0,r._)({},e),{ref:t}));if(i===u.ChatType.Bot||i===u.ChatType.ProfileBot)return(0,a.jsx)(f.BotChatView,(0,o._)((0,r._)({},e),{ref:t}));if(i===u.ChatType.LocalConversation)return(0,a.jsx)(l.LocalConversationChatView,(0,o._)((0,r._)({},e),{ref:t}));else if(i===u.ChatType.NewThread)return(0,a.jsx)(c.NewThreadChatView,(0,o._)((0,r._)({},e),{ref:t}));return null})},9307:function(e,t,n){"use strict";n.d(t,{LocalConversationChatView:function(){return h}});var r=n("40509"),o=n("97458"),a=n("52983"),i=n("33434"),s=n("46750"),u=n("10173"),c=n("73373"),l=n("2322"),d=n("10630"),f=n("62920"),v=n("9668"),g=n("32208"),_=n("58416"),h=(0,a.forwardRef)(function(e,t){var n,h,p=e.chatId,m=e.MessageListSlot;(0,a.useImperativeHandle)(t,function(){return{}});var b=(0,g.useLocation)(),C=(0,d.useLocalConversation)(p),w=(0,r._)((0,f.useChatStore)(function(e){return[e.updateMessageList,e.clearConversationMessages]},i.shallow),2),S=w[0],x=w[1];if((0,a.useEffect)(function(){C&&p&&I===v.CreateConversationStatus.Creating&&(x(p),S({conversationId:p,immerUpdate:function(e){var t,n,r,o;t=p,n=e,r=(0,s.getTemporaryReplyMessageId)(u.onBoardingConstantMessageId),o=(0,c.createLocalMessage)({localMessageStatus:l.LocalMessageStatus.ReceivingFirstPackage,message:{conversation_id:t,local_message_id:r,reply_id:u.onBoardingConstantMessageId,ext:{onboarding:"1"}},failedExpired:Date.now()+u.onboardingWaitTimeout,messageLinks:n.draftMessageLinks,isRegenerate:!1}),n.draftMessageLinks.push({isLocalMessage:!0,messageId:r}),n.draftLocalMessageMap[r]=o}}))},[C,p]),!C)return(0,o.jsx)(g.Navigate,{to:_.CHAT_PAGE_ROUTE,replace:!0,relative:"route"});var y=C.local,k=void 0===y?{}:y,I=k.createStatus,E=k.newConversationId,L={message:null===(n=b.state)||void 0===n?void 0:n.message,type:null===(h=b.state)||void 0===h?void 0:h.type,showThreadOnboarding:!1};return I===v.CreateConversationStatus.Done&&E?(0,o.jsx)(g.Navigate,{to:"".concat(_.CHAT_PAGE_ROUTE).concat(E),state:L,replace:!0,relative:"route"}):p?(0,o.jsx)(m,{conversationId:p}):null})},15816:function(e,t,n){"use strict";n.d(t,{NewThreadChatView:function(){return D}});var r=n("9161"),o=n("16044"),a=n("40509"),i=n("97458"),s=n("14670"),u=n("52983"),c=n("83911"),l=n("59391"),d=n("87608"),f=n.n(d),v=n("87382"),g=n("9317"),_=n("89066"),h=n("45194"),p=n("65042"),m=n("32156"),b=n("3461"),C=n("63609"),w=n("46750"),S=n("10630"),x=n("75761"),y=n("62920"),k=n("9668"),I=n("48022"),E=n("52420"),L=n("87681"),T=n("25026"),N=n("32208"),A=n("96535"),P=n("40852"),j=n("58416"),R=n("34917"),M=n("94702"),G=n("2540"),F=n("14881"),D=(0,u.forwardRef)(function(e,t){var n,d,D=e.chatId,O=e.MessageListSlot,B=(0,b.useChat)(),U=B.chatInputRef,H=B.sendMessage,V=B.t,q=(0,N.useLocation)(),W=(null!==(n=(0,S.useMainConversationLink)())&&void 0!==n?n:{}).conversationId,K=null!==(d=(0,h.getUrlParams)("message"))&&void 0!==d?d:void 0,J=(0,x.getBotIdByConversationId)(W),Q=(0,a._)((0,u.useState)((0,c.default)(K)),2),z=Q[0],Y=Q[1],X=(0,P.useAuthState)();(0,u.useEffect)(function(){return v.logger.getLogger({namespace:"persist"}).persist.info({eventName:"new_thread_view_show",meta:{localConversationId:D}}),C.useNewThreadStore.getState().updateEnterThreadType(!0),function(){D?g.landingConfig.markFirstEnterPage():v.logger.getLogger({namespace:"persist"}).persist.warning({eventName:"new_thread_view_without_localConversationId"}),C.useNewThreadStore.getState().updateEnterThreadType(!1)}},[]),(0,u.useImperativeHandle)(t,function(){return{sendMessage:function(e){var t=(0,l.default)(e);D&&(Y(!1),y.useChatStore.getState().updateLocalConversation(D,{local:{createStatus:k.CreateConversationStatus.Creating}}),!J&&v.logger.getLogger({namespace:"persist"}).persist.warning({eventName:"new_thread_send_without_botId"}),(0,I.sendSupportedMessage)(t.map(function(e){var t;return(0,o._)((0,r._)({},e),{ctx:{localConversationId:D,conversationId:(null===E.FlowConfig||void 0===E.FlowConfig?void 0:E.FlowConfig.isGuest)?W:"0",botId:J,enterFrom:null==q?void 0:null===(t=q.state)||void 0===t?void 0:t.enter_from,conversationType:T.ConversationType.CocoWebSub},extraExt:(0,r._)({},e.extraExt,(null===E.FlowConfig||void 0===E.FlowConfig?void 0:E.FlowConfig.isGuest)?{}:{need_create_thread:"1"}),reportEvents:{create_conversation_by_message:(0,v.createReportEvent)({eventName:"create_conversation_by_message",meta:{scene:"new_thread"}})}})}),L.ChatType.NewThread),g.landingConfig.updateCurrentConversationId(""))}}});var Z=(0,S.useLocalConversation)(D),$=(0,N.useNavigate)(),ee=function(){var e=y.useChatStore.getState(),t=e.conversationLinks,n=e.threadIndex,r=e.botConversationIndex,o=e.localConversationMap,a=e.removeConversationsFromLinks,i=(0,S.getThreadLinksFromConversationLinks)({conversationLinks:t,threadIndex:n,botConversationIndex:r}).filter(function(e){var t,n=o[e.conversationId];return!!(0,w.isLocalThreadId)(e.threadId)&&!!n&&(null===(t=n.local)||void 0===t?void 0:t.createStatus)!==k.CreateConversationStatus.Creating||!1}).map(function(e){return e.conversationId});i.length&&a({conversationIds:i})};(0,u.useEffect)(function(){if((0,c.default)(K)&&Y(!0),!(0,p.getIsMobileOrIPad)()){var e;null===(e=U.current)||void 0===e||e.focus()}return function(){ee()}},[D]),(0,u.useEffect)(function(){if(Z&&D){var e=y.useChatStore.subscribe(function(e){return e.localConversationMap[D]},function(e){var t,n,r,o,a;!(0,c.default)(e)&&(null===(t=e.local)||void 0===t?void 0:t.createStatus)===k.CreateConversationStatus.Done&&(null===(n=e.local)||void 0===n?void 0:n.newConversationId)&&(null===(o=e.local)||void 0===o||null===(r=o.reportEvent)||void 0===r||r.success(),$("".concat(j.CHAT_PAGE_ROUTE).concat(null===(a=e.local)||void 0===a?void 0:a.newConversationId),{state:{showThreadOnboarding:!1}}))});return function(){e()}}},[Z,D]),(0,u.useEffect)(function(){if(K){var e,t=(0,G.checkIsPayloadJson)(K);if(v.logger.persist.info({eventName:"new_thread_auto_send_message",meta:{is_json:!!t,scene:t?null===(e=(0,l.default)(t)[0])||void 0===e?void 0:e.scene:"message_from_query"}}),t){H(t);return}H({text:K,content_source:{source:L.ContentSource.Other},scene:"message_from_query"})}},[K]);var et=(0,_.useTeaVar)("samantha_guidance_v2",!1).value,en=(0,u.useMemo)(function(){return{GuidanceGroupsSlot:et||A.isBetaEnv?M.CustomGuidanceGroupsV2:M.CustomGuidanceGroups}},[et]);return Z||(null===E.FlowConfig||void 0===E.FlowConfig?void 0:E.FlowConfig.isGuest)||X!==P.AuthState.Finished?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.default,{in:z,unmountOnExit:!0,timeout:400,enter:!1,children:function(e){return(0,i.jsx)(m.SamanthaLayout.MaxWidthLayout,{children:(0,i.jsx)(R.GuidancePanel,{t:V,slots:en,isLoggedIn:!0,className:f()(F["fade-".concat(e)],F["slide-up"]),trackMeta:{conversationId:D,botId:null!=J?J:"",isLocalConversation:!0,version:et||A.isBetaEnv?"1":"0"}})})}},D),(0,i.jsx)(s.default,{in:!z,mountOnEnter:!0,unmountOnExit:!0,timeout:400,exit:!1,children:function(e){return(0,i.jsx)(O,{section:!1,className:f()(F["fade-".concat(e)],F["slide-up"]),conversationId:D,enableLoadMore:!0})}})]}):(0,i.jsx)(N.Navigate,{to:j.CHAT_PAGE_ROUTE,replace:!0,relative:"route"})})},94702:function(e,t,n){"use strict";n.d(t,{CustomGuidanceGroups:function(){return f},CustomGuidanceGroupsV2:function(){return v}});var r=n("97458"),o=n("33434"),a=n("31152"),i=n("12400"),s=n("52420"),u=n("20945"),c=n("54451"),l=n("34917"),d=function(e,t){return function(n){var a,i=n.className,d=(0,l.useGuidancePanel)().t,f=(0,c.useLoginModal)().openLoginModal,v=(0,u.useGuestConfigStore)(function(e){return e.guestAbTestParams},o.shallow).disableGuidance,g=t(n),_=(0,l.useGuidanceGroupsComposer)(g,{beforeClick:function(){if(s.FlowConfig.isGuest&&v)return f({trackInfo:{source:c.LoginOpenSource.INPUT_SEND_MSG}}),!1}}),h=_.handleClick,p=_.handleGroupsShow,m=_.handleSingleCardShow;return g.loading?(0,r.jsx)(l.GuidanceGroupsSkeleton,{}):(0,r.jsx)(e,{data:null!==(a=g.data)&&void 0!==a?a:[],single:g.isSingle,hoverPrompt:d("promptCard_label_try"),className:i,onClick:h,onShow:p,onSingleCardShow:m})}},f=d(a.GuidanceGroups,l.useGuidanceGroupsData),v=d(i.GuidanceGroups,l.useGuidanceGroupsDataV2)},33470:function(e,t,n){"use strict";n.d(t,{initChatKit:function(){return _}});var r=n("9161"),o=n("16044"),a=n("11624"),i=n("94686"),s=n("98913"),u=n("88342"),c=n("99956"),l=n("59240"),d=n("48817"),f=n("58416"),v={merge:function(e,t){return t},partialize:function(){return{}},name:"samantha-web-chat-store"},g=!1,_=function(e){if(!g){g=!0;var t=a.ChatKit.init((0,o._)((0,r._)({trackEvent:l.trackEvent,subApiServiceConstructors:{setting:d.FlowSettingApiService,message:d.FlowMessageApiService,conversation:d.FlowConversationApiService,suggestwords:d.FlowSuggestwordsApiService,bot:d.FlowBotApiService},appId:(0,f.getAid)(),userId:(0,i.getUserId)()||"",botConfig:(0,o._)((0,r._)({},c.useBotStore.getState()),{useBotInfo:c.useBotInfo}),networkClient:{baseURL:void 0}},(null==e?void 0:e.isGuest)?{storeConfig:v}:{}),{isGuest:(null==e?void 0:e.isGuest)||!1}));t.addListener("network.sharkError",u.handleSharkError),t.addListener("message.updated",s.handleEvaluateWhenFinishedUpdateMessage)}}},27428:function(e,t,n){"use strict";n.d(t,{useInitPreloadChunk:function(){return a}});var r=n("51635"),o=function(){(0,r.useInitPreloadChunkCore)(function(){(0,r.retryLoad)(function(){return n.e("4765").then(n.bind(n,"21168"))}).catch(function(e){})})},a=function(){o()}},2540:function(e,t,n){"use strict";function r(e){if(!("scene"in e))return!1;if("text"in e)return!0;if("compositeContent"in e){var t=e.compositeContent;return!!("text"in t&&["images","files"].some(function(e){return e in t}))||!1}return"from"in e&&(!!["image_key","file_key"].some(function(t){return t in e})||!1)}n.d(t,{checkIsPayloadJson:function(){return o}});function o(e){try{var t,n=JSON.parse(e);if(t=n,Array.isArray(t)?t.every(function(e){return r(e)}):r(t))return n;return!1}catch(e){return!1}}},15704:function(e,t,n){"use strict";n.d(t,{useAutoLogin:function(){return x}});var r=n("92769"),o=n("88802"),a=n("3820"),i=n("87382"),s=n("53395"),u=n("17072"),c=n("78597"),l=n("13625"),d=n("32208"),f=n("90795"),v=n("1924"),g=n("53991"),_=n("94686"),h=n("40852"),p=n("59240"),m=n("4012"),b=n("37059"),C=n("37884");n("76185");var w=n("72676"),S=n("58416"),x=function(e){var t,n=e.navigatePath,x=e.loginRoute,y=void 0===x?S.LOGIN_PAGE_ROUTE:x,k=e.ssoOnly,I=void 0!==k&&k,E=e.authFailedAction;(0,i.useErrorBoundary)().showBoundary;var L=(0,d.useNavigate)(),T=(0,d.useLocation)(),N=(0,f.default)().Plugins.Tea,A=(0,_.useUserInfoAction)(),P=A.updateUserInfo;A.genUserDefaultProfile;var j=function(){if(T.pathname!==S.LOGIN_PAGE_ROUTE){var e=y===S.LOGIN_PAGE_ROUTE?(0,v.addHideHomepageUrl)((0,v.addLoginSuccessBackUrl)(S.LOGIN_PAGE_ROUTE),!0):(0,v.addLoginSuccessBackUrl)(y,n);i.logger.persist.info({eventName:"olympus_login_to_login",meta:{url:e}}),L(e,{state:{navigatePath:n}})}};var R=(t=(0,r._)(function(e,t){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(!(r="authLogin"===t))return[3,2];return[4,(0,m.runSamanthaAbLogicAndIfReturn)(e)];case 1:r=!o.sent(),o.label=2;case 2:if(r)return window.location.replace((0,c.addQuery)(n,e.first_login_app?{first_login_app:"1"}:{})),[2];return n&&!T.pathname.includes(n)&&L((0,c.addQuery)(n,e.first_login_app?{first_login_app:"1"}:{})),[2]}})}),function(e,n){return t.apply(this,arguments)}),M=function(e,t){"authLogin"===t&&localStorage.setItem("isFromLogin","1"),(0,w.reloadForLanguageChange)(),(0,l.default)("context.set","sso_email",(0,b.getSSOEmail)()),e?((0,p.configTeaUserId)(N,e.user_id_str),(0,l.default)("context.set","account_user_id",e.user_id_str),(0,l.default)("context.set","user_is_login","1"),u.SyncStorage.setItem("for_ban_appeal_sec_user_id",e.sec_user_id),P(e),e.first_login_app):i.logger.persist.error({error:Error(),eventName:"olympics_login_success_without_user_info"}),R(e,t),(0,g.notifyLoginStatusChange)(!0)},G=(0,s.useOlympusLogin)({availablePlatforms:(0,h.getThirdLoginKeyList)(),location:T,navigate:L,aid:(0,S.getAid)(),onNetworkError:function(){L(S.NETWORK_ERROR_ROUTE)},onPassportError:(0,r._)(function(){var e;return(0,o.__generator)(this,function(t){switch(t.label){case 0:if(!(0,a.default)(E))return[3,2];return[4,E(T.pathname)];case 1:return e=t.sent(),[3,3];case 2:e=E,t.label=3;case 3:if("stay"===e)return[2];return C.FlowAccount.passportApi.triggerAfterLogout(),j(),[2]}})}),onUnknownError:function(){j()},onError:function(){(0,h.updateAuthState)(h.AuthState.Failed)},onBeforeAuth:function(e){"authLogin"===e?(0,h.updateAuthState)(h.AuthState.InAuthLogin):"checkLogin"===e&&(0,h.updateAuthState)(h.AuthState.InCheckLogin)},context:{passportApi:C.FlowAccount.passportApi,logger:i.logger,tea:C.FlowAccount.flowTea}}),F=function(){};return(0,r._)(function(){var e,t,n,r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,,9,10]),(0,h.updateAuthState)(h.AuthState.BeforeAll),[3,2];case 1:return e=o.sent(),[3,3];case 2:e=!1,o.label=3;case 3:if(!e)return[3,5];return[4,F()];case 4:return[2,o.sent()];case 5:return[3,7];case 6:if((null==(t=o.sent())?void 0:t.isSuccess)?(0,b.setSSOEmail)(t.email):(0,h.updateAuthState)(h.AuthState.Failed),I)return[2];o.label=7;case 7:return[4,G()];case 8:return(n=o.sent()).isSuccess?(r=n.userInfo,M(r,n.loginType)):(0,h.updateAuthState)(h.AuthState.Failed),[2,n];case 9:return(0,h.getAuthState)()!==h.AuthState.Failed&&(0,h.updateAuthState)(h.AuthState.Finished),[7];case 10:return[2]}})})}},19843:function(e,t,n){"use strict";n.d(t,{useCheckAuth:function(){return w}});var r=n("92769"),o=n("88802"),a=n("52983"),i=n("6139"),s=n("30470"),u=n("87382"),c=n("33220"),l=n("96049"),d=n("72046"),f=n("32208"),v=n("53268"),g=n("1924"),_=n("40852"),h=n("16916"),p=n("37884"),m=n("72676"),b=n("58416"),C=n("15704"),w=function(e){var t,n,w=e.navigatePath,S=e.loginRoute,x=void 0===S?b.LOGIN_PAGE_ROUTE:S,y=e.ssoOnly,k=e.authFailedAction,I=(0,C.useAutoLogin)({navigatePath:w,loginRoute:x,ssoOnly:y,authFailedAction:k}),E=(0,f.useNavigate)(),L=(0,f.useLocation)(),T=(0,m.useTranslateFn)(),N=(0,i.default)(function(e,t){v.Toast.warning({content:e,showClose:!1}),p.FlowAccount.passportApi.logout({navigate:E,reason:"limited",trackMeta:{msg:e,logId:t}})},5e3,{leading:!0}),A=(0,i.default)(function(e,t){N(e,t),window.location.href=b.COUNTRY_RESTRICTED_ROUTE},5e3,{leading:!0}),P=function(){v.Toast.error({content:T("log_in_internet_error"),showClose:!1})};var j=(t=(0,r._)(function(e,t){return(0,o.__generator)(this,function(n){switch(n.label){case 0:return[4,p.FlowAccount.passportApi.logout({navigate:E,reason:"unauthorized",trackMeta:{msg:e,logId:t}})];case 1:return n.sent(),[2]}})}),function(e,n){return t.apply(this,arguments)}),R=function(){E(b.NO_ACCESS_ROUTE)},M=function(){E(b.CHAT_PAGE_ROUTE)},G=function(){E(b.WAITLIST_ROUTE)},F=(0,i.default)(function(e,t){var n;null===(n=l.FlowNetAdaptor.socketAdaptor.client)||void 0===n||n.close(),v.Toast.warning({content:e,showClose:!1}),u.logger.persist.log({message:"user banned [banned]",meta:{msg:e}}),p.FlowAccount.passportApi.logout({navigate:E,state:{showAppeal:!0},reason:"user_banned",trackMeta:{msg:e,logId:t}})},5e3,{leading:!0}),D=(0,i.default)(function(e,t){var n;null===(n=l.FlowNetAdaptor.socketAdaptor.client)||void 0===n||n.close(),v.Toast.warning(e),u.logger.persist.log({message:"user banned [released\u3001appealing\u3001failed]",meta:{msg:e}}),p.FlowAccount.passportApi.logout({navigate:E,reason:"user_banned_other",trackMeta:{msg:e,logId:t}})},5e3,{leading:!0}),O=function(e){e.key===c.FLOW_WEB_LOGIN_KEY&&(0,s.default)(e.newValue)&&L.pathname!==b.LOGIN_PAGE_ROUTE&&(p.FlowAccount.passportApi.triggerAfterLogout(),E((0,g.addLoginSuccessBackUrl)((0,g.addHideHomepageUrl)("/"))))};var B=(n=(0,r._)(function(){var e,t,n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return e=(0,u.createReportEvent)({eventName:"check_auth"}),d.apiErrorEventEmitter.stop(),d.apiErrorEventEmitter.off(d.APIErrorEvent.NETWORK_ERROR,P),d.apiErrorEventEmitter.on(d.APIErrorEvent.UNAUTHORIZED,j),d.apiErrorEventEmitter.on(d.APIErrorEvent.NOACCESS,R),d.apiErrorEventEmitter.on(d.APIErrorEvent.COUNTRY_RESTRICTED,A),d.apiErrorEventEmitter.on(d.APIErrorEvent.SHARK_BLOCK,N),d.apiErrorEventEmitter.on(d.APIErrorEvent.CONVERSATION_INVALID,M),d.apiErrorEventEmitter.on(d.APIErrorEvent.NEED_TO_WAIT,G),d.apiErrorEventEmitter.on(d.APIErrorEvent.USER_BANNED,F),d.apiErrorEventEmitter.on(d.APIErrorEvent.USER_BANNED_OTHER,D),(0,_.subscribeAuthState)(function(e){e===_.AuthState.Failed?(0,c.setNotLogined)():e===_.AuthState.Finished&&(0,c.setHasLogined)()}),[4,I()];case 1:if(!(t=r.sent()))return e.error({reason:"autoLogin fail"}),[2];return(t.isSuccess?e.success:e.error)({reason:t.isSuccess?"autoLogin success":"autoLogin fail",error:t.isSuccess?void 0:t.error,meta:{type:t.loginType}}),(null==t?void 0:t.isSuccess)&&(0,h.reportOCPC)((null===(n=t.userInfo)||void 0===n?void 0:n.new_user)?"register":"login"),t&&("authLogin"===t.loginType||!t.isSuccess)&&d.apiErrorEventEmitter.clear(),d.apiErrorEventEmitter.start(),window.addEventListener("storage",O),[2]}})}),function(){return n.apply(this,arguments)}),U=function(){d.apiErrorEventEmitter.off(d.APIErrorEvent.NETWORK_ERROR,P),d.apiErrorEventEmitter.off(d.APIErrorEvent.UNAUTHORIZED,j),d.apiErrorEventEmitter.off(d.APIErrorEvent.NOACCESS,R),d.apiErrorEventEmitter.off(d.APIErrorEvent.COUNTRY_RESTRICTED,A),d.apiErrorEventEmitter.off(d.APIErrorEvent.SHARK_BLOCK,N),d.apiErrorEventEmitter.off(d.APIErrorEvent.CONVERSATION_INVALID,M),d.apiErrorEventEmitter.off(d.APIErrorEvent.NEED_TO_WAIT,G),d.apiErrorEventEmitter.off(d.APIErrorEvent.USER_BANNED,F),d.apiErrorEventEmitter.off(d.APIErrorEvent.USER_BANNED_OTHER,D),window.removeEventListener("storage",O)};(0,a.useEffect)(function(){return B(),function(){U()}},[])}},11131:function(e,t,n){"use strict";n.d(t,{useCheckAuth:function(){return r.useCheckAuth}});var r=n("19843")},61884:function(e,t,n){"use strict";n.d(t,{withRequireAuth:function(){return p}});var r=n("9161"),o=n("6462"),a=n("97458"),i=n("52983"),s=n("99766"),u=n("32208"),c=n("88600"),l=n("40852"),d=n("2738"),f=n("9592"),v=n("58416"),g=n("11131"),_=n("79807"),h=function(e){var t=e.requireAuthConfig,n=e.children,r=(0,u.useLocation)(),h=r.pathname,p=r.search,m=(0,d.useIsChatPage)(),b=(0,d.useIsChatPageOther)(),C=t.successNavigatePath,w=void 0===C?"".concat(h).concat(p):C,S=t.loginRoute,x=void 0===S?v.LOGIN_PAGE_ROUTE:S,y=t.ssoOnly,k=t.showLoadingWhenAuthFailed,I=t.authFailedAction;(0,g.useCheckAuth)({navigatePath:w,loginRoute:x,ssoOnly:void 0!==y&&y,authFailedAction:I});var E=(0,l.useAuthState)();return(void 0!==(0,s.useAuthLoginDataRouteFromOAuth2)("login",r)?[l.AuthState.BeforeAll,l.AuthState.InCheckSSOLogin,l.AuthState.InAuthLogin].concat((0,o._)(void 0===k||k?[l.AuthState.Failed]:[])):[]).includes(E)?m||b?(0,a.jsx)(f.ChatSkeletonFull,{showInput:!b}):(0,a.jsx)(_.CenterLogo,{logoSrc:_.LogoSrcCn}):(E===l.AuthState.Finished&&(0,c.clearHomeLoadTimeData)(),(0,a.jsx)(i.Fragment,{children:n}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(n){return(0,a.jsx)(h,{requireAuthConfig:t,children:(0,a.jsx)(e,(0,r._)({},n))})},o=e.displayName||e.name||"Component";return n.displayName="withRequireAuth(".concat(o,")"),n}},30028:function(e,t,n){"use strict";n.d(t,{useShouldShowCookieBanner:function(){return o}}),n("97458"),n("63730");var r=n("52983");n("78520"),n("87608"),n("53268"),n("72676"),n("17675");var o=function(e){(0,r.useEffect)(function(){},[])}},21764:function(e,t,n){"use strict";var r=n("83316"),o=n("40509"),a=n("97458"),i=n("52983"),s=n("87608"),u=n.n(s),c=n("96317"),l=n("53268"),d=n("72676"),f=n("95455"),v=n("52925"),g=n("20179"),_=n("48972"),h=n("861");t.default=function(e){var t,n=e.wrapClassNames,s=e.login,p=void 0===s||s,m=(0,o._)((0,i.useState)(!1),2),b=m[0],C=m[1],w=(0,d.useTranslateFn)(),S=(0,v.useClientExtensionUrl)().extensionConfig;return(0,a.jsxs)(f.Section,{children:[(0,a.jsx)("div",{onClick:function(){C(!0)},className:u()("mx-6 w-36 h-36 flex justify-center",f.Style["section-item"],_["download-icon"],n,(t={},(0,r._)(t,_["un-login"],!p),(0,r._)(t,f.Style.active,p&&b),t)),children:(0,a.jsx)(c.BrowserExtension,{})}),(0,a.jsx)(g.default,{title:w("download_extension_title_doubao"),visible:b,onClose:function(){return C(!1)},children:(0,a.jsx)("div",{className:"flex flex-col gap-12",children:(0,a.jsx)(h.DownItem,{icon:(0,a.jsx)(l.Image,{preview:!1,src:S.iconUrl,width:76,height:36}),title:w("extension_title_doubao"),onclick:function(){var e,t;null===(t=window.neotix)||void 0===t||null===(e=t.runtime)||void 0===e||e.openURLInDefaultBrowser(S.landingPageUrl)},hideRightIcon:!0})})})]})}},861:function(e,t,n){"use strict";n.d(t,{DownItem:function(){return c}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("96577"),s=n("53268"),u=n("48972"),c=function(e){var t=e.icon,n=e.title,o=e.onclick,c=e.rightIconUrl,l=e.hideRightIcon;return(0,r.jsxs)("div",{className:a()("flex items-center self-stretch rounded-10 s-font-small-em",u.downloadItem),onClick:o,children:[t,(0,r.jsx)("span",{className:"flex-grow ml-8 s-font-base-em",children:n}),l?void 0:c?(0,r.jsx)(s.Image,{src:c,preview:!1}):(0,r.jsx)(i.ReactComponent,{className:u.downloadSvg})]})}},20179:function(e,t,n){"use strict";var r=n("97458"),o=n("52983"),a=n("19266"),i=n("53268"),s=n("59240"),u=n("48972");t.default=function(e){var t=e.title,n=e.visible,c=e.onClose,l=e.children;return(0,o.useEffect)(function(){n&&(0,s.trackEvent)("download_window_show")},[n]),(0,r.jsx)(i.Modal,{visible:n,centered:!0,width:424,keepDOM:!0,maskClosable:!0,onCancel:c,header:(0,r.jsxs)("div",{className:"flex items-center py-16 my-12 justify-between relative",children:[(0,r.jsx)("div",{className:"".concat(u.title,"  max-w-336"),children:t}),(0,r.jsx)(a.ReactComponent,{className:"text-24 cursor-pointer ".concat(u.closeIcon),onClick:c})]}),className:u.modal,footer:null,children:l})}},87868:function(e,t,n){"use strict";var r=n("97458"),o=n("87608"),a=n.n(o),i=n("96317"),s=n("72676"),u=n("72037"),c=n("66205"),l=n("52925"),d=n("10010");t.default=function(e){var t=e.className,n=e.macIntelLink,o=e.macLink,f=s.getUnreactiveTranslate,v=[{link:o,subTitle:f("desktop_app_download_mac_silicon_short"),param:l.DownloadPlatform.MacArm},{link:n,subTitle:f("desktop_app_download_mac_intelchip"),param:l.DownloadPlatform.MacIntel}];return n||o?(0,r.jsxs)("div",{className:a()(d.client,t),children:[(0,r.jsx)("div",{className:a()("s-font-small-ems-font-small-em",d.title),children:f("desktop_app_download_mac")}),v.map(function(e){var t=e.link,n=e.subTitle,o=e.param;return t&&(0,r.jsxs)("div",{className:d.list,onClick:function(){(0,u.trackExternalDownload)(o),window.open((0,c.addUtmParam)(t||""))},children:[(0,r.jsx)(i.MacIcon,{}),(0,r.jsxs)("div",{className:"flex flex-col ",children:[(0,r.jsx)("div",{className:d["list-title"],children:f("desktop_app_download_mac_short")}),(0,r.jsx)("div",{className:d["list-desc"],children:n})]})]},o)})]}):null}},39504:function(e,t,n){"use strict";n("97458"),n("87608"),n("53268"),n("72676"),n("87868"),n("72037"),n("52925"),n("66205"),n("10010")},52925:function(e,t,n){"use strict";n.d(t,{DownloadPlatform:function(){return _},useClientExtensionUrl:function(){return p},useDownloadUrl:function(){return h}});var r,o=n("92769"),a=n("9161"),i=n("40509"),s=n("88802"),u=n("97458"),c=n("52983"),l=n("65042"),d=n("96317"),f=n("83226"),v=n("56154"),g=function(){return(0,u.jsx)("img",{src:v.default})};var _=((r={}).MacArm="mac_arm",r.MacIntel="mac_intel",r.Windows="windows",r.Chrome="chrome",r.Edge="edge",r.Safari="safari",r.Extensions="extensions",r),h=function(){var e,t,n,r,v,h,p,m,b,C,w,S=(0,i._)((0,c.useState)(""),2),x=S[0],y=S[1],k=(0,i._)((0,c.useState)(""),2),I=k[0],E=k[1],L=(0,i._)((0,c.useState)(""),2),T=L[0],N=L[1],A=(0,i._)((0,c.useState)(!1),2),P=A[0],j=A[1],R=[(0,l.isWindows)(),(0,l.isMac)()],M=R[0],G=R[1],F=(0,i._)((0,c.useState)({}),2),D=F[0],O=F[1],B=(0,i._)((0,c.useState)({}),2),U=B[0],H=B[1];(0,c.useEffect)(function(){var e,t,n=(e=(0,o._)(function(){var e,t;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,f.getDeskDownloadLinks)()];case 1:if(!(e=t.sent()))return[2];return E(null==e?void 0:e.mac_arm_url),N(null==e?void 0:e.mac_url),y(null==e?void 0:e.win_x64_url),j((null==e?void 0:e.mac_arm_url)||(null==e?void 0:e.mac_url)||(null==e?void 0:e.win_x64_url)),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)});var r=(t=(0,o._)(function(){var e,t;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,f.getExtDownloadLinks)()];case 1:if(!(e=t.sent()))return[2];return O(null==e?void 0:e.pc_config),H(null==e?void 0:e.plugin_config),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})}),function(){return t.apply(this,arguments)});n(),r()},[]);var V=(null==D?void 0:null===(e=D.windows)||void 0===e?void 0:e.enable)&&x,q=(null==D?void 0:null===(t=D.mac_arm)||void 0===t?void 0:t.enable)&&I,W=(null==D?void 0:null===(n=D.mac_intel)||void 0===n?void 0:n.enable)&&T,K=(0,l.isChrome)()&&(null==U?void 0:null===(r=U.chrome)||void 0===r?void 0:r.enable)&&(null==U?void 0:null===(v=U.chrome)||void 0===v?void 0:v.download_url),J=(0,l.isEdge)()&&(null==U?void 0:null===(h=U.edge)||void 0===h?void 0:h.enable)&&(null==U?void 0:null===(p=U.edge)||void 0===p?void 0:p.download_url),Q=(0,l.isSafari)()&&(null==U?void 0:null===(m=U.safari)||void 0===m?void 0:m.enable)&&(null==U?void 0:null===(b=U.safari)||void 0===b?void 0:b.download_url),z=[{keyWord:_.MacArm,fallback_Icon:(0,u.jsx)(d.MacIcon,{}),download_url:I},{keyWord:_.MacIntel,fallback_Icon:(0,u.jsx)(d.MacIcon,{}),download_url:T},{keyWord:_.Windows,fallback_Icon:(0,u.jsx)(d.WindowsIcon,{}),download_url:V},{keyWord:_.Chrome,fallback_Icon:(0,u.jsx)(d.ChromeIcon,{}),download_url:K,isPlugin:!0},{keyWord:_.Edge,fallback_Icon:(0,u.jsx)(g,{}),download_url:J,isPlugin:!0},{keyWord:_.Safari,download_url:Q,isPlugin:!0},{keyWord:_.Extensions,download_url:(null==U?void 0:null===(C=U.extensions)||void 0===C?void 0:C.enable)&&(null==U?void 0:null===(w=U.extensions)||void 0===w?void 0:w.download_url),isPlugin:!0}].reduce(function(e,t){var n=t.keyWord,r=t.isPlugin,o=r?U[n]:D[n];if(o){var i,s=(0,a._)({},o,t),u=e.pluginRenderList,c=e.macRenderList,l=e.winRenderList,d=e.extensionsRenderList;(i=n===_.Extensions?d:r?u:n===_.Windows?l:c).push(s)}return e},{pluginRenderList:[],macRenderList:[],winRenderList:[],extensionsRenderList:[]}),Y=z.pluginRenderList,X=z.macRenderList,Z=z.winRenderList,$=z.extensionsRenderList;return{hasDeskDownloadLinks:P,hasPcConfig:q||V||W,hasExtDownloadLinks:K||J||Q,isSupportBrowser:(0,l.isChrome)()||(0,l.isEdge)()||(0,l.isSafari)(),isMacOrWindowDevice:G||M,isMacDevice:G,macIntelLink:W,macLink:q,windowLink:V,macRenderList:X,winRenderList:Z,currentAppRenderList:G?X:Z,pluginRenderList:Y,extensionsRenderList:$,defaultPluginList:Y.filter(function(e){return e.keyWord===_.Chrome})}},p=function(){var e=(0,i._)((0,c.useState)({landingPageUrl:"",iconUrl:""}),2),t=e[0],n=e[1];return(0,c.useEffect)(function(){var e;(e=(0,o._)(function(){var e,t,r,o,a,i;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,(0,f.getExtDownloadLinks)()];case 1:if(!(a=i.sent()))return[2];return n({landingPageUrl:(null===(t=a.plugin_config)||void 0===t?void 0:null===(e=t[_.Extensions])||void 0===e?void 0:e.download_url)||"",iconUrl:(null===(o=a.plugin_config)||void 0===o?void 0:null===(r=o[_.Extensions])||void 0===r?void 0:r.icon_url)||""}),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)})()},[]),{extensionConfig:t}}},66205:function(e,t,n){"use strict";n.d(t,{addUtmParam:function(){return w}});var r=n("83316"),o=n("40509"),a=n("97458"),i=n("52983"),s=n("87608"),u=n.n(s),c=n("78597"),l=n("96577"),d=n("96317"),f=n("53268"),v=n("45457"),g=n("59240"),_=n("72676"),h=n("95455"),p=n("72037"),m=n("52925"),b=n("20179"),C=n("48972"),w=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=new URL(e);return n.searchParams.append("utm_source",t?"web_signed":"web_notsigned"),n.toString()},S=function(e){var t=e.icon,n=e.title,r=e.onclick,o=e.rightIconUrl;return(0,a.jsxs)("div",{className:u()("flex items-center self-stretch rounded-10 s-font-small-em",C.downloadItem),onClick:r,children:[t,(0,a.jsx)("span",{className:"flex-grow ml-8 s-font-base-em",children:n}),o?(0,a.jsx)(f.Image,{src:o}):(0,a.jsx)(l.ReactComponent,{className:C.downloadSvg})]})},x="flow-download-read";t.default=function(e){var t,n=e.wrapClassNames,s=e.login,l=void 0===s||s,y=(0,o._)((0,i.useState)(!1),2),k=y[0],I=y[1],E=(0,o._)((0,i.useState)(function(){return!!localStorage.getItem(x)}),2),L=E[0],T=E[1],N=(0,c.isMobile)(),A=(0,v.useIsNarrowScreen)(),P=(0,_.useTranslateFn)(),j=(0,m.useDownloadUrl)(),R=j.isMacOrWindowDevice,M=j.isSupportBrowser,G=j.macRenderList,F=j.winRenderList,D=j.pluginRenderList,O=j.extensionsRenderList,B=j.hasPcConfig,U=function(e){return e.map(function(e){var t=e.isPlugin,n=e.download_url,r=e.fallback_Icon,o=e.keyWord,i=e.icon_url,s=e.title,u=e.download_icon_url;if(e.download_url){var c=o===m.DownloadPlatform.Extensions;return(0,a.jsx)(S,{icon:(0,a.jsx)(f.Image,{className:"".concat(!c&&"m-6"),width:c?68:24,height:c?36:24,src:i,fallback:r,preview:!1}),title:P(s),onclick:function(){(0,p.trackDownload)(o),window.open(t?w(n||"",l):n||"")},rightIconUrl:u},o)}})},H=(0,o._)((0,i.useMemo)(function(){return[G,F,D,O].map(U)},[B]),4),V=H[0],q=H[1],W=H[2],K=H[3],J=(0,o._)((0,c.isMac)()?[V,q]:[q,V],2),Q=J[0],z=J[1],Y=N||!R||!B||A;return(0,a.jsx)(a.Fragment,{children:!Y&&(0,a.jsxs)(h.Section,{children:[(0,a.jsx)("div",{onClick:function(){(0,g.trackEvent)("click_download_entrance"),I(!0),!L&&(localStorage.setItem(x,"1"),T(!0))},className:u()("w-36 h-36 flex justify-center",h.Style["section-item"],C["download-icon"],n,(t={},(0,r._)(t,C["un-login"],!l),(0,r._)(t,h.Style.active,l&&k),t)),children:L?(0,a.jsx)(d.DownloadPcIcon,{}):(0,a.jsx)(d.DownloadUnReadPcIcon,{})}),(0,a.jsx)(b.default,{title:P("desktop_app_download_title"),visible:k,onClose:function(){return I(!1)},children:(0,a.jsxs)("div",{className:"flex flex-col gap-12",children:[(0,a.jsx)("div",{className:"flex-column gap-12",children:Q}),W,(0,a.jsxs)("div",{className:"flex-row my-12 gap-12",children:[(0,a.jsx)("div",{className:"flex-grow h-1  bg-s-color-border-primary"}),(0,a.jsx)("div",{className:"text-14 text-s-color-text-quaternary whitespace-nowrap",children:P("skill_read_or_conjunction")}),(0,a.jsx)("div",{className:"flex-grow h-1 bg-s-color-border-primary"})]}),z,!M&&K||void 0]})})]})})}},72037:function(e,t,n){"use strict";n.d(t,{trackDownload:function(){return u},trackExternalDownload:function(){return s}});var r,o=n("83316"),a=n("59240"),i=n("52925"),s=function(e){return(0,a.trackEvent)("click_download_banner_item",{app_type:l(e)})},u=function(e){return(0,a.trackEvent)("click_download_item",{app_type:l(e)})},c=(r={},(0,o._)(r,i.DownloadPlatform.MacArm,"mac_app"),(0,o._)(r,i.DownloadPlatform.MacIntel,"mac_app_intel"),(0,o._)(r,i.DownloadPlatform.Windows,"windows_app"),(0,o._)(r,i.DownloadPlatform.Chrome,"chrome_extension"),(0,o._)(r,i.DownloadPlatform.Edge,"edge_extension"),(0,o._)(r,i.DownloadPlatform.Safari,"safari_extension"),r),l=function(e){var t;return null!==(t=c[e])&&void 0!==t?t:""}},58013:function(e,t,n){"use strict";n.d(t,{EmptyComponent:function(){return a}});var r=n("97458"),o=n("32208"),a=function(){return(0,r.jsx)(o.Navigate,{to:"/"})}},98985:function(e,t,n){"use strict";var r=n("92769"),o=n("88802"),a=n("52983"),i=n("87382"),s=n("17072"),u=n("26498"),c=n("32208"),l=n("53268"),d=n("65489"),f=n("76185"),v=n("72676"),g=n("58416");t.default=function(e){var t=e.children,n=(0,v.useTranslateFn)(),_=(0,c.useNavigate)();return(0,a.useEffect)(function(){var e=l.Modal.warning({title:n("bot_ban_notice_title"),content:n("bot_ban_notice_subtitle"),okText:n("bot_ban_notice_appeal"),cancelText:n("bot_ban_notice_confirm"),maskClosable:!1,closable:!1,centered:!0,onOk:function(){return(0,r._)(function(){var e,t,r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,f.apiService.setting.BanAppeal({user_id:s.SyncStorage.getItem("for_ban_appeal_sec_user_id")||""})];case 1:return 0===(e=o.sent()).code&&(i.logger.persist.info({eventName:"banAppeal success",meta:(0,d.getLoggerMeta)()}),l.Toast.success(e.msg),_(g.LOGIN_PAGE_ROUTE,{replace:!0})),[3,3];case 2:if((null==(t=o.sent())?void 0:null===(r=t.errorOption)||void 0===r?void 0:r.code)!==String(u.ErrorCodes.USER_BAN_RELEASED))return l.Toast.warning(n("log_in_internet_error")),[2,Promise.reject(Error("banAppeal failed"))];l.Toast.warning(t.errorOption.message),_(g.LOGIN_PAGE_ROUTE,{replace:!0});return i.logger.persist.error({message:"banAppeal failed",error:t}),[3,3];case 3:return[2]}})})()},onCancel:function(){_(g.LOGIN_PAGE_ROUTE,{replace:!0})}});return function(){e.destroy()}},[]),t}},39777:function(e,t,n){"use strict";n.d(t,{default:function(){return S}});var r=n("40509"),o=n("97458"),a=n("52983"),i=n("87608"),s=n.n(i),u=n("2628"),c=n("96317"),l=n("53268"),d=n("65336"),f=n("59240"),v=n("72676"),g=n("71375"),_=n("58416"),h=n("67618"),p=n("95455"),m=n("48033"),b={privacy:_.privacyPolicyLink,contact:(0,d.getFeedbackEmail)(),terms:_.termsOfServiceLink},C=l.Typography.Text,w=function(e){var t=e.showFeedbackModal,n=(0,v.useTranslateFn)();return(0,o.jsxs)("div",{className:s()(m["contact-box"]),children:[(0,o.jsx)("a",{href:b.contact,className:m.text,children:n("web_homepage_contact_us")}),(0,o.jsx)("span",{"data-testid":"not_login_aboutus_feedback_entry",onClick:function(){null==t||t()},className:m.text,children:n("submit_feedback")}),(0,o.jsx)("a",{href:b.terms,onClick:function(){(0,f.trackEvent)("click_login_home_protocol")},className:m.text,children:n("term_of_use")}),(0,o.jsx)("a",{href:b.privacy,onClick:function(){(0,f.trackEvent)("click_login_home_privacy")},className:m.text,children:n("privacy_policy")}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:m.divide}),(0,o.jsxs)("div",{className:m.copyright,children:[(0,o.jsx)(C,{className:m.content,children:"\u5317\u4EAC\u6625\u7530\u77E5\u97F5\u79D1\u6280\u6709\u9650\u516C\u53F8"}),(0,o.jsx)(C,{className:m.content,children:"\u5317\u4EAC\u5E02\u897F\u57CE\u533A\u961C\u6210\u95E8\u5916\u5927\u885731\u53F74\u5C42408D"}),(0,o.jsx)("a",{href:_.registrationLink,children:(0,o.jsx)(C,{className:m.content,children:"\u4EACICP\u59072023020373\u53F7-1"})})]})]})]})};function S(){var e=(0,r._)((0,a.useState)(!1),2),t=e[0],n=e[1],i=(0,r._)((0,a.useState)(!1),2),l=i[0],d=i[1],f=(0,v.useTranslateFn)();return(0,o.jsxs)(p.Section.Item,{className:"flex-1 !p-0",children:[(0,o.jsx)(u.PopoverI18n,{position:"topLeft",content:(0,o.jsx)(w,{showFeedbackModal:function(){n(!1),d(!0)}}),style:{borderRadius:12},trigger:"custom",visible:t,onVisibleChange:n,stopPropagation:!0,onClickOutSide:function(){return n(!1)},children:(0,o.jsx)("div",{"data-testid":"not_login_about_us",className:s()(g["button-wrap"],"flex justify-between items-center flex-1 text-14 text-neutral-50 font-medium"),onClick:function(){return n(function(e){return!e})},children:(0,o.jsxs)("div",{className:s()(g.button,"button-font-fix !px-5 !py-0 !rounded-12 h-40"),children:[(0,o.jsx)(c.AboutUsSvgIcon,{className:"text-black"}),(0,o.jsx)("span",{className:s()(g["button-text"],m["button-text"],"mr-8"),children:(0,o.jsx)("div",{className:" text-ellipsis whitespace-nowrap overflow-hidden",children:f("settings_about_app",{postProcess:"sprintf",sprintf:[_.brandName]})})})]})})}),(0,o.jsx)(h.NotLoggedFeedbackModal,{visible:l,onVisibleChange:d})]})}},79641:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var r=n("83316"),o=n("40509"),a=n("97458"),i=n("52983"),s=n("87608"),u=n.n(s),c=n("65042"),l=n("53268"),d=n("37245"),f=n("29441"),v=n("95455"),g=n("9632");function _(e){var t=e.switchChat,n=e.className,s=e.avatarSrc,_=e.alt,h=e.botName,p=e.isMainBot,m=void 0!==p&&p,b=(0,f.useChatListTheme)().bgUseNewStyle,C=(0,o._)((0,i.useState)(),2),w=C[0],S=C[1],x=(0,i.useRef)(!1),y=(0,c.getIsMobileOrIPad)()&&(0,c.isAppleWebkit)();return(0,a.jsxs)("div",{className:u()(v.Style["section-item"],d["chat-item"],b&&d["chat-item-new-bg"],(0,r._)({},d.mainCoco,m),n),onClick:function(e){return t(),e.preventDefault()},onTouchStart:y?function(){x.current=!1}:void 0,onTouchMove:y?function(){x.current=!0}:void 0,onTouchEnd:y?function(){!x.current&&t()}:void 0,draggable:"false",children:[(0,a.jsx)(l.Avatar,{className:d.avatar,src:w||s||g,alt:_||"",onError:function(e){S(g)}}),(0,a.jsx)("div",{className:u()(d.wrapper,(0,r._)({},d.mainBot,m)),children:(0,a.jsx)("div",{className:d.content,children:(0,a.jsx)("span",{className:d.title,children:h})})})]})}},8823:function(e,t,n){"use strict";var r=n("83316"),o=n("97458"),a=n("52983"),i=n("87608"),s=n.n(i),u=n("99136"),c=n("40789"),l=n("32156"),d=n("45457"),f=n("54451"),v=n("15399"),g=n("80867"),_=n("18278"),h=n("85608"),p=n("40976"),m=n("79451"),b=n("90421");t.default=function(e){var t=e.className,n=(0,f.useLoginModal)().setClickArea,i=(0,p.useUnLoginCtx)(),C=(0,a.useRef)(null),w=!(0,d.useIsNarrowScreen)();return(0,o.jsx)(u.MobileProvider,{children:(0,o.jsxs)("div",{className:s()(t,"flex w-full h-full items-center flex-col"),children:[(0,o.jsx)(l.SamanthaLayout.MaxWidthLayout,{children:(0,o.jsx)("div",{className:s()("flex justify-center h-64",(0,r._)({},s()(b.header,"mb-20"),m.isFromSeo)),children:(0,o.jsx)(_.default,{showLogo:!w,page:function(){var e;return(null===(e=C.current)||void 0===e?void 0:e.isInSearch())?c.VisitPage.BOT_LIST_DISCOVER_SEARCH_UNLOGIN:c.VisitPage.BOT_LIST_DISCOVER_UNLOGIN}})})}),(0,o.jsxs)("div",{className:s()(b.discover,"flex-1 flex flex-col w-full"),onClickCapture:function(){var e;n((null===(e=C.current)||void 0===e?void 0:e.isInSearch())?f.ClickArea.DISCOVER_SEARCH:f.ClickArea.DISCOVER)},children:[(0,o.jsx)("div",{className:s()(b.content,"flex-1 relative h-px"),children:(0,o.jsx)(v.BotDiscover,{ref:C,noLogin:!0,style:{height:"100%"},safeMargin:"92",enableTagsScroll:!i})}),(0,o.jsxs)(l.SamanthaLayout.MaxWidthLayout,{children:[!w&&(0,o.jsx)(h.default,{className:s()(i?"bottom-8":"bottom-100 fixed","absolute left-0 right-0 m-auto w-fit px-24 py-17 h-56 rounded-28")}),!i&&(0,o.jsx)(g.default,{className:"relative"})]})]})]})})}},80867:function(e,t,n){"use strict";var r=n("97458"),o=n("52983"),a=n("87608"),i=n.n(a),s=n("43850"),u=n("65042"),c=n("91342"),l=n("38438"),d=n("72676"),f=n("54451"),v=n("90421");t.default=function(e){var t=e.className,n=(0,o.useRef)(null),a=(0,s.useChatViewConfigFromUrl)(),g=(0,f.useLoginModal)().openLoginModal,_=(0,d.useTranslateFn)(),h=function(e){var t;g({landing:{type:l.GuestLandingType.CHAT,botId:null==a?void 0:a.chatId,message:null===(t=n.current)||void 0===t?void 0:t.getText()},trackInfo:{source:e}})};return(0,o.useEffect)(function(){if(!(0,u.getIsIPhoneOrIPad)()){var e;null===(e=n.current)||void 0===e||e.focus()}},[]),(0,r.jsx)("div",{className:i()("flex-none pt-12 pb-24 flex justify-center",t),children:(0,r.jsx)("div",{className:i()(v.input,"w-full px-24 max-w-[1000px]"),children:(0,r.jsx)(c.ChatInputUI,{ref:n,className:i()(v.chatInput,"w-full !max-w-[1000px] flex-1"),hasBoxShadow:!0,onSubmit:function(){return h(f.LoginOpenSource.INPUT_SEND_MSG)},allowEmptySubmit:!0,clearInputOnSubmit:!1,placeholder:_("send_message"),sendMessageHoverText:_("send_button_hover_text")})})})}},96189:function(e,t,n){"use strict";n.d(t,{Guest:function(){return p}});var r=n("97458"),o=n("52983"),a=n("32208"),i=n("1924"),s=n("31734"),u=n("88600"),c=n("40852"),l=n("16110"),d=n("54451"),f=n("45216"),v=n("98985"),g=n("79451"),_=n("33470"),h=function(){var e=(0,d.useLoginModal)().openLoginModal;(0,l.useFetchThirdLoginKeys)();var t=(0,c.useAuthStore)(function(e){return e.thirdLoginListLoaded});return(0,o.useEffect)(function(){if(!!t){var n=(0,i.getGuestHideHomepageUrl)(),r=(0,i.hasUGRedirectQuery)();(n||r)&&e({trackInfo:{source:n?d.LoginOpenSource.OTHER:d.LoginOpenSource.UG}})}},[t]),(0,g.useSkipToChatFromSeo)(function(t){e({landing:t,trackInfo:{bot_id:t.botId,source:d.LoginOpenSource.OTHER,login_entrance:t.login_entrance,previous_page:t.previous_page}})}),(0,r.jsx)(f.default,{})},p=function(){(0,s.useOnce)(function(){(0,u.markHomeLoadPhase)(u.HomeLoadPhase.LOGIN_PAGE_LOADED,"guest")}),(0,_.initChatKit)({isGuest:!0});var e,t=(0,a.useLocation)(),n=(0,r.jsx)(h,{});return(null==t?void 0:null===(e=t.state)||void 0===e?void 0:e.showAppeal)?(0,r.jsx)(v.default,{children:n}):n}},15531:function(e,t,n){"use strict";n.d(t,{BotList:function(){return s}});var r=n("97458"),o=n("10630"),a=n("95455"),i=n("79641"),s=function(e){var t,n,s,u,c,l,d,f,v,g=e.active,_=e.onClick,h=(null!==(s=(0,o.useMainConversationLink)())&&void 0!==s?s:{}).conversationId,p=null!==(u=(0,o.useConversation)(h))&&void 0!==u?u:{};return(0,r.jsx)("div",{className:"cursor-pointer",children:(0,r.jsx)(a.Section,{children:(0,r.jsx)(i.default,{isMainBot:!0,switchChat:function(){_()},avatarSrc:null!==(d=null!==(l=null!==(c=null==p?void 0:null===(t=p.icon_image)||void 0===t?void 0:t.tiny_url)&&void 0!==c?c:null==p?void 0:null===(n=p.icon_image)||void 0===n?void 0:n.origin_url)&&void 0!==l?l:null==p?void 0:p.icon_url)&&void 0!==d?d:"",alt:null!==(f=null==p?void 0:p.name)&&void 0!==f?f:"",botName:null!==(v=null==p?void 0:p.name)&&void 0!==v?v:"",className:void 0!==g&&g?a.Style.active:""})})})}},85062:function(e,t,n){"use strict";var r=n("97458"),o=n("87608"),a=n.n(o),i=n("40789"),s=n("89066"),u=n("78597"),c=n("88128"),l=n("96317"),d=n("72676"),f=n("54451"),v=n("32580"),g=n("30028"),_=n("58416"),h=n("63938"),p=n("29441"),m=n("14509"),b=n("15531"),C=n("71669"),w=n("39777");n("39504");var S=n("21764"),x=n("66205");t.default=function(e){var t=e.setMode,n=e.mode,o=(0,d.useTranslateFn)(),y=i.VisitPage.CHAT_LIST_UNLOGIN;(0,s.useMarkCurPageOnMount)(y);var k=(0,s.useMarkCurPageOnClick)(y),I=(0,f.useLoginModal)(),E=I.openLoginModal,L=I.setClickArea,T=(0,c.useIsNarrowScreen)(),N=(0,u.isSamanthaClient)(),A=function(){return E({trackInfo:{source:f.LoginOpenSource.NEW_THREAD}})};return(0,g.useShouldShowCookieBanner)(k),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.default,{}),(0,r.jsxs)("div",{className:a()("flex flex-col flex-none h-full flow-border-r",!!T&&"hidden"),children:[(0,r.jsx)("div",{className:"flex-none",style:{padding:"0 14px"},children:(0,r.jsx)(p.HeaderBigBtnsUI,{onClickNewChat:A})}),(0,r.jsxs)("div",{ref:k,className:a()("flex-1 relative overflow-auto px-14 pb-12",v["scrollbar-style"]),onClickCapture:function(){return L(f.ClickArea.CHAT_LIST)},children:[(0,r.jsx)(b.BotList,{active:n===m.MenuItem.Chat,onClick:function(){t(m.MenuItem.Chat)}}),(0,r.jsx)(p.DiscoverAIBot,{icon:(0,r.jsx)(l.CommonBtnIcon,{}),activeIcon:(0,r.jsx)(l.CommonBtnActiveIcon,{}),className:"",text:o("chat_list_discover"),url:_.MAIN_PAGE_ROUTE,onClick:function(){t(m.MenuItem.DiscoveryBot)},forceActive:n===m.MenuItem.DiscoveryBot,"data-testid":"bot_discover_btn"})]}),(0,r.jsx)(C.default,{type:"chatlist",page:i.VisitPage.CHAT_LIST_UNLOGIN}),!N&&!1,(0,r.jsxs)("div",{className:"flex items-center gap-2 mx-14 mb-22",children:[(0,r.jsx)(w.default,{}),N?(0,r.jsx)(S.default,{login:!1}):(0,r.jsx)(x.default,{login:!1})]})]})]})}},67589:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var r=n("97458"),o=n("96543"),a=n("39798"),i=n("54451"),s=n("27428"),u=n("78950"),c=n("14509"),l=n("42251"),d=n("21666"),f=n("54433"),v=n("88484"),g={UploadButtonGroup:l.default,ChatView:u.CustomChatView,ChatTemplateBar:d.ChatTemplateBar,ChatInput:f.ChatInput,ChatHeader:function(){return(0,r.jsx)(v.default,{})}};function _(){(0,s.useInitPreloadChunk)();var e=(0,i.useLoginModal)().openLoginModal;return(0,r.jsx)(o.ChatKitPage,{bizSlots:g,excludeMsgActions:a.ActionKeyAll,toChatPage:function(){return e(c.landingData)},toCreateBotPage:function(){return e(c.landingData)}})}},88484:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("40789"),s=n("78597"),u=n("58416"),c=n("10091");n("34681");var l=n("71669");function d(){return(0,s.useMedia)({maxWidth:600})?(0,r.jsxs)("div",{className:a()("flex-none flex justify-between h-64 py-12  w-full px-14"),children:[(0,r.jsxs)("h1",{className:"flex items-center",children:[(0,r.jsx)("img",{src:c,alt:"Logo",className:"w-32 h-32 rounded-half mr-8"}),(0,r.jsx)("span",{className:"font-bold text-16",children:u.brandName})]}),(0,r.jsx)("div",{className:a()("flex-shrink-0"),children:(0,r.jsx)(l.default,{page:i.VisitPage.CHAT_LIST_UNLOGIN})})]}):null}},54433:function(e,t,n){"use strict";n.d(t,{ChatInput:function(){return _}});var r=n("9161"),o=n("16044"),a=n("40509"),i=n("52983"),s=n("33434"),u=n("10824"),c=n("72490"),l=n("91342"),d=n("62920"),f=n("76516"),v=n("54451"),g=n("14509"),_=(0,c.ChatInputGlueComposer)(l.ChatInputUI,function(){var e=(0,u.useConversationDisabled)().isDisabled,t=(0,v.useLoginModal)().openLoginModal,n=(0,a._)((0,d.useChatStore)(function(e){return[e.guestCanChat,e.chatNotReachLimit,e.setNotReachLimit]},s.shallow),3),c=n[0],l=n[1],_=n[2];(0,i.useEffect)(function(){var e=function(){_(!1)};return f.FlowEvent.addListener("guest.reachLimit",e),function(){f.FlowEvent.removeListener("guest.reachLimit",e)}},[]);var h=e||!c||c&&!l;return{isConversationDisabled:h,disabledWrapperClick:h?function(){t((0,o._)((0,r._)({},g.landingData),{trackInfo:{source:v.LoginOpenSource.INPUT_SEND_MSG}}))}:void 0}})},21666:function(e,t,n){"use strict";n.d(t,{ChatTemplateBar:function(){return _}});var r=n("9161"),o=n("16044"),a=n("97458"),i=n("52983"),s=n("9407"),u=n("83127"),c=n("33573"),l=n("34699"),d=n("54451"),f=n("14509"),v=n("39012"),g=(0,i.forwardRef)(function(e,t){var n=e.displaySkills,l=e.visible,g=e.hasActiveSkill;(0,i.useImperativeHandle)(t,function(){return{}},[]);var _=(0,i.useRef)(null),h=(0,d.useLoginModal)().openLoginModal;if(!l)return g?null:null;return(0,a.jsxs)("div",{ref:_,className:v["chat-footer-action-wrapper"],children:[(0,a.jsx)("div",{className:"flex-shrink-0"}),(0,a.jsx)("div",{className:"flex-1 min-w-0 pt-10 pl-8",children:(0,a.jsx)(s.Carousel,{enableArrowBorder:!1,children:n.map(function(e){return(0,a.jsx)(u.ActionButton,{className:"pr-8",text:e.show_name,icon:(0,a.jsx)(c.SkillIcon,{skill_type:e.skill_type,icon_url:e.icon_url}),onClick:function(){return h((0,o._)((0,r._)({},f.landingData),{trackInfo:{source:d.LoginOpenSource.SKILL}}))}},e.skill_id)})})})]})}),_=(0,l.ChatSkillBarGlueComposer)(g,l.useChatSkillBarData)},42251:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});var r=n("9161"),o=n("16044"),a=n("97458"),i=n("3461"),s=n("70469"),u=n("54451"),c=n("14509");function l(){var e=(0,u.useLoginModal)().openLoginModal,t=(0,i.useChat)().t;return(0,a.jsx)(s.ChatInputIconButton,{type:"file",onClick:function(){return e((0,o._)((0,r._)({},c.landingData),{trackInfo:{source:u.LoginOpenSource.UPLOAD}}))},addFileTitle:t("add_file")})}},14509:function(e,t,n){"use strict";n.d(t,{MenuItem:function(){return s},landingData:function(){return i}});var r,o=n("38438"),a=n("54451"),i={landing:{type:o.GuestLandingType.CHAT_CAN_USE},trackInfo:{source:a.LoginOpenSource.OTHER}};var s=((r={}).Chat="chat",r.DiscoveryBot="discover",r)},45216:function(e,t,n){"use strict";n.d(t,{default:function(){return j}});var r=n("92769"),o=n("40509"),a=n("88802"),i=n("97458"),s=n("52983"),u=n("33434"),c=n("87382"),l=n("89066"),d=n("80812"),f=n("83809"),v=n("65042"),g=n("32156"),_=n("259"),h=n("76516"),p=n("62920"),m=n("1101"),b=n("74015"),C=n("32208"),w=n("20945"),S=n("24306"),x=n("59240"),y=n("37884"),k=n("54451"),I=n("90222"),E=n("40976"),L=n("14509"),T=n("67589"),N=n("85062"),A=n("8823"),P=new _.DefaultSocketClient({afterInit:function(){P.addEventListener("message",function(e){var t,n,r=(0,_.handleFrontierEvent)(e),o=null==r?void 0:null===(t=r.event)||void 0===t?void 0:t.message;(null==o?void 0:null===(n=o.ext)||void 0===n?void 0:n.has_err)==="710022013"&&h.FlowEvent.emit("message.reachLimit",o)})}});function j(){var e,t,n,_=(0,o._)((0,s.useState)(),2),h=_[0],j=_[1],R=(0,o._)((0,s.useState)(L.MenuItem.Chat),2),M=R[0],G=R[1],F=(0,o._)((0,p.useChatStore)(function(e){return[e.setGuestCanChat]},u.shallow),1)[0],D=(0,o._)((0,w.useGuestConfigStore)(function(e){return[e.initGuestAbTestParams]},u.shallow),1)[0],O=(0,l.useWatchTeaAbConfig)(),B=(0,s.useRef)("beforeLogout"),U=(0,C.useLocation)(),H=(0,C.useNavigate)(),V=(0,s.useRef)({pageCreateTime:(null!==(n=null===(t=window)||void 0===t?void 0:t.performance)&&void 0!==n?n:Date).now(),initLocationKey:U.key}).current.pageCreateTime,q=(0,k.useLoginModal)().openLoginModal;var W=(e=(0,r._)(function(){var e,t,n=arguments;return(0,a.__generator)(this,function(r){switch(r.label){case 0:e=n.length>0&&void 0!==n[0]&&n[0],r.label=1;case 1:return r.trys.push([1,4,,5]),[4,x.uidExists.getResult()];case 2:if(!r.sent())return q({trackInfo:{source:k.LoginOpenSource.AFTER_CHAT_OPEN},onCancel:function(){return H("/")}}),[2];return[4,(0,S.initChatApp)(!e,V,{reporter:(0,f.createInitChatReporter)(!e,V,!0),networkClient:{socketClient:P},needServiceInit:!1})];case 3:return j(r.sent()),[3,5];case 4:return t=r.sent(),e?W(!1):c.logger.persist.error({message:"guest init app error",error:t}),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)}),K=function(){(0,I.destroyMusicPlayerManager)()};return(0,s.useLayoutEffect)(function(){!(0,v.isSamanthaClient)()&&window.Tea.getVar("guestMode",{chatMode:L.MenuItem.Chat,canSendMsg:!1,disableGuidance:!1},function(e){G(e.chatMode),F(e.canSendMsg),D({disableGuidance:!!e.disableGuidance})})},[O]),(0,s.useLayoutEffect)(function(){return(0,p.resetChatStore)(),localStorage.setItem("hasEnterGuest","1"),W(!0),(0,v.isSamanthaClient)(),function(){K()}},[]),(0,s.useEffect)(function(){var e=function(e){(0,m.IMCoreMessageServiceInit)({config:e,socketClient:P,reportEvent:(0,f.createInitChatReporter)(!0,V,!0).event,fetchStream:{client:b.fetchStream},getCommonHttpHeaders:d.getCommonHeaders,getCommonHttpParams:d.getCommonParams,getCommonSocketParams:d.getSocketCommonParams})},t=function(){(null==h?void 0:h.config)&&"beforeLogout"===B.current?(e(h.config),B.current="afterInit"):B.current="afterLogout"};return(null==h?void 0:h.config)&&"afterLogout"===B.current&&e(h.config),y.FlowAccount.passportApi.on("afterLogout",t),function(){y.FlowAccount.passportApi.off("afterLogout",t)}},[h]),(0,i.jsx)("div",{className:"flex h-full",children:(0,i.jsxs)(g.SamanthaLayout,{children:[(0,i.jsx)(g.SamanthaLayout.LeftSide,{children:(0,i.jsx)(N.default,{mode:M,setMode:G})}),(0,i.jsx)(g.SamanthaLayout.CenterFullMode,{children:(0,i.jsxs)(E.UnLoginContext.Provider,{value:{isNewLogin:!0},children:[M===L.MenuItem.Chat&&(0,i.jsx)(T.default,{}),M===L.MenuItem.DiscoveryBot&&(0,i.jsx)(A.default,{})]})})]})})}},3766:function(e,t,n){"use strict";n.d(t,{EmptyComponent:function(){return a.EmptyComponent},Guest:function(){return s.Guest},LoadingPage:function(){return r.LoadingPage},SettingsContent:function(){return o.SettingsContent},withRequireAuth:function(){return i.withRequireAuth}});var r=n("30998");n("1066");var o=n("49060"),a=n("58013"),i=n("61884");n("68030");var s=n("96189")},30998:function(e,t,n){"use strict";n.d(t,{LoadingPage:function(){return u}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("53268"),s=n("13004"),u=function(e){var t=e.message;return(0,r.jsxs)("div",{className:s["loading-page"],children:[(0,r.jsx)(i.Spin,{spinning:!0,size:"large"}),(0,r.jsx)("div",{className:a()(s.title),children:t})]})}},49060:function(e,t,n){"use strict";n.d(t,{SettingBlock:function(){return o.SettingBlock},SettingHeader:function(){return a.SettingHeader},SettingsContent:function(){return r.SettingsContent}});var r=n("64651"),o=n("88058"),a=n("34410");n("8507")},88058:function(e,t,n){"use strict";n.d(t,{SettingBlock:function(){return s}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("42559"),s=function(e){var t=e.title,n=e.className,o=e.style,s=e.children,u=e.suffix;return(0,r.jsxs)("div",{className:a()(i.block,n),style:o,children:[t&&(0,r.jsx)("div",{className:i.title,children:t}),(0,r.jsxs)("div",{className:i["block-content"],children:[s,void 0===u?null:u]})]})}},34410:function(e,t,n){"use strict";n.d(t,{SettingHeader:function(){return d}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("53370"),s=n("96317"),u=n("53268"),c=n("59240"),l=n("42559"),d=function(e){var t=e.leftNode,n=e.titleNode,o=e.rightNode,d=e.isFront,f=(0,i.useChatLayoutStore)();return(0,r.jsxs)("div",{className:a()(l["setting-header"]),children:[(0,r.jsx)("div",{className:a()(l["setting-header-left"]),children:t||(0,r.jsx)(u.Button,{onClick:function(){if(d){f.setActiveKey(void 0);return}"/character-setting"===f.routesStack.at(-1)&&(0,c.trackEvent)("cancel_edit_personality"),f.goBack()},icon:(0,r.jsx)(s.ArrowLeftIcon,{}),className:a()("icon-button",d&&l["front-button"])})}),(0,r.jsx)("div",{className:a()(l["setting-header-title"]),children:n}),(0,r.jsx)("div",{className:a()(l["setting-header-right"]),children:o})]})}},8507:function(e,t,n){"use strict";n.d(t,{SettingSelect:function(){return c}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("96317"),s=n("42559"),u=function(e){var t=e.label,n=e.desc,o=e.value,a=e.active,u=e.onClick;return(0,r.jsxs)("div",{className:s["select-item"],onClick:function(){return null==u?void 0:u(o)},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:s.label,children:t}),(0,r.jsx)("p",{className:s.desc,children:n})]}),a&&(0,r.jsx)(i.TickIcon,{})]})},c=function(e){var t=e.options,n=e.value,o=e.onChange,i=e.className,c=e.style;return(0,r.jsx)("div",{className:a()(s["setting-select"],i),style:c,children:t.map(function(e){return(0,r.jsx)(u,{value:e.value,label:e.label,desc:e.desc,active:n===e.value,onClick:function(e){return null==o?void 0:o(e,n)}},String(e.value))})})}},64651:function(e,t,n){"use strict";n.d(t,{SettingsContent:function(){return w}});var r=n("83316"),o=n("40509"),a=n("97458"),i=n("52983"),s=n("87608"),u=n.n(s),c=n("87382"),l=n("89066"),d=n("40789"),f=n("53370"),v=n("10630"),g=n("87575"),_=n("59240"),h=n("82824"),p=n("50855"),m=n("42559"),b=function(e){var t=e.children,n=e.visible,o=e.onCancel,s=e.maskVisible,c=e.pageType;(0,i.useEffect)(function(){(0,l.markCurPage)(n?c:d.VisitPage.CHAT)},[n]);var f=(0,l.useMarkCurPageOnClick)(c);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:u()(m["side-sheet-mask"],(0,r._)({},m["side-sheet-mask-visible"],s)),onClick:function(){null==o||o()}}),(0,a.jsx)("div",{ref:f,className:u()(m["side-sheet-content"],(0,r._)({},m["side-sheet-content-visible"],n)),children:t})]})},C=function(e){var t=e.state,n=e.currentComponent,r=(0,o._)((0,i.useState)(null),2),s=r[0],c=r[1],l=(0,o._)((0,i.useState)(null),2),d=l[0],f=l[1],v=(0,o._)((0,i.useState)(1),2),g=v[0],_=v[1],h=(0,o._)((0,i.useState)({cur:"",prev:""}),2),p=h[0],b=h[1];return(0,i.useEffect)(function(){switch(f(s),c(n),_(function(e){return e?0:1}),t){case"push":b({prev:m["slide-out"],cur:m["slide-in"]});break;case"pop":b({prev:m["slide-in-reverse"],cur:m["slide-out-reverse"]});break;case"replace":b({prev:m["slide-prev-replace"],cur:m["slide-cur-replace"]});break;default:b({prev:m["slide-prev-replace"],cur:m["slide-cur-replace"]})}},[n]),(0,a.jsxs)("div",{className:m["carousel-like"],children:[(0,a.jsx)("div",{className:u()(m["slide-block"],0===g?p.cur:p.prev),children:0===g?s:d}),(0,a.jsx)("div",{className:u()(m["slide-block"],1===g?p.cur:p.prev),children:1===g?s:d})]})},w=(0,c.withErrorBoundary)(function(e){var t=e.routes,n=e.chatId,r=e.chatType,s=(0,f.useChatLayoutStore)(),u=s.state,c=s.routesStack,l=s.activeKey,p=s.setActiveKey,m=s.mode,w=(0,v.useConversation)(n),S=(null==w?void 0:w.bot_id)||n,x=(0,o._)((0,i.useState)(null),2),y=x[0],k=x[1],I=c.at(-1),E=(0,i.useMemo)(function(){return t.find(function(e){return e.route===I})},[t,I]),L=(0,f.useChatLayoutCurrentState)().enter_from;return(0,i.useEffect)(function(){l&&(0,_.trackEvent)("enter_page",{page:"bot_setting",bot_id:S,is_tts:0,enter_method:L,conversation_id:null==w?void 0:w.conversation_id,conversation_type:null==w?void 0:w.conversation_type})},[I,l]),(0,i.useEffect)(function(){l&&l!==n&&"setting"===m&&p(void 0);var e=null==E?void 0:E.component;e&&((0,h.isBotChat)(r)?k((0,a.jsx)(e,{botId:n,conversationId:"",chatType:r})):k((0,a.jsx)(e,{botId:S,conversationId:n,chatType:r})))},[c,S,n,l]),(0,a.jsx)(b,{visible:"setting"===m?n===l:void 0!==S&&S===l,maskVisible:!1,onCancel:function(){return p(void 0)},pageType:(0,g.isCocoSubConversation)(w)?d.VisitPage.NEW_CHAT_SETTING:(null==E?void 0:E.pageType)||d.VisitPage.BOT_SETTING,children:(0,a.jsx)(C,{currentComponent:y,state:u})})},{errorBoundaryName:"chat_right_side_error",FallbackComponent:p.ChatSecondaryErrorFallback})},82824:function(e,t,n){"use strict";n.d(t,{isBotChat:function(){return o}});var r=n("82169"),o=function(e){return!!e&&[r.ChatType.Bot,r.ChatType.ProfileBot].includes(e)}},3269:function(e,t,n){"use strict";n.d(t,{useChoicenessBotListExcludeConversation:function(){return u},useLocalConversationWithBotId:function(){return l},useRecommendListStatus:function(){return c}});var r=n("40509"),o=n("33434"),a=n("62920"),i=n("26689"),s=n("99956"),u=function(){var e=(0,s.useBotStore)(function(e){return e.choicenessBotLinks},o.shallow),t=(0,r._)((0,s.useBotStore)(function(e){return[e.botMap,e.botIdToLocalConversationMap]},o.shallow),2),n=t[0],u=t[1],c=(0,r._)((0,a.useChatStore)(function(e){return[e.conversationLinks]},o.shallow),1)[0];return e.filter(function(e){var t,r=n[e.botID],o=u[e.botID]||"";return!r.has_conversation&&(null===(t=r.action)||void 0===t?void 0:t.action_type)===i.BotActionType.ArchiveConversation&&!c.find(function(e){return e.conversationId===o})})},c=function(){return(0,s.useBotStore)(function(e){return e.discoveryBotListStatus||{}},o.shallow)},l=function(e){return(0,s.useBotStore)(function(t){return e?t.botIdToLocalConversationMap[e]:void 0})}},66442:function(e,t,n){"use strict";n.d(t,{useFeedbackBaseConfig:function(){return g}});var r=n("92769"),o=n("40509"),a=n("88802"),i=n("52983"),s=n("87382"),u=n("72695"),c=n("10173"),l=n("82182"),d=n("74175"),f=n("58416"),v=(0,f.getAid)(),g=function(){var e,t=(0,o._)((0,i.useState)(""),2),n=t[0],g=t[1];var _=(e=(0,r._)(function(){return(0,a.__generator)(this,function(e){switch(e.label){case 0:return[4,d.apiService.setting.GetWebAnonID()];case 1:return g(String(e.sent().web_id)),[2]}})}),function(){return e.apply(this,arguments)});return(0,i.useEffect)(function(){_()},[]),{deviceId:n,aid:v,logger:s.logger,appName:f.FEEDBACK_APP_NAME,appkey:f.FEEDBACK_APP_KEY,feedbackAxiosInstance:l.rawAxiosInstance,channel:"web",reqQueryParams:{version_code:(0,u.getShortVersionCode)(c.version_code)}}}},83226:function(e,t,n){"use strict";n.d(t,{getDeskDownloadLinks:function(){return l},getExtDownloadLinks:function(){return d}});var r,o,a=n("92769"),i=n("88802"),s=n("72662"),u=n("58416"),c=s.default.create({timeout:1e4});var l=(r=(0,a._)(function(e){var t,n,r,o,a,s,l,d;return(0,i.__generator)(this,function(i){switch(i.label){case 0:n=(t=e||{}).isTest,r=t.ugUtmSource,i.label=1;case 1:return i.trys.push([1,3,,4]),l=n?u.desktopDownloadPath.replace("=web","=test"):u.desktopDownloadPath,r&&(l="".concat(l,"&ug_utm_source=").concat(r)),[4,c.get(l)];case 2:return[2,null==(d=i.sent())?void 0:null===(s=d.data)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:null===(o=a.settings)||void 0===o?void 0:o.saman_update_address];case 3:throw Error(i.sent());case 4:return[2]}})}),function(e){return r.apply(this,arguments)});var d=(o=(0,a._)(function(){var e,t,n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.get(u.extDownloadCdn)];case 1:return[2,JSON.parse((null!==(n=null==(t=r.sent())?void 0:null===(e=t.data)||void 0===e?void 0:e.data)&&void 0!==n?n:"{}").plugin_download)];case 2:throw Error(r.sent());case 3:return[2]}})}),function(){return o.apply(this,arguments)})},16916:function(e,t,n){"use strict";n.d(t,{reportOCPC:function(){return i}});var r=n("89066"),o=n("76185"),a=function(e){try{return!!new URL(e).searchParams.get("channel")}catch(e){return!1}},i=function(e){a((0,r.loadTeaLandingUrl)())&&o.apiService.notify.ReportOCPCEvent({landing_page_url:(0,r.loadTeaLandingUrl)(),app_id:"482431",event_name:e,event_ts:String(Math.floor(Date.now()/1e3))})}},80693:function(e,t,n){"use strict";n.d(t,{initChatApp:function(){return r.initChatApp},initUserChatApp:function(){return r.initUserChatApp},refreshConversationList:function(){return a.refreshConversationList},updateBotInfo:function(){return o.updateBotInfo},updatePrivateStatus:function(){return o.updatePrivateStatus}});var r=n("7577"),o=n("45309"),a=n("83428")},7577:function(e,t,n){"use strict";n.d(t,{initChatApp:function(){return p},initUserChatApp:function(){return m}});var r,o=n("92769"),a=n("9161"),i=n("16044"),s=n("88802"),u=n("83809"),c=n("11624"),l=n("89066"),d=n("13625"),f=n("6314"),v=n("94686"),g=n("62966"),_=n("85972"),h=n("76185");var p=(r=(0,o._)(function(e,t,n){var r,o,p,m,b,C,w,S,x,y,k,I;return(0,s.__generator)(this,function(s){switch(s.label){case 0:o=(null==(r=null==n?void 0:n.reporter)?void 0:r.event)||(0,u.createDefaultInitChatReportEvent)(e,t),g.useGlobalStore.setState(function(){return{launchStatus:g.LaunchStatus.Loading}}),s.label=1;case 1:return s.trys.push([1,4,,5]),null==r||null===(p=r.beforeFetchStart)||void 0===p||p.call(r,g.FetchLaunchType.Config),o.addDurationPoint("firstLaunchStart"),[4,h.apiService.setting.LaunchRequireLogin((0,i._)((0,a._)({},null==r?void 0:null===(m=r.getLaunchOptions)||void 0===m?void 0:m.call(r)),{select:{launch_config:!0,assistant_bot_info:!0,landing_config:!0,user_info:!0}}))];case 2:return C=s.sent().data,o.addDurationPoint("firstLaunchEnd"),null==r||null===(b=r.afterFetchDone)||void 0===b||b.call(r,g.FetchLaunchType.Config),[4,c.ChatKit.initChatApp((0,i._)((0,a._)({},n),{launchData:C,userInfo:(0,v.getUserInfo)()}))];case 3:if(!(null==(w=s.sent())?void 0:w.config))return[2];return S=w.config,(0,d.default)("context.set","web_id",S.web_id),_.useExtStore.setState(function(){return{address:(null==w?void 0:w.web_ext_url)||""}}),x=w.sec_user_id,y=w.country,k=w.discard_link,y&&((0,f.setCountry)(y),(0,d.default)("context.set","country",y),(0,l.configTeaCountry)(y)),v.useUserStore.setState(function(e){return(0,a._)({},e)}),(0,d.default)("context.set","sec_user_id",x),g.useGlobalStore.setState(function(){return{launchStatus:g.LaunchStatus.Success,discordLink:k||""}}),[2,w];case 4:throw I=s.sent(),o.error({error:I,reason:"launch_failed"}),g.useGlobalStore.setState(function(){return{launchStatus:g.LaunchStatus.Failed}}),I;case 5:return[2]}})}),function(e,t,n){return r.apply(this,arguments)}),m=function(e,t){return p(e,t,{reporter:(0,u.createInitChatReporter)(e,t,!1)})}},83428:function(e,t,n){"use strict";n.d(t,{refreshConversationList:function(){return m}});var r=n("92769"),o=n("88802"),a=n("83911"),i=n("6139"),s=n("87382"),u=n("83140"),c=n("10630"),l=n("62920"),d=n("9668"),f=n("26689"),v=n("99956"),g=n("58416"),_=function(){v.useBotStore.getState().initRecommendBotList({size:g.choicenessBotsCount,recommendType:f.BotRecommendType.Choiceness})},h=function(e,t){var n,r,o=(0,u.getChatIdFromURL)(),i=l.useChatStore.getState().localConversationMap,c=o&&(null===(r=i[o])||void 0===r?void 0:null===(n=r.local)||void 0===n?void 0:n.createStatus)===d.CreateConversationStatus.Creating,f=t.slice(0,5).filter(function(t){return(0,a.default)(e.find(function(e){return t.conversation_id===e.conversationId}))});c&&f.length>0&&s.logger.persist.warning({eventName:"new_thread_failed_but_shown",meta:{new_thread_list:f.map(function(e){return{conversation_id:e.conversation_id,message_cursor:e.message_cursor,message_index:e.message_index}}),local_conversation_id:o}})},p=(0,i.default)((0,r._)(function(){var e,t,n,r,a,i,u;return(0,o.__generator)(this,function(o){switch(o.label){case 0:e=(0,s.createReportEvent)({eventName:"refresh_conversation_list"}),o.label=1;case 1:return o.trys.push([1,3,,4]),t=(0,c.getThreadLinksFromConversationLinks)({conversationLinks:l.useChatStore.getState().conversationLinks,botConversationIndex:l.useChatStore.getState().botConversationIndex,threadIndex:l.useChatStore.getState().threadIndex}),[4,l.useChatStore.getState().loadConversationList({size:g.REFRESH_CHAT_CONVERSATION_COUNT,index:0,isRefresh:!0})];case 2:if(n=o.sent(),e.addDurationPoint("fetch_success"),0===n.length)return e.error({reason:"empty_conversation_list",error:Error("empty_conversation_list")}),[2];return l.useChatStore.getState().updateLastMessageMap({conversationIds:n.map(function(e){return e.conversation_id||""}).filter(Boolean)}),e.addDurationPoint("update_last_message_map_success"),a=(r=v.useBotStore.getState().choicenessBotListStatus).count,i=r.hasMore,a<1&&i&&(_(),e.addDurationPoint("init_recommend_bot_list_success")),h(t,n),e.success(),[3,4];case 3:return(u=o.sent())instanceof Error&&e.error({reason:"refresh_conversation_list_failed",error:u}),[3,4];case 4:return[2]}})}),1e3,{leading:!0,trailing:!1}),m=function(){return p()}},45309:function(e,t,n){"use strict";n.d(t,{updateBotInfo:function(){return _},updatePrivateStatus:function(){return h}});var r,o,a=n("92769"),i=n("88802"),s=n("87382"),u=n("62920"),c=n("11068"),l=n("53268"),d=n("99956"),f=n("59240"),v=n("76185"),g=n("72676");var _=(r=(0,a._)(function(e,t){var n,r,o,a,f,_,h,p,m,b;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(n=e.bot_id,r=u.useChatStore.getState().fetchUpdateConversationInfo,o=(0,s.createReportEvent)({eventName:"update_bot_profile",meta:{bot_id:n}}),!n)return[3,4];o.addDurationPoint("start"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,v.apiService.bot.UpdateBot(e)];case 2:return a=i.sent(),o.addDurationPoint("success"),o.success(),t?r(t):(null==a?void 0:null===(f=a.data)||void 0===f?void 0:f.bot_info)&&d.useBotStore.getState().updateBot(null==a?void 0:null===(_=a.data)||void 0===_?void 0:_.bot_info),[3,4];case 3:throw h=i.sent(),o.error({reason:"update_bot_failed",error:h}),p=(0,g.getUnreactiveTranslate)("edit_bot_failed"),(0,c.isApiErrorWithI18n)(h)&&(p=null!==(b=null==h?void 0:null===(m=h.errorOption)||void 0===m?void 0:m.message)&&void 0!==b?b:""),l.Toast.error({content:p,showClose:!1}),Error(h);case 4:return[2]}})}),function(e,t){return r.apply(this,arguments)});var h=(o=(0,a._)(function(e,t,n){var r;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),(0,f.trackEvent)("change_bot_visible_status",{to_status:t}),[4,_({bot_id:e,private_status:t},n)];case 1:case 2:return r.sent(),[3,3];case 3:return[2]}})}),function(e,t,n){return o.apply(this,arguments)})},88342:function(e,t,n){"use strict";n.d(t,{handleSharkError:function(){return i}});var r=n("53268"),o=n("59240"),a=n("37884");function i(e,t){var n,i;r.Toast.warning({content:null===(n=t.ext)||void 0===n?void 0:n.err_msg,showClose:!1}),a.FlowAccount.passportApi.logout({reason:"shark_block",trackMeta:{from:"frontier",msg:null===(i=t.ext)||void 0===i?void 0:i.err_msg}}).then(function(){(0,o.trackEvent)("logout_result",{scene:"frontier",success:1})}).catch(function(e){throw(0,o.trackEvent)("logout_result",{scene:"frontier",success:0}),e})}},98913:function(e,t,n){"use strict";n.d(t,{handleEvaluateWhenFinishedUpdateMessage:function(){return o}});var r=n("87575"),o=function(e,t){(0,r.isMessageFinished)(t)}},24306:function(e,t,n){"use strict";n.d(t,{initChatApp:function(){return r.initChatApp},initUserChatApp:function(){return r.initUserChatApp},updateBotInfo:function(){return r.updateBotInfo}}),n("80937");var r=n("80693")},85972:function(e,t,n){"use strict";n.d(t,{useExtStore:function(){return u}});var r=n("9161"),o=n("16044"),a=n("37222"),i=n("85205"),s={address:""},u=(0,i.create)()((0,a.subscribeWithSelector)(function(e){return(0,o._)((0,r._)({},s),{setAddress:function(t){return e(function(){return{address:t}})}})}))},38059:function(e,t,n){"use strict";n.d(t,{getLogIdFromHeaders:function(){return r}}),n("5681");var r=function(e){return null==e?void 0:e["x-tt-logid"]};Date.now()},65336:function(e,t,n){"use strict";n.d(t,{getFeedbackEmail:function(){return a}});var r=n("72676"),o=n("58416"),a=function(){return"".concat(o.feedbackContact,"?body=").concat(encodeURIComponent((0,r.getUnreactiveTranslate)("email_feedback_content",{postProcess:"sprintf",sprintf:[o.brandName]})))}},31734:function(e,t,n){"use strict";n.d(t,{useLocationState:function(){return i},useOnce:function(){return a}});var r=n("52983"),o=n("32208"),a=function(e){var t=(0,r.useRef)(!1);!t.current&&(t.current=!0,e())},i=function(){return(0,o.useLocation)().state}},65489:function(e,t,n){"use strict";n.d(t,{getLoggerMeta:function(){return l}});var r=n("9161"),o=n("16044"),a=n("42623"),i=n("11068"),s=n("94686"),u=n("37059"),c=n("38059"),l=function(){var e,t,n,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=l.userInfo,f=void 0===d?(0,s.getUserInfo)():d,v=l.meta,g=l.error,_=(0,o._)((0,r._)({},v),{ssoEmail:null!==(e=(0,u.getSSOEmail)())&&void 0!==e?e:void 0});return f&&(_.uid=f.user_id_str),g&&((0,i.isApiError)(g)?_.logId=null===(t=g.errorOption)||void 0===t?void 0:t.logId:(0,a.isAxiosError)(g)?_.logId=(0,c.getLogIdFromHeaders)(null===(n=g.response)||void 0===n?void 0:n.headers):_.error=g),v}},8643:function(e,t,n){"use strict";n.d(t,{TemplateType:function(){return o}});var r,o=((r={})[r.AI_ARTIST=0]="AI_ARTIST",r)},46366:function(e,t,n){"use strict";n.d(t,{useBeforeSendMessage:function(){return F},useConversationDisabledParams:function(){return G},useHandleChatPageHooks:function(){return j},useHandleCreateConversation:function(){return R},useHandleTemplateImageClick:function(){return M}});var r=n("92769"),o=n("83316"),a=n("9161"),i=n("16044"),s=n("40509"),u=n("88802"),c=n("52983"),l=n("33434"),d=n("87382"),f=n("54030"),v=n("75761"),g=n("31566"),_=n("52420"),h=n("87681"),p=n("87575"),m=n("10630"),b=n("53641"),C=n("32208"),w=n("60007"),S=n("83140"),x=n("89066"),y=n("40789"),k=n("41523"),I=n("53370"),E=n("5987"),L=n("15457"),T=n("12772"),N=n("43850"),A=n("99136"),P=n("77054"),j=function(){var e=(0,w.useChatKit)().getRequestIdByBotId,t=(0,C.useLocation)(),n=(0,c.useRef)(0),r=(0,c.useRef)(""),o=function(){var e,n=(0,S.getLoginSourceQuery)(t),r=null===(e=t.state)||void 0===e?void 0:e.from_visit_page,o=(0,x.markCurPage)(y.VisitPage.CHAT),a=o.curPage,i=o.prevPage;return{current_page:a||"other",previous_page:n||r||i||"other"}},s=(0,T.useInitMessageFromState)().initSearchSendMessage;return{handleChatPageDestroy:function(r){var o,a,i,s=r.conversationId,u=(null==t?void 0:null===(o=t.state)||void 0===o?void 0:o.enter_from)==="bot_discover",c=(0,v.getInfoByConversationId)(s).botInfo,l=(0,v.getBotIdByConversationId)(s);g.FlowTea.trackEvent("leave_chat_page",{current_page:y.VisitPage.CHAT,bot_id:l,duration:String(Date.now()-(null!==(i=null==t?void 0:null===(a=t.state)||void 0===a?void 0:a.page_start_time)&&void 0!==i?i:n.current)),chat_type:(0,v.getChatTypeForTea)(s,c),user_id:u?_.FlowConfig.userId:void 0,req_id:u?null==e?void 0:e(l):void 0,recommend_from:u?"bot_list_discover":void 0})},handleChatPageLoaded:function(u){var c=u.conversationId;s({conversationId:c,botId:u.botId});var l=(0,v.getInfoByConversationId)(c),d=l.botInfo,f=l.conversation,h=(null==t?void 0:null===(p=t.state)||void 0===p?void 0:p.enter_from)==="bot_discover";if((!(null==t?void 0:null===(m=t.state)||void 0===m?void 0:m.create_chat_type)||"chat_with_bot"!==t.state.create_chat_type)&&r.current!==c){r.current=c,n.current=Date.now();var p,m,b,C,w,x,k=(0,v.getBotIdByConversationId)(c),I=y.usePageHistoryStore.getState().getCurPrevPage().prevPage,E=(0,S.getLoginSourceQuery)(),L=(0,a._)((0,i._)((0,a._)({},o()),{page:y.VisitPage.CHAT,current_page:y.VisitPage.CHAT,bot_id:k,is_tts:0,conversation_id:c,conversation_type:null==f?void 0:f.conversation_type,enter_method:I===y.VisitPage.LANDING?"landing":null!==(w=null==t?void 0:null===(b=t.state)||void 0===b?void 0:b.enter_from)&&void 0!==w?w:"other",bot_position:null!==(x=String(null==t?void 0:null===(C=t.state)||void 0===C?void 0:C.bot_position))&&void 0!==x?x:"other",is_from_ug:"0",chat_type:(0,v.getChatTypeForTea)(c,d),user_id:h?_.FlowConfig.userId:void 0,req_id:h?null==e?void 0:e(k):void 0,recommend_from:h?"bot_list_discover":void 0}),E?{previous_page:E}:{});g.FlowTea.trackEvent("enter_page",L)}}}},R=function(){var e=(0,C.useNavigate)(),t=(0,s._)((0,c.useState)(!1),2),n=t[0],r=t[1],o=(0,A.useMobile)({optionalProvider:!0}).setMobileSidebarVisible,a=(0,N.useCreateConversationHelper)({click_from:n?"long_press_user":"long_press_answer"});return function(t){var n=t.message,i=t.conversationId;r(t.isSend);var s=a.initCreateConversation({conversationId:i,messageId:null==n?void 0:n.message_id,reportProps:{eventName:"create_conversation",meta:{from:"message"}}}),u=s.newLocalConversationId,c=s.createConversation;o(!1),c().catch(function(t){o(!0),e(P.CHAT_PAGE_ROUTE)}),e("".concat(P.CHAT_PAGE_ROUTE).concat(u,"?type=").concat(h.ChatType.LocalConversation))}},M=function(){var e=(0,s._)((0,k.useTemplate)(function(e){return[e.initTemplateRelatedList]},l.shallow),1)[0];return function(t){var n=t.event,r=t.eventData,o=t.imageList,a=t.conversation,i=t.templateList,s=t.chatId,u=r.src,c=i[o.findIndex(function(e){return e.image_thumb.url===u})],l={from:"onboarding",templateId:c.id,url:u,prompt:c.prompt,imageData:{image_thumb:c.image_thumb,image_ori:c.image_ori},enterMethod:"click_onboarding"};I.useChatLayoutStore.getState().changeMode("template"),I.useChatLayoutStore.getState().setStack(["/pic-template-detail"]),I.useChatLayoutStore.getState().setActiveKey((null==a?void 0:a.bot_id)||s),I.useChatLayoutStore.getState().setLastShowStatus(String(null==a?void 0:a.bot_id),{stack:"/pic-template-detail",status:I.TemplatePageStatus.OPEN,payload:l}),e(),I.useChatLayoutStore.getState().setPayload(l),n.stopPropagation()}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chatType,n=e.chatId,r=(0,L.useTranslateFn)(),a=(0,p.isBotChat)(t),i=(0,m.useConversation)(n),s=a?n:null==i?void 0:i.bot_id,u=b.FlowBot.useBotInfo(s||"")||{},c=a?[h.DisabledTag.Ban,h.DisabledTag.Reviewing].includes(null==u?void 0:u.disabled_tag):!!(null==u?void 0:u.disabled);return{disabledText:function(){if(null==u?void 0:u.disabled_tag){var e;return(e={},(0,o._)(e,h.DisabledTag.Reviewing,r("bot_ban_under_review")),(0,o._)(e,h.DisabledTag.Ban,r("bot_disabled_profile")),(0,o._)(e,h.DisabledTag.Delete,r("disable_input_del_bot")),(0,o._)(e,h.DisabledTag.Private,r("chat_page_notice")),e)[u.disabled_tag]||(null==u?void 0:u.disabled_desc)}}(),isDisabled:c}},F=function(e){var t,n=(0,f.useLargeAvatarStore)(function(e){return e.hideAvatar}),o=(0,m.useIsFirstChat)(e),a=(0,E.useThreadOnboardingStore)(function(e){return e.hideThreadOnboarding}),i=(0,x.useTeaVar)("always_show_large_avatar",!1).value;return t=(0,r._)(function(){var e;return(0,u.__generator)(this,function(t){switch(t.label){case 0:if(a(),!(o&&!i))return[3,2];return e=(0,d.createReportEvent)({eventName:"hide_large_avatar"}),[4,Promise.race([n(),new Promise(function(e){return setTimeout(function(){return e(!0)},250)})])];case 1:t.sent()?e.error({reason:"timeout",meta:{visibility:document.visibilityState}}):e.success(),t.label=2;case 2:return[2]}})}),function(){return t.apply(this,arguments)}}},96543:function(e,t,n){"use strict";n.d(t,{ChatKitPage:function(){return D}});var r=n("92769"),o=n("9161"),a=n("16044"),i=n("89334"),s=n("88802"),u=n("97458"),c=n("52983"),l=n("80613"),d=n("37903"),f=n("3820"),v=n("50013"),g=n("90396"),_=n("87608"),h=n.n(_),p=n("87382"),m=n("78597"),b=n("10824"),C=n("78004"),w=n("32208"),S=n("85014"),x=n("73398"),y=n("46366"),k=n("60007"),I=n("89066"),E=n("71530"),L=n("1703"),T=n("53370"),N=n("40789"),A=n("54915"),P=n("15457"),j=n("43850"),R=n("99136"),M=n("77054"),G=n("33434"),F=(0,c.forwardRef)(function(e,t){var n,c,g,_,k=e.className,F=e.style,D=e.bizSlots,O=e.baseSlots,B=e.pageHeader,U=e.pageExtra,H=e.children,V=(0,i._)(e,["className","style","bizSlots","baseSlots","pageHeader","pageExtra","children"]),q=(0,P.useTranslateFn)(),W=(0,w.useLocation)(),K=(0,w.useNavigate)(),J=(0,j.useChatViewConfig)(),Q=(0,R.useMobile)({optionalProvider:!0}).mobileSidebarVisible,z=(0,w.useParams)().id,Y=(0,y.useConversationDisabledParams)(J),X=(0,y.useHandleChatPageHooks)(),Z=X.handleChatPageDestroy,$=X.handleChatPageLoaded,ee=(0,I.useMarkCurPageOnClick)(N.VisitPage.CHAT,void 0),et=(0,A.useFeatureConfig)("profile").enabled,en=(0,A.useFeatureConfig)("profile_jump").enabled,er=(0,A.useFeatureConfig)("bot_heat").enabled,eo=J||{},ea=eo.chatId,ei=eo.chatType,es=(0,b.useIsSamantha)(void 0===ea?"":ea,ei),eu=(0,A.useFeatureConfig)("send_image_message").enabled||es,ec=(0,A.useFeatureConfig)("send_file_message").enabled||es,el=(0,A.useFeatureConfig)("attachment_area").enabled||es,ed=(0,y.useBeforeSendMessage)(null!==(_=null==J?void 0:J.chatId)&&void 0!==_?_:""),ef=(0,I.useTeaVar)("always_show_large_avatar",!1).value,ev=(0,I.useWatchTeaAbConfig)(),eg=(0,I.useTeaVar)("new_writing_skill",!1,[ev]).value,e_=(0,y.useHandleCreateConversation)(),eh=(0,y.useHandleTemplateImageClick)(),ep=(0,j.useCreateConversationHelper)().initCreateConversation;var em=(n=(0,r._)(function(e){var t,n,r,o,a;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return t=e.botId,n=e.localConversationId,r=e.token,a=(o=ep({botId:t,token:r,localConversationId:n,createFrom:e.createFrom,reportProps:{eventName:"create_conversation",meta:{from:"url_new"}}})).newLocalConversationId,[4,(0,o.createConversation)()];case 1:return[2,{conversation:i.sent(),newLocalConversationId:a}]}})}),function(e){return n.apply(this,arguments)}),eb=(0,E.isEnableMessageListVirtualScroll)();return(0,u.jsxs)(p.LoggerContext.Provider,{value:p.logger,children:[(0,u.jsxs)("div",{className:h()("flex relative w-full h-full overflow-hidden justify-center",k),style:F,"sidebar-visible":String(Q),dir:(0,m.getLanguageDirection)(),children:[B,(0,u.jsx)(C.FlowChatPage,(0,a._)((0,o._)({ref:function(e){var n;ee.current=null!==(n=null==e?void 0:e.chatPageTargetRef.current)&&void 0!==n?n:null,(0,f.default)(t)?t(e):t&&(t.current=e)},bizSlots:(0,v.default)(D,x.ChatPageBizSlots),baseSlots:(0,v.default)(O,x.ChatPageBaseSlots),t:q,language:(0,P.getUnreactiveLanguage)(),toChatPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.conversationId,n=e.query,r=(0,i._)(e,["conversationId","query"]),o="".concat(M.CHAT_PAGE_ROUTE).concat(null!=t?t:"");K(n?(0,m.toURL)(o,(0,l.default)(n,function(e){return!(0,d.default)(e)})):o,r)},onChatPageLoaded:$,onChatPageDestroy:Z,onAllConversationMessageRead:function(e){var t=e.conversation_id,n=e.message_index;t&&(null===L.updateReadMessageIndexAndReport||void 0===L.updateReadMessageIndexAndReport||(0,L.updateReadMessageIndexAndReport)(t,Number(n)))},onConversationChatPageVisibilityChange:function(e){var t,n=e.visible,r=e.chatInputRef;n&&!(0,m.getIsMobileOrIPad)()&&T.useChatLayoutStore.getState().activeKey!==(null==J?void 0:J.chatId)&&(null===(t=r.current)||void 0===t||t.focus())},onMarkChatPage:function(){return(0,I.markCurPage)(N.VisitPage.CHAT)},onCreateConversation:e_,onTemplateImageClick:eh,onCreateConversationByBot:em,chatViewConfig:J,conversationDisabledParams:Y,locationState:(0,m.useCompareMemo)((0,a._)((0,o._)({},W.state),{showSkeleton:(null===(c=W.state)||void 0===c?void 0:c.showSkeleton)||(null===(g=(0,m.parseHashOrQuery)(W.search))||void 0===g?void 0:g.showSkeleton)}),G.shallow),locationKey:W.key,showBotHeat:er,enableBotProfileOpenJump:en,showBotHandleName:et,enableSendImageMessage:eu,enableSendFileMessage:ec,enableSendWithAttachmentArea:el,beforeSendMessage:ed,enableMessageListVirtualScroll:eb,enableMessageDebug:(0,E.isEnableDebug)(),alwaysShowLargeAvatar:ef,enableNewWritingSkill:eg,idInParams:z,sendMessageExts:S.getSendMessageExt},V),{children:H}))]}),U]})}),D=(0,c.forwardRef)(function(e,t){var n=(0,g.default)(e,"getRequestIdByBotId");return(0,u.jsx)(k.ChatKitProvider,{value:n,children:(0,u.jsx)(F,(0,o._)({ref:t},e))})})},85014:function(e,t,n){"use strict";n.d(t,{getSendMessageExt:function(){return r}});var r=function(){return{}}},60007:function(e,t,n){"use strict";n.d(t,{ChatKitProvider:function(){return a},useChatKit:function(){return i}});var r=n("52983"),o=(0,r.createContext)(null),a=o.Provider,i=function(){var e=(0,r.useContext)(o);if(!e)throw Error("Except ChatKitContext when invoke useChatKit");return e}},77054:function(e,t,n){"use strict";n.d(t,{CHAT_PAGE_ROUTE:function(){return r}});var r="/chat/"},11624:function(e,t,n){"use strict";n.d(t,{ChatKit:function(){return a}}),n("20905");var r=n("47452"),o=n("57081"),a={init:r.init,initChatApp:o.initChatApp}},57081:function(e,t,n){"use strict";n.d(t,{initChatApp:function(){return y}});var r,o=n("92769"),a=n("9161"),i=n("16044"),s=n("88802"),u=n("87382"),c=n("62920"),l=n("12133"),d=n("65494"),f=n("1101"),v=n("259"),g=n("74015"),_=n("56419"),h=n("78142"),p=n("83809"),m=n("77354"),b=n("71530"),C=n("80812"),w=n("45368"),S=n("75995"),x=n("77054");var y=(r=(0,o._)(function(e){var t,n,r,o,y,k,I,E,L,T,N,A,P,j,R,M,G,F,D,O,B,U,H;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(t=e.reporter,n=e.networkClient,r=e.launchData,o=e.userInfo,k=void 0!==(y=e.onlyLoadAssistantBot)&&y,E=void 0===(I=e.needServiceInit)||I,F=null!=(M=t||(0,p.createInitChatReporter)(!1,(null!==(R=null===(L=window)||void 0===L?void 0:L.performance)&&void 0!==R?R:Date).now()))&&null!==(T=M.getLaunchOptions)&&void 0!==T&&!!T.call(M).fetchGuestDataOnly,r)return[3,2];return[4,h.FlowApi.apiService.setting.Launch()];case 1:G=s.sent().data,s.label=2;case 2:if(!r&&!G)throw D=Error("Service return empty launch data"),u.logger.error({eventName:"empty_launch_data_error_in_first_request",error:D}),D;if(B=(O=r||G||{}).config,U=O.assistant_bot_id,c.useChatStore.getState().updateTtWidConfig((0,l.getTtWidConfig)(B)),(0,w.initChatAppDataWithId)((0,a._)({isReload:!1,pageCreateTime:null===(N=M.event)||void 0===N?void 0:N.getMeta().page_create_time,onlyLoadAssistantBot:k,isGuest:F},location.pathname===x.CHAT_PAGE_ROUTE?{assistantBotId:U}:{})),(0,d.IMCoreInitRateLimitCheck)(),!B)return[2];if(E&&(0,f.IMCoreMessageServiceInit)({config:B,socketClient:(null==n?void 0:n.socketClient)||v.socketClient,reportEvent:M.event,fetchStream:{baseURL:null==n?void 0:n.baseURL,client:(null==n?void 0:n.fetchStream)||g.fetchStream},getCommonHttpHeaders:C.getCommonHeaders,getCommonHttpParams:C.getCommonParams,getCommonSocketParams:C.getSocketCommonParams}),M.event.addDurationPoint("secondLaunchStart"),null===(A=M.beforeFetchStart)||void 0===A||A.call(M,m.FetchLaunchType.Other),G)return[3,4];return[4,h.FlowApi.apiService.setting.Launch()];case 3:G=s.sent().data,s.label=4;case 4:if(!G)throw H=Error("Service return empty launch data"),u.logger.error({eventName:"empty_launch_data_error_in_second_request",error:H}),H;return M.event.addDurationPoint("secondLaunchEnd"),null===(P=M.afterFetchDone)||void 0===P||P.call(M,m.FetchLaunchType.Other),null===(j=M.afterFetchSuccessCheck)||void 0===j||j.call(M,G),(0,_.IMCoreDataInit)({launchData:(0,i._)((0,a._)({},G),{debug:!1}),userInfoData:null!=o?o:{}}),S.useFeatureConfigStore.getState().setFeatureConfigFromLaunch(G.feature_config||{}),b.localFeatureGating.set({enableDebug:!1}),setTimeout(function(){try{c.useChatStore.getState().refreshUploadToken()}catch(e){u.logger.persist.warning("initChatApp: preInit UploadToken failed")}},1e3),[2,G]}})}),function(e){return r.apply(this,arguments)})},47452:function(e,t,n){"use strict";n.d(t,{init:function(){return b}});var r=n("92769"),o=n("9161"),a=n("88802"),i=n("78597"),s=n("46650"),u=n("41095"),c=n("83140"),l=n("71530"),d=n("60587"),f=n("80812"),v=n("52110"),g=n("44700"),_=n("82523"),h=n("75995"),p=n("54915"),m=n("72124"),b=function(e){var t,b=e.ApiServiceConstructor,C=e.subApiServiceConstructors,w=e.botConfig,S=e.trackEvent,x=e.appId,y=e.userId,k=e.networkClient,I=e.storeConfig,E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=h.useFeatureConfigStore.getState().featureConfig;return(0,p.getFeatureConfigValue)(null==n?void 0:n[e],t).value},L=(0,s.IMCoreInit)({isEnableDebug:(0,l.isEnableDebug)(),store:(0,o._)({name:"samantha-web-chat-store"},I),trackEvent:S,loggers:[d.slardarReportClient],http:{baseURL:null==k?void 0:k.baseURL,client:null!==(t=null==k?void 0:k.httpClient)&&void 0!==t?t:u.httpClient,getCommonHeaders:f.getCommonHeaders,getCommonParams:f.getCommonParams,ApiServiceConstructor:b,subApiServiceConstructors:C},globalConfig:function(){var e,t,s;return{appId:x,userId:y,isGuest:null===(e=m.useGuestStore.getState())||void 0===e?void 0:e.isGuest,loginSource:(0,c.getLoginSourceQuery)(),storedUserId:null!==(t=localStorage.getItem("flow_tea_user_id"))&&void 0!==t?t:"",answerWithSuggest:E("answer_with_suggest"),namedEntityHighlight:E("named_entity_highlight"),answerWithVideo:E("answer_with_video"),localFeatureConfig:(0,o._)({},l.localFeatureGating.get()),createUploader:(s=(0,r._)(function(e){return(0,a.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,i.retryLoad)(function(){return Promise.resolve().then(n.bind(n,"98906"))})];case 1:return[2,new(t.sent()).ImageXUploader(e)]}})}),function(e){return s.apply(this,arguments)})}},botConfig:w}).eventEmitter;return L.addListener("user.configSynced",g.handleUserConfigSync),L.addListener("message.updated",v.handleFinishedUpdateMessage),L.addListener("message.receivedAck",_.handleOnAckMessage),L}},45368:function(e,t,n){"use strict";n.d(t,{initChatAppDataWithId:function(){return u}});var r=n("9161"),o=n("16044"),a=n("87681"),i=n("18912"),s=n("83140"),u=function(e){var t=(0,s.getChatIdFromURL)()||(null==e?void 0:e.assistantBotId),n=(0,s.getChatTypeFromURL)();return(0,i.initChatAppData)((0,o._)((0,r._)({},e),{excludeId:n===a.ChatType.Conversation?t:void 0}))}},18912:function(e,t,n){"use strict";n.d(t,{initChatAppData:function(){return C}});var r,o=n("92769"),a=n("83316"),i=n("9161"),s=n("16044"),u=n("89334"),c=n("88802"),l=n("87382"),d=n("9668"),f=n("10173"),v=n("86731"),g=n("62920"),_=n("53641"),h=n("76516"),p=n("26689"),m=n("72124"),b=n("1251");var C=(r=(0,o._)(function(e){var t,n,r,o,d,f,h,C,S,x,y,k,I,E;return(0,c.__generator)(this,function(c){switch(c.label){case 0:t=e.excludeId,n=e.assistantBotId,r=e.onlyLoadAssistantBot,o=e.isGuest,d=(0,u._)(e,["excludeId","assistantBotId","onlyLoadAssistantBot","isGuest"]),null===(f=m.useGuestStore.getState())||void 0===f||f.setGuest(null!=o&&o),x=(0,l.createReportEvent)(d.isReload?{eventName:"reload_chat_app_data"}:{eventName:"init_chat_app_data",meta:(S={},(0,a._)(S,"page_time.origin",-d.pageCreateTime),(0,a._)(S,"page_time.start",(null!==(C=null===(h=window)||void 0===h?void 0:h.performance)&&void 0!==C?C:Date).now()-d.pageCreateTime),S)}),y=[],c.label=1;case 1:return c.trys.push([1,3,,4]),n&&!o&&g.useChatStore.getState().fetchAssistantMessageListWithBotId({botId:n}),I=null===(k=performance)||void 0===k?void 0:k.now(),[4,function(e){return w.apply(this,arguments)}((0,s._)((0,i._)({},d),{isGuest:o}))];case 2:return y=c.sent(),o||g.useChatStore.setState(function(e){var t,n,r=e.chatPageShowTracingCommonParams;return{chatPageShowTracingCommonParams:r?(0,s._)((0,i._)({},r),(n={},(0,a._)(n,"duration.start_fetch_conversation_list",I),(0,a._)(n,"duration.finish_fetch_conversation_list",null===(t=performance)||void 0===t?void 0:t.now()),n)):r}}),x.addDurationPoint("conversation_list"),[3,4];case 3:return E=c.sent(),x.error({reason:"conversation_list_error or assistant_message_list_error",error:E}),[2];case 4:if(_.FlowBot.actions.initRecommendBotList({size:b.choicenessBotsCount,recommendType:p.BotRecommendType.Choiceness}),0===y.length)return x.error({reason:"empty_conversation_list"}),[2];return[4,(0,v.initMessageListByConversationList)({conversationList:y,excludeId:t,reportEvent:x,onlyLoadAssistantBot:r})];case 5:return c.sent(),[2]}})}),function(e){return r.apply(this,arguments)});function w(){return(w=(0,o._)(function(e){var t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,g.useChatStore.getState().loadConversationList({size:f.INIT_CHAT_CONVERSATION_COUNT,index:0,isReload:e.isReload,type:e.isGuest?[d.LoadConversationListType.Guest]:[d.LoadConversationListType.Feed,d.LoadConversationListType.Bot]})];case 1:return t=n.sent(),h.FlowEvent.emit("conversation.mainConversationReady",t[0]),[2,t]}})})).apply(this,arguments)}},1202:function(e,t,n){"use strict";n.d(t,{initLocalConversation:function(){return a}});var r=n("62920"),o=n("53641"),a=function(e){var t=r.useChatStore.getState().addNewLocalConversation();return o.FlowBot.actions.setLocalConversationIdForBot({botId:e,localConversationId:t}),t}},1703:function(e,t,n){"use strict";n.d(t,{updateReadMessageIndexAndReport:function(){return f},updateReadMessageIndexAndReportIfInCurrentConversation:function(){return g}});var r=n("92769"),o=n("88802"),a=n("6139"),i=n("87382"),s=n("62920"),u=n("87575"),c=n("78142"),l=n("83140"),d={};function f(e,t,n){return v.apply(this,arguments)}function v(){return(v=(0,r._)(function(e,t,n){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),s.useChatStore.getState().updateConversationMessageIndex({conversationId:e,readMessageIndex:t,messageIndex:n}),[4,_(e)(t)];case 1:return o.sent(),[3,3];case 2:return r=o.sent(),i.logger.persist.error({message:"report conversation read index failed",error:r}),[3,3];case 3:return[2]}})})).apply(this,arguments)}function g(e,t){var n=(0,l.getChatIdFromURL)();if(n===e){f(e,t,t);return}var r=s.useChatStore.getState().conversationMap[e];if(!n&&(0,u.isCocoConversation)(r)){f(e,t,t);return}s.useChatStore.getState().updateConversationMessageIndex({conversationId:e,messageIndex:t})}var _=function(e){return!d[e]&&(d[e]=(0,a.default)(function(t){return c.FlowApi.apiService.conversation.MarkConversationRead({conversation_id:e,latest_read_idx:t})},500)),d[e]}},82523:function(e,t,n){"use strict";n.d(t,{handleOnAckMessage:function(){return o}});var r=n("54504"),o=function(e,t){(0,r.updateOgfQuota)()}},44700:function(e,t,n){"use strict";n.d(t,{handleUserConfigSync:function(){return i}});var r=n("78597"),o=n("61760"),a=n("54915"),i=function(e){var t,n=(0,r.parseJSON)(null===(t=e.ext)||void 0===t?void 0:t.user_config_objects);(0,a.pullFeatureConfigFromUserConfigSingle)({reason:o.UserConfigPullReason.Notified,objects:n},!0)}},52110:function(e,t,n){"use strict";n.d(t,{handleFinishedUpdateMessage:function(){return i}});var r=n("87575"),o=n("1703"),a=n("54504"),i=function(e,t){var n=(0,r.isMessageFinished)(t),i=t.index,s=t.conversation_id;n&&s&&i&&(0,o.updateReadMessageIndexAndReportIfInCurrentConversation)(s,Number(i)),n&&(0,a.updateOgfQuota)()}},41523:function(e,t,n){"use strict";n.d(t,{useTemplate:function(){return p}});var r=n("92769"),o=n("9161"),a=n("16044"),i=n("40509"),s=n("6462"),u=n("88802"),c=n("85205"),l=n("97176"),d=n("87382"),f=n("5890"),v=n("78142"),g=n("8643"),_={templateListStatus:{loading:!1,offset:0,hasMore:!0,token:void 0},templateRecommendRelatedListStatus:{loading:!1,offset:0,hasMore:!0},templateList:[],templateRecommendRelatedList:[]},h=function(e){e.forEach(function(e){new Image().src=e})},p=(0,c.create)()(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=(0,i._)(t,2),p=c[0],m=c[1];return f.resetStoreManager.push(function(){return p(_)}),(0,a._)((0,o._)({},_),{initTemplateList:function(){m().loadTemplateList()},loadTemplateList:(0,r._)(function(){var e,t,n,r,o,a,i,c,f,_,b,C,w,S,x;return(0,u.__generator)(this,function(u){switch(u.label){case 0:t=(e=m()).templateList,r=(n=e.templateListStatus).offset,o=n.token,a=0===r,p((0,l.produce)(function(e){e.templateListStatus.loading=!0})),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,v.FlowApi.apiService.TemplateRecommendList({template_type:g.TemplateType.AI_ARTIST,offset:r,size:50,token:o})];case 2:return f=void 0===(c=(i=u.sent().data||{}).template_infos)?[]:c,b=void 0===(_=i.offset)?0:_,C=i.token,w=i.has_more,a&&h(f.map(function(e){var t;return String(null===(t=e.image_thumb)||void 0===t?void 0:t.url)})),S=a?f:(0,s._)(t).concat((0,s._)(f)),p((0,l.produce)(function(e){Object.assign(e.templateListStatus,{loading:!1,offset:b+1,hasMore:w,token:C}),e.templateList=S})),[3,4];case 3:throw x=u.sent(),p((0,l.produce)(function(e){Object.assign(e.templateListStatus,{loading:!1})})),d.logger.persist.error({meta:{offset:r,DefaultSize:50},message:"loadTemplateList failed",error:x}),x;case 4:return[2]}})}),initTemplateRelatedList:function(){p((0,l.produce)(function(e){var t=e.templateRecommendRelatedListStatus;t.loading=!0,t.offset=0,e.templateRecommendRelatedList=[]})),m().loadTemplateRelatedList()},loadTemplateRelatedList:(0,r._)(function(){var e,t,n,r,o,a,i,c,f,_,h,b,C,w,S;return(0,u.__generator)(this,function(u){switch(u.label){case 0:t=(e=m()).templateRecommendRelatedList,r=(n=e.templateRecommendRelatedListStatus).token,a=0===(o=n.offset),p((0,l.produce)(function(e){e.templateRecommendRelatedListStatus.loading=!0})),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,v.FlowApi.apiService.TemplateRecommendList({template_type:g.TemplateType.AI_ARTIST,offset:o,size:50,token:r})];case 2:return f=void 0===(c=(i=u.sent().data||{}).template_infos)?[]:c,h=void 0===(_=i.offset)?0:_,b=i.token,C=i.has_more,w=a?f:(0,s._)(t).concat((0,s._)(f)),p((0,l.produce)(function(e){Object.assign(e.templateRecommendRelatedListStatus,{loading:!1,offset:h+1,hasMore:C,token:b}),e.templateRecommendRelatedList=w})),[3,4];case 3:throw S=u.sent(),p((0,l.produce)(function(e){Object.assign(e.templateRecommendRelatedListStatus,{loading:!1})})),d.logger.persist.error({message:"loadTemplateRelatedList failed",meta:{offset:o,DefaultSize:50},error:S}),S;case 4:return[2]}})})})})},77354:function(e,t,n){"use strict";n.d(t,{FetchLaunchType:function(){return o}});var r,o=((r={}).Config="config",r.Other="other",r)},83809:function(e,t,n){"use strict";n.d(t,{createDefaultInitChatReportEvent:function(){return c},createInitChatReporter:function(){return l}});var r=n("83316"),o=n("9161"),a=n("16044"),i=n("87382"),s=n("62920"),u=n("77354"),c=function(e,t){var n,o,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"init_chat_app";return(0,i.createReportEvent)({eventName:s,meta:(a={is_retry:e,page_create_time:t},(0,r._)(a,"page_time.origin",-t),(0,r._)(a,"page_time.start",(null!==(o=null===(n=window)||void 0===n?void 0:n.performance)&&void 0!==o?o:Date).now()-t),a)})},l=function(e,t,n){var i=c(e,t,n?"guest_init_chat_app":"init_chat_app"),l=i.success.bind(i);i.success=function(){var e,n,i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).meta;return l({meta:(0,a._)((0,o._)({},i),(0,r._)({},"page_time.success",(null!==(n=null===(e=window)||void 0===e?void 0:e.performance)&&void 0!==n?n:Date).now()-t))})};var d=-1,f=-1,v=-1,g=-1,_=-1;return(0,a._)((0,o._)({},n?{}:{beforeFetchStart:function(e){if(e===u.FetchLaunchType.Config){var t,n;d=(null!==(n=null===(t=window)||void 0===t?void 0:t.performance)&&void 0!==n?n:Date).now(),f=performance.now()}else v=performance.now()},afterFetchDone:function(e){e===u.FetchLaunchType.Config?g=performance.now():_=performance.now()},afterFetchSuccessCheck:function(e){n||s.useChatStore.setState(function(e){var t,n,i,s,u,c,l,h=e.tracingParams,p=e.chatPageShowTracingCommonParams;return{tracingParams:h?(0,a._)((0,o._)({},h),{chatLaunchStartTime:d,chatLaunchSuccessTime:(null!==(c=null===(t=window)||void 0===t?void 0:t.performance)&&void 0!==c?c:Date).now()}):h,chatPageShowTracingCommonParams:p?(0,a._)((0,o._)({},p),(l={},(0,r._)(l,"duration.start_check_ttwid",null===(n=window)||void 0===n?void 0:n.ttWidStart),(0,r._)(l,"duration.finish_check_ttwid",null===(i=window)||void 0===i?void 0:i.ttWidEnd),(0,r._)(l,"duration.launch_start",null===(s=window)||void 0===s?void 0:s.launchStart),(0,r._)(l,"duration.launch_success",null===(u=window)||void 0===u?void 0:u.launchEnd),(0,r._)(l,"duration.init_chat_start",f),(0,r._)(l,"duration.launch_pending_success",g),(0,r._)(l,"duration.launch_second_start",v),(0,r._)(l,"duration.launch_second_end",_),(0,r._)(l,"custom.first_launch_pending",g-f),l)):p}})}}),{getLaunchOptions:function(){return n?{fetchGuestDataOnly:!0}:{}},event:i})}},60587:function(e,t,n){"use strict";n.d(t,{slardarReportClient:function(){return f}});var r=n("9161"),o=n("16044"),a=n("40509"),i=n("87382"),s=n("78597"),u=n("9707"),c=n("13625");if(s.inBrowser){var l,d=((l={}).ApiError="flow_api_error",l.NetworkError="flow_network_error",l.Unhandledrejection="handlePromiseRejection",l);window.addEventListener("unhandledrejection",function(e){var t,n,r,o,a,s,c,l,f=null==e?void 0:e.reason,v="string"==typeof f?{message:f}:f,g=d.Unhandledrejection,_={error_message:null==v?void 0:v.message,error_stack:null==v?void 0:v.stack,error_name:null==v?void 0:v.name};(0,u.isApiError)(f)&&(g=d.ApiError,Object.assign(_,{httpStatus:null==f?void 0:null===(t=f.errorOption)||void 0===t?void 0:t.httpStatus,code:null==f?void 0:null===(n=f.errorOption)||void 0===n?void 0:n.code,logId:null==f?void 0:null===(r=f.errorOption)||void 0===r?void 0:r.logId,url:null==f?void 0:null===(a=f.errorOption)||void 0===a?void 0:null===(o=a.requestConfig)||void 0===o?void 0:o.url})),(0,u.isAxiosError)(f)&&(g=d.NetworkError,Object.assign(_,{httpStatus:null==f?void 0:null===(s=f.request)||void 0===s?void 0:s.status,url:null==f?void 0:null===(c=f.config)||void 0===c?void 0:c.url,axios_error_code:null==f?void 0:f.code,axios_ready_state:null==f?void 0:null===(l=f.request)||void 0===l?void 0:l.readyState})),i.logger.persist.info({eventName:g,message:g,meta:_})})}var f=new i.SlardarReportClient(c.default);f.slardarInstance.on("beforeSend",function(e){if((null==e?void 0:e.ev_type)==="js_error"){var t,n=null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.error;if((null==n?void 0:n.name)==="ApiError"&&"string"==typeof(null==n?void 0:n.message)){var i=/(.+),.?(logId=.+)/.exec(n.message);if(null!==i){var s=(0,a._)(i,3),u=(s[0],s[1]),c=s[2];n.message=u||n.message,e.payload.extra=(0,o._)((0,r._)({},e.payload.extra),{logId:c})}}}return e})},54504:function(e,t,n){"use strict";n.d(t,{updateOgfQuota:function(){return u}});var r,o=n("92769"),a=n("88802"),i=n("62920"),s=n("78142");var u=(r=(0,o._)(function(){var e,t,n,r,o,u;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(!c())return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,s.FlowApi.apiService.setting.GetUserOgfQuota()];case 2:if(e=a.sent().data,t=i.useChatStore.getState(),(null==e?void 0:e.quota_left)===void 0||(null==e?void 0:e.total_quota)===void 0)return[2];return 0===e.quota_left?(t.updateCiciQuotaNextState(!1),t.updateCiciQuotaSwitchState(!1)):(null===(r=t.userOgfQuota)||void 0===r?void 0:null===(n=r.ogfQuota)||void 0===n?void 0:n.ciciOgfQuotaLeft)===0?(t.updateCiciQuotaSwitchState(!0),t.updateCiciQuotaNextState(!0)):(null===(o=t.userOgfQuota)||void 0===o?void 0:o.quotaSwitchConfig.value)?t.updateCiciQuotaNextState(!0):t.updateCiciQuotaNextState(!1),t.updateCiciOgfQuota({ciciOgfQuotaLeft:null==e?void 0:e.quota_left,ciciOgfTotal:null==e?void 0:e.total_quota}),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})}),function(){return r.apply(this,arguments)}),c=function(){return!1}},99766:function(e,t,n){"use strict";n.d(t,{useAuthLoginDataRouteFromOAuth2:function(){return p},useHandleAuthCallback:function(){return h},usePlatformRouteFromOAuth2:function(){return m}});var r=n("92769"),o=n("9161"),a=n("16044"),i=n("89334"),s=n("40509"),u=n("88802"),c=n("52983"),l=n("3820"),d=n("46593"),f=n("87382"),v=n("17997"),g=n("78597"),_=n("11361"),h=function(e){var t=e.location,n=e.navigate,d=e.context,h=d.logger,p=d.flowAccount,m=(0,f.createReportEvent)({logger:h,eventName:"third_party_auth_complete"}),b=(0,s._)((0,c.useState)(!1),2),C=b[0],w=b[1];return(0,c.useLayoutEffect)(function(){(0,g.execute)((0,r._)(function(){var e,r,s,c,d,f,g,b,C,S,x,y,k,I,E,L;return(0,u.__generator)(this,function(u){switch(u.label){case 0:try{r=(0,_.parseOAuthUrl)(t)}catch(e){return h.persist.error({message:"oauth2_callback_parameter_error",error:e}),w(!0),[2]}return s=r.access_token,c=r.code,f=(d=r.state).platform,g=d.navigatePath,b=d.type,C=d.entry,S=d.method,x=(0,i._)(d,["platform","navigatePath","type","entry","method"]),[4,p.third.getThirdPlatform(f)];case 1:if(!(y=u.sent()))return h.warning({message:"not_support_platform",error:Error("Not support platform from oauth2 callback parameter state."),meta:{parsedState:d}}),w(!0),[2];if(I=(k=y.config).platformId,E=k.extraParams,L={authLoginData:{platform_app_id:I,access_token:s,code:c,extra_params:E},type:b,platform:f},"google"===f&&!I)return h.persist.error({message:"not_support_google_region",error:Error("Not support region to auth google platform from oauth2 route parameter.")}),m.error({reason:"not_support",meta:{platform:"google",from:"redirect"}}),w(!0),[2];if(m.success({meta:{platform:f,from:"redirect"}}),(0,_.isPostMessageRedirect)(S)&&(0,l.default)(null===(e=window.opener)||void 0===e?void 0:e.postMessage))window.opener.postMessage((0,a._)((0,o._)({},x),{oauth2:L}),window.location.origin),window.close();else if(!(0,_.isPostMessageRedirect)(S)){if(!(0,v.isCurrentEntry)(C))return window.location.href="".concat(window.location.origin).concat((0,v.getFullPath)(t.pathname,(0,v.getBasename)(C))).concat(t.search).concat(t.hash),[2];n(g,{state:(0,a._)((0,o._)({},x),{oauth2:L})})}return[2]}})}))},[]),{error:C}},p=function(e,t){var n,r,o,a=(0,c.useRef)(null===(n=t.state)||void 0===n?void 0:n.oauth2);if((null===(r=t.state)||void 0===r?void 0:r.oauth2)&&(a.current=null===(o=t.state)||void 0===o?void 0:o.oauth2),a.current&&window.history.replaceState((0,d.default)(t.state,"oauth2"),""),!!(0,_.isOAuth2RouteParameter)(a.current)){if(a.current.type===e)return a.current.authLoginData}},m=function(e){var t,n=null===(t=e.state)||void 0===t?void 0:t.oauth2;if((0,_.isOAuth2RouteParameter)(n))return n.platform}},53395:function(e,t,n){"use strict";n.d(t,{useOlympusLogin:function(){return v}});var r=n("92769"),o=n("9161"),a=n("88802"),i=n("52983"),s=n("42623"),u=n("8038"),c=n("99766"),l=n("18545"),d=n("24506"),f=n("269"),v=function(e){var t,n=e.availablePlatforms,v=e.location,g=e.navigate,_=e.aid,h=e.onBeforeAuth,p=e.onError,m=e.onNetworkError,b=e.onPassportError,C=e.onUnknownError,w=e.context,S=w.passportApi,x=w.logger,y=w.tea,k=(0,i.useRef)(),I=function(){if(_)try{!k.current&&(k.current=new u.SessionBeat({aid:_,type:"web",ssoHost:void 0}),k.current.init())}catch(e){x.persist.warning({eventName:"olympus_login_session_beat_init_error",error:e})}},E=(0,c.useAuthLoginDataRouteFromOAuth2)("login",v),L=E?"authLogin":"checkLogin",T=(0,c.usePlatformRouteFromOAuth2)(v),N=null===(t=v.state)||void 0===t?void 0:t.trackMeta,A=function(e,t){"authLogin"===t&&y.trackEvent("login_result",(0,o._)({type:T,success:1,position:n.findIndex(function(e){return e===T})+1},N),{key:"",withSlardar:!0}),x.persist.success({eventName:"olympus_login_success",meta:{loginType:t}})},P=function(e,t){if("authLogin"===t){if((0,l.isPassportApiError)(e))y.trackEvent("login_result",(0,o._)({type:T,success:0,position:n.findIndex(function(e){return e===T})+1,err_code:e.code,err_tips:e.description},N),{key:"",withSlardar:!0});else{if((0,d.isAgeGateCancelError)(e)||(0,f.isUserCanceledError)(e))return;y.trackEvent("login_result",(0,o._)({type:T,success:0,err_code:(null==e?void 0:e.message)==="age gate if forbid"?"2":"0",position:n.findIndex(function(e){return e===T})+1},N),{key:"",withSlardar:!0})}}},j=function(e,t){var n=x.persist.createLoggerWith({ctx:{meta:{loginType:t},error:e}});(0,s.isAxiosError)(e)?(n.error({eventName:"olympus_login_axios_network_error",error:e}),m(e)):(0,d.isAgeGateError)(e)?(x.persist.error({eventName:"olympus_login_age_gate_canceled_error",error:e}),S.logout({navigate:g,reason:"age_gate_cancel",trackMeta:{error:e}})):(0,d.isAgeGateCancelError)(e)?S.logout({navigate:g,reason:"age_gate_close",trackMeta:{error:e}}):(0,l.isPassportApiError)(e)?(x.persist.error({eventName:"olympus_login_passport_error",error:e}),b(e)):(x.persist.error({eventName:"olympus_login_unknown_error",error:e}),C(e)),P(e,t)};return(0,r._)(function(){var e,t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(null==h||h(L),E)?S.authLoginAutoBindMobile(E,T):S.checkLogin()];case 1:return e=n.sent(),I(),A(e,L),[2,{isSuccess:!0,loginType:L,userInfo:e}];case 2:return t=n.sent(),null==p||p(t),j(t,L),[2,{isSuccess:!1,loginType:L,error:t}];case 3:return[2]}})})}},24506:function(e,t,n){"use strict";n.d(t,{AgeGateCancelError:function(){return f},AgeGateDisplayScene:function(){return l},AgeGateError:function(){return d},handleAge:function(){return c},handleHour:function(){return u},isAgeGateCancelError:function(){return v},isAgeGateError:function(){return g}});var r,o=n("69420"),a=n("73209"),i=n("67941"),s=n("26379"),u=function(e){return e<60?1:Math.floor(e/60)},c=function(e){var t=new Date,n=t.getFullYear()-e.getFullYear(),r=t.getMonth()-e.getMonth();return(r<0||0===r&&t.getDate()<e.getDate())&&n--,n};var l=((r={})[r.panel=0]="panel",r[r.dialog=1]="dialog",r),d=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(){return(0,o._)(this,n),t.apply(this,arguments)}return n}((0,i._)(Error)),f=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(){return(0,o._)(this,n),t.apply(this,arguments)}return n}((0,i._)(Error)),v=function(e){return e instanceof f},g=function(e){return e instanceof d}},269:function(e,t,n){"use strict";n.d(t,{BlockedByBrowserError:function(){return g},UserCanceledError:function(){return f},isBlockedByBrowserError:function(){return _},isUserCanceledError:function(){return v}});var r=n("47767"),o=n("69420"),a=n("73209"),i=n("6462"),s=n("29048"),u=n("67941"),c=n("26379");function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,s._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o._)(this,n);var i=a.message,s=a.appleError;return(e=t.call(this,i)).options=a,l((0,r._)(e),"name","apple_error"),l((0,r._)(e),"appleError",void 0),e.appleError=s,e}return n}((0,u._)(Error)),f=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){for(var e,a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return(0,o._)(this,n),e=t.call.apply(t,[this].concat((0,i._)(s))),l((0,r._)(e),"name","user_canceled_error"),e}return n}(d),v=function(e){return e instanceof f},g=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){for(var e,a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return(0,o._)(this,n),e=t.call.apply(t,[this].concat((0,i._)(s))),l((0,r._)(e),"name","blocked_by_browser_error"),e}return n}(d),_=function(e){return e instanceof g}},86731:function(e,t,n){"use strict";n.d(t,{initMessageListByConversationList:function(){return s}});var r=n("92769"),o=n("88802"),a=n("37247"),i=n("8012");function s(e){return u.apply(this,arguments)}function u(){return(u=(0,r._)(function(e){return(0,o.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,i.loadConversationListMessage)({conversationPriorityList:(null==e?void 0:e.onlyLoadAssistantBot)?[{conversation:e.conversationList[0],priority:1}]:e.conversationList.filter(function(t){return t.conversation_id!==(null==e?void 0:e.excludeId)}).map(function(e){return{conversation:e,priority:0}}),reportEvent:e.reportEvent,queue:new a.default({concurrency:2})})];case 1:return t.sent(),[2]}})})).apply(this,arguments)}},8012:function(e,t,n){"use strict";n.d(t,{loadConversationListMessage:function(){return u}});var r,o=n("92769"),a=n("88802"),i=n("87382"),s=n("62920");var u=(r=(0,o._)(function(e){var t,n,r,u,c,l;return(0,a.__generator)(this,function(d){switch(d.label){case 0:return t=e.conversationPriorityList,n=e.reportEvent,(r=e.queue).on("error",function(e){i.logger.persist.error({message:"fetch queue error",error:e})}),u=[],c=s.useChatStore.getState(),t.forEach(function(e,t){var i=e.conversation,s=i.conversation_id,l=i.message_index,d=i.message_cursor,f=e.priority;s&&r.add((0,o._)(function(){var e;return(0,a.__generator)(this,function(r){switch(r.label){case 0:e=0,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,c.initMessageList({conversationId:s,messageIndex:Number(l),messageCursor:Number(d),range:{start:Number(d),end:Number(l)}})];case 2:return r.sent(),e=1,[3,4];case 3:return 0===t&&(null==n||n.addDurationPoint("first_conversation")),u.push({conversation_id:s,success:e}),[7];case 4:return[2]}})}),{priority:f})}),[4,r.onIdle()];case 1:return d.sent(),null==n||n.addDurationPoint("all_conversation"),l=u.filter(function(e){return 1===e.success}).length,null==n||n.success({meta:{init_conversation_success_count:l,init_conversation_count:u.length}}),[2]}})}),function(e){return r.apply(this,arguments)})},66646:function(e,t,n){"use strict";n.d(t,{getResumeChunkTaskIfNeed:function(){return a}});var r=n("61550"),o=n("12256"),a=function(e){var t=[],n=!0,a=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=c.completionMessageMap,d=!0,f=!1,v=void 0;try{for(var g,_=(0,r.default)(l)[Symbol.iterator]();!(d=(g=_.next()).done);d=!0){var h=g.value.create_time;if(function(e){var t=Date.now();return t-(0,o.transToMilliSecondIfIsSecond)(e||t)<3e5}(Number(h))){t.push(c);break}}}catch(e){f=!0,v=e}finally{try{!d&&null!=_.return&&_.return()}finally{if(f)throw v}}}}catch(e){a=!0,i=e}finally{try{!n&&null!=u.return&&u.return()}finally{if(a)throw i}}return t}},56419:function(e,t,n){"use strict";n.d(t,{IMCoreDataInit:function(){return a}});var r=n("96988"),o=n("62920"),a=function(e){var t,n,a=e.launchData,i=e.userInfoData,s=a.sec_user_id,u=a.model_list,c=a.voice_list,l=a.debug,d=a.feedback_meta,f=a.feedback_placeholder,v=a.bot_report_reason_list,g=a.message_report_reason_list,_=a.upload_file_allowed_types,h=a.upload_file_max_size,p=(a.quota_config,a.save_chat_history_popup_enable),m=a.bot_language_list,b=i.user_id_str;o.useChatStore.getState().updateSystemConfig({modelList:u||[],voiceList:c||[],canDebug:void 0===l||l,unlikeFeedbackMeta:null===(t=d||[])||void 0===t?void 0:t.filter(function(e){return e.feedback_type===r.FeedbackType.Unlike}),likeFeedbackMeta:null===(n=d||[])||void 0===n?void 0:n.filter(function(e){return e.feedback_type===r.FeedbackType.Like}),feedbackPlaceholder:f||"",botReportMeta:v||[],messageReportMeta:g||[],uploadFileAllowedTypes:_||[],botLanguageList:m||[],uploadFileMaxSize:h||0,saveChatHistoryPopupEnable:p||!1}),o.useChatStore.getState().updateUserData({secUserId:s,userIdStr:b}),o.useChatStore.getState().userOgfQuota}},1101:function(e,t,n){"use strict";n.d(t,{IMCoreMessageServiceInit:function(){return c}});var r=n("61550"),o=n("66646"),a=n("62920"),i=n("96049"),s=n("29242"),u=n("49022");function c(e){var t=a.useChatStore.getState(),n=e.getCommonSocketParams,c=e.getCommonHttpParams,l=e.getCommonHttpHeaders,d=e.reportEvent,f=e.config,v=e.socketClient,g=e.fetchStream;try{var _,h=function(){var e;null===(e=i.FlowNetAdaptor.socketAdaptor.client)||void 0===e||e.removeEventListener(s.SocketEventType.open,m)},p=setTimeout(function(){var e;(null===(e=t.socketStatus)||void 0===e?void 0:e.connected)?(d.addDurationPoint("ws"),d.success()):d.error({reason:"ws_failed"}),h()},5e3),m=function(){d.addDurationPoint("ws"),d.addDurationPoint("success"),d.success(),h(),clearTimeout(p)};i.FlowNetAdaptor.socketAdaptor.init(t,{socketConfig:{launchConfig:f,socketClient:v,getSocketParams:n}}),i.FlowNetAdaptor.httpChunkAdaptor.init(t,{httpChunkConfig:{poolSize:3,retryAttempt:5,getCommonHttpParams:c,getCommonHttpHeaders:l,fetchStream:g.client,baseURL:g.baseURL}}),i.FlowNetAdaptor.httpChunkAdaptor.resumeChunkTask((0,o.getResumeChunkTaskIfNeed)((0,r.default)(t.chunkTaskMap))),i.FlowNetAdaptor.httpAdaptor.init(t,{httpConfig:f}),null===(_=i.FlowNetAdaptor.socketAdaptor.client)||void 0===_||_.addEventListener(s.SocketEventType.open,m)}catch(e){throw(0,u.dropAdaptors)(),e}}},65494:function(e,t,n){"use strict";n.d(t,{IMCoreInitRateLimitCheck:function(){return c}});var r,o=n("92769"),a=n("88802"),i=n("87382"),s=n("78142"),u=n("62920");var c=(r=(0,o._)(function(){var e,t,n,r,o,c;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,s.FlowApi.apiService.message.CheckMessageSendRateLimit()];case 1:return o=a.sent(),u.useChatStore.getState().updateRateLimitConfig({limitExpired:(null===(e=o.data)||void 0===e?void 0:e.limit_time)?Date.now()+(null===(t=o.data)||void 0===t?void 0:t.limit_time)*1e3:void 0,limitTips:(null===(n=o.data)||void 0===n?void 0:n.limit_tips)||"",isLimited:!!(null===(r=o.data)||void 0===r?void 0:r.is_limit)}),[3,3];case 2:return(c=a.sent())instanceof Error&&i.logger.persist.error({message:"get rate limit failed",error:c}),[3,3];case 3:return[2]}})}),function(){return r.apply(this,arguments)})},17528:function(e,t,n){"use strict";n.d(t,{streamProcessor:function(){return d}});var r=n("92769"),o=n("69420"),a=n("29048"),i=n("88802"),s=n("78597");function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,a._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={decode:function(e){return e?s.utf8.read(e,0,e.byteLength):""}},l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;(0,o._)(this,e),this._onMessage=t,this._decoder=n,u(this,"_buffer",new Uint8Array),u(this,"_pos",void 0),u(this,"_fieldLen",void 0),u(this,"_line",void 0),u(this,"_message",void 0),this._message=this._new(),this._line={start:0,end:-1},this._fieldLen=-1,this._pos=0,this.feed=this.feed.bind(this)}var t=e.prototype;return t.feed=function(e){this._append(e),this._readLineLoop()},t._new=function(){return{data:void 0,event:void 0,id:void 0,retry:void 0}},t._readLineLoop=function(){var e=this._buffer.length;if(e)for(-1!==this._line.end&&(this._line.start=0);this._pos<e&&(this._line.end=-1,this._readLine(),-1!==this._line.end);){;this._readField(this._buffer.subarray(this._line.start,this._line.end)),this._line.start=this._pos,this._fieldLen=-1,0!==this._line.start&&(this._buffer=this._buffer.subarray(this._line.start),this._pos-=this._line.start,this._line.start=this._pos)}},t._readLine=function(){for(var e=this._buffer.length;this._pos<e&&-1===this._line.end;){switch(this._buffer[this._pos]){case 58:-1===this._fieldLen&&(this._fieldLen=this._pos-this._line.start);break;case 13:this._line.end=this._pos,this._skipTrailingNewLine();break;case 10:this._line.end=this._pos}this._pos+=1}},t._skipTrailingNewLine=function(){10===this._buffer[this._pos+1]&&this._pos++},t._readField=function(e){if(0===e.length&&(this._onMessage(this._message),this._message=this._new()),-1===this._fieldLen){var t=this._decoder.decode(e);this._writeField(t,"");return}if(this._fieldLen===e.length-1){var n=this._decoder.decode(e.subarray(0,this._fieldLen));this._writeField(n,"");return}if(this._fieldLen){var r=this._decoder.decode(e.subarray(0,this._fieldLen)),o=this._fieldLen+1;32===e[this._fieldLen+1]&&(o+=1);var a=this._decoder.decode(e.subarray(o));this._writeField(r,a);return}},t._writeField=function(e,t){switch(e){case"data":void 0!==this._message.data?this._message.data="".concat(this._message.data,"\n").concat(t):this._message.data=t;break;case"event":this._message.event=t;break;case"id":this._message.id=t;break;case"retry":this._message.retry=function(e){var t=Number(e);if(!Number.isNaN(t))return t}(t)}},t._append=function(e){var t=this._buffer.length,n=e.length,r=new Uint8Array(t+n);r.set(this._buffer),r.set(e,t),this._buffer=r},e}();function d(e,t){return f.apply(this,arguments)}function f(){return(f=(0,r._)(function(e,t){var n,r,o;return(0,i.__generator)(this,function(a){switch(a.label){case 0:n=e.getReader(),r=new l(t),a.label=1;case 1:return[4,n.read()];case 2:if((o=a.sent()).done)return[3,3];return r.feed(o.value),[3,1];case 3:return[2]}})})).apply(this,arguments)}},74015:function(e,t,n){"use strict";n.d(t,{fetchStream:function(){return v}});var r=n("92769"),o=n("6462"),a=n("88802"),i=n("80627"),s=n("47282"),u=n("87382"),c=n("78597"),l=n("10331"),d=n("17528"),f=n("65233");function v(e){return g.apply(this,arguments)}function g(){return(g=(0,r._)(function(e){var t,n,v,g,_,h,p,m,b,C,w,S,x,y,k;function I(e){C.abort(e)}function E(e){b.error({reason:e.msg,meta:{error:e,log_id:w}}),!C.signal.aborted&&v(e,w)}function L(){return(L=(0,r._)(function(e){var t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:if(null==(t=e.headers.get("content-type"))?void 0:t.startsWith("text/event-stream"))return[3,2];return[4,e.json()];case 1:throw E(n.sent()),Error("Invalid Content-Type");case 2:if(!(null==e?void 0:e.ok)||!(null==e?void 0:e.body))throw E({msg:"Invalid Response, ResponseStatus: ".concat(e.statusText),code:l.ErrorCode.ResponseIsInvalid}),Error("Invalid Response");return[2]}})})).apply(this,arguments)}function T(e){var t=e.data,r=void 0===t?"":t,o=e.event;switch(!x&&(b.addDurationPoint("received_first_packet"),x=!0),o){case"pb":try{n((0,f.deserializeBase64PushEvent)(r),w)}catch(e){throw e instanceof Error&&E({msg:e.message,code:l.ErrorCode.StreamParseFailed}),e}return;case"json":n((0,c.parseJSON)(r),w);return;case"done":g(!0),b.addDurationPoint("success"),b.success();return;case"err":throw E({msg:r,code:l.ErrorCode.ServerError}),Error(r);default:return}}return(0,a.__generator)(this,function(r){switch(r.label){case 0:t=e.req,n=e.onMessage,v=e.onError,g=e.onFinish,_=e.subscribeAbortTrigger,h=e.getCommonHttpParams,p=e.getCommonHttpHeaders,m=e.reportMeta,b=(0,u.createReportEvent)({eventName:"fetch_stream",logger:u.logger.getLogger({namespace:"http-chunk"}),meta:m}),C=new AbortController,w="",S=null,x=!1,_(I),r.label=1;case 1:var a,f;return r.trys.push([1,3,,4]),b.start(),[4,fetch((a=t.url,f=null==h?void 0:h(),i.default.stringifyUrl({url:a,query:f})),{method:"POST",headers:[["content-type","application/json"]].concat((0,o._)((0,s.default)((null==p?void 0:p())||{}))),body:(0,c.stringifyJSON)(t.body),signal:C.signal,credentials:"same-origin"})];case 2:return w=(S=r.sent()).headers.get("x-tt-logid")||"",[3,4];case 3:return(y=r.sent())instanceof Error&&E({msg:y.message,code:l.ErrorCode.FetchFailed}),[2];case 4:return r.trys.push([4,8,,9]),[4,function(e){return L.apply(this,arguments)}(S)];case 5:if(r.sent(),!S.body)return[3,7];return[4,(0,d.streamProcessor)(S.body,T)];case 6:r.sent(),r.label=7;case 7:if(C.signal.aborted)return[2];return[3,9];case 8:return r.sent(),[3,9];case 9:return[2]}})})).apply(this,arguments)}},259:function(e,t,n){"use strict";n.d(t,{DefaultSocketClient:function(){return S},handleFrontierEvent:function(){return w},socketClient:function(){return x}});var r=n("92769"),o=n("69420"),a=n("93426"),i=n("9161"),s=n("16044"),u=n("6462"),c=n("29048"),l=n("88802"),d=n("87382"),f=n("78597"),v=n("67907"),g=n("12133"),_=n("52420"),h=n("18418"),p=n("10173");function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,c._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={0:"CONNECTING",1:"OPEN",2:"CLOSING",3:"CLOSED"};function C(e,t){var n,r=null==t?void 0:t(e);return{fpID:e.ws_product_id||"",aID:e.ws_app_id||"",accessKey:e.ws_access_key||"",url:e.ws_domain||"",service:Number(e.message_service_id)||0,ttwID:e.ttwid,customParams:(0,s._)((0,i._)({},r||{}),{version_code:p.version_code,device_platform:p.device_platform,device_id:null!==(n=(0,g.getDeviceID)({tt_wid:e.ttwid,web_id:e.web_id}))&&void 0!==n?n:""})}}function w(e){var t,n,r,o,a=(0,f.parseJSON)(e.message.payload?f.utf8.read(e.message.payload,0,null===(t=e.message.payload)||void 0===t?void 0:t.byteLength):"");(null===(n=_.FlowConfig.localFeatureConfig)||void 0===n?void 0:n.consoleSocketPacket)&&d.logger.getLogger({namespace:"socket"}).info({message:"Socket Packet Received",meta:{frontier_event:e,push_event:a}});var i=null===(o=e.message.headers)||void 0===o?void 0:null===(r=o.find(function(e){return"x_frontier_traceid"===e.key}))||void 0===r?void 0:r.value;if(!a||"object"!=typeof a||!("event_type"in a)){d.logger.getLogger({namespace:"socket"}).warning({message:"invalid message",meta:{payload:a}});return}if(null==a?void 0:a.event_type)return{event:a,traceId:i};d.logger.getLogger({namespace:"socket"}).warning({message:"invalid message",meta:{pushEvent:a}})}var S=function(){function e(t){(0,o._)(this,e),m(this,"fws",void 0),m(this,"setSocketStatus",void 0),m(this,"refreshSocketConfig",void 0),m(this,"lastDisconnectTime",0),m(this,"closeCount",0),m(this,"hasConnected",!1),m(this,"options",null),m(this,"getSocketParams",void 0),m(this,"_afterInit",void 0);var n,a=this;m(this,"send",(n=(0,r._)(function(e){return(0,l.__generator)(this,function(t){if(!a.fws)throw Error("fws send error: expect fws instance");return[2,a.fws.send(e)]})}),function(e){return n.apply(this,arguments)})),this._onDocumentFocus=this._onDocumentFocus.bind(this),this._afterInit=null==t?void 0:t.afterInit}var t=e.prototype;return t._onDocumentFocus=function(){var e,t,n,r=this;(null===(e=this.fws)||void 0===e?void 0:e.readyState)!==(null===(t=this.fws)||void 0===t?void 0:t.OPEN)?this._reconnect("reconnecting on focus"):null===(n=this.fws)||void 0===n||n.pingOnce().catch(function(){r.closeCount=0,r.lastDisconnectTime=0,r._reconnect("reconnecting on focus")})},t._reconnect=function(e){var t=this;return(0,r._)(function(){var n,r,o,a,i,s;return(0,l.__generator)(this,function(u){switch(u.label){case 0:return d.logger.getLogger({namespace:"socket"}).persist.info({message:"ws_reconnect",meta:{readyState:null===(n=t.fws)||void 0===n?void 0:n.readyState,reason:e}}),[4,null===(r=(o=t).refreshSocketConfig)||void 0===r?void 0:r.call(o)];case 1:if((i=u.sent())&&(t.options=C(i,t.getSocketParams),t.options))return null===(s=t.fws)||void 0===s||s.reconnect(t.options),[2];return null===(a=t.fws)||void 0===a||a.reconnect(),[2]}})})()},t.init=function(e){var t,n,o,a=this,u=e.config,c=e.onSocketStatusChange,f=e.onMessage,g=e.refreshSocketConfig,_=e.getSocketParams;this.setSocketStatus=c,this.refreshSocketConfig=g,this.getSocketParams=_,this.options=C(u,_),this.fws=new v.FWS((0,s._)((0,i._)({},this.options),{maxRetries:10,maxMessageQueueLength:0})),null===(n=this.setSocketStatus)||void 0===n||n.call(this,{loading:!0,connected:!1}),this.fws.onopen=function(){var e;a.hasConnected=!0,d.logger.getLogger({namespace:"socket"}).persist.info({eventName:"ws_online",meta:{offline_duration:Date.now()-a.lastDisconnectTime,offline_close_count:a.closeCount}}),null===(e=a.setSocketStatus)||void 0===e||e.call(a,{loading:!1,connected:!0}),0!==a.lastDisconnectTime&&(a.lastDisconnectTime=0,a.closeCount=0)},this.fws.onmessage=function(e){var t=w(e);t&&f(t)};var p=this;this.fws.onclose=(t=(0,r._)(function(e){var t,n,r,o,a,i,s,u,c,f,v,g,_;return(0,l.__generator)(this,function(l){switch(l.label){case 0:if(p.closeCount+=1,v="",0===p.lastDisconnectTime&&(p.lastDisconnectTime=Date.now()),p.closeCount%3!=0)return[3,2];return[4,(0,h.getSocketDetection)((null===(g=p.fws)||void 0===g?void 0:g.url)||"")];case 1:v=l.sent(),l.label=2;case 2:return _=Error("code=".concat(null==e?void 0:e.code,", ").concat(null==e?void 0:e.reason)),d.logger.getLogger({namespace:"socket"}).persist.error({eventName:(null==e?void 0:e.code)===1e3?"ws_normal_closed":"ws_offline",error:_,meta:{config:{ws_domain:null===(t=p.options)||void 0===t?void 0:t.url,ws_ttwid:null===(n=p.options)||void 0===n?void 0:n.ttwID,ws_product_id:null===(r=p.options)||void 0===r?void 0:r.fpID,device_id:null===(o=p.options)||void 0===o?void 0:o.deviceID,ws_access_key:null===(a=p.options)||void 0===a?void 0:a.accessKey,ws_app_id:null===(i=p.options)||void 0===i?void 0:i.aID},has_connected:p.hasConnected,offline_count:p.closeCount,retry_count:null===(s=p.fws)||void 0===s?void 0:s.retryCount,will_reconnect:null==e?void 0:e.willReconnect,code:null==e?void 0:e.code,ws_detection:v,readyState:b[null===(u=p.fws)||void 0===u?void 0:u.readyState]}}),null===(c=(f=p).setSocketStatus)||void 0===c||c.call(f,{loading:e.willReconnect,connected:!1}),[2]}})}),function(e){return t.apply(this,arguments)}),this.fws.onerror=function(e){if(null==e?void 0:e.message){var t=Error("code=".concat(null==e?void 0:e.code,", ").concat(null==e?void 0:e.message));d.logger.getLogger({namespace:"socket"}).persist.error({eventName:"ws_error",error:t,meta:{message:null==e?void 0:e.message,code:null==e?void 0:e.code}})}},window.removeEventListener("focus",this._onDocumentFocus),window.addEventListener("focus",this._onDocumentFocus),null===(o=this._afterInit)||void 0===o||o.call(this)},t.close=function(){var e;null===(e=this.fws)||void 0===e||e.close()},t.addEventListener=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=this.fws)||void 0===e||e.addEventListener.apply(e,(0,u._)(n))},t.removeEventListener=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];null===(e=this.fws)||void 0===e||e.removeEventListener.apply(e,(0,u._)(n))},t.drop=function(){var e=this;this.close(),window.removeEventListener("focus",this._onDocumentFocus),["open","close","message","error"].forEach(function(t){var n;return null===(n=e.fws)||void 0===n?void 0:n.off(t)}),this.fws&&(this.fws.onmessage=null,this.fws.onerror=null,this.fws.onclose=null,this.fws.onopen=null)},(0,a._)(e,[{key:"readyState",get:function(){var e;return null===(e=this.fws)||void 0===e?void 0:e.readyState}}]),e}(),x=new S},29242:function(e,t,n){"use strict";n.d(t,{SocketEventType:function(){return r}});var r={open:"open",close:"close",error:"error",message:"message"}},90746:function(e,t,n){"use strict";n.d(t,{PushEvent:function(){return h}});var r=n("47767"),o=n("69420"),a=n("73209"),i=n("29048"),s=n("26379"),u=n("19468"),c=n("81868");function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,i._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(e){var a;return(0,o._)(this,n),a=t.call(this),l((0,r._)(a),"type",0),l((0,r._)(a),"info",void 0),u.proto3.util.initPartial(e,(0,r._)(a)),a}return n.fromBinary=function(e,t){return new n().fromBinary(e,t)},n.fromJson=function(e,t){return new n().fromJson(e,t)},n.fromJsonString=function(e,t){return new n().fromJsonString(e,t)},n.equals=function(e,t){return u.proto3.util.equals(n,e,t)},n}(c.Message);l(d,"runtime",u.proto3),l(d,"typeName","msg_pb.MetaInfo"),l(d,"fields",u.proto3.util.newFieldList(function(){return[{no:1,name:"type",kind:"scalar",T:5},{no:2,name:"info",kind:"scalar",T:9,opt:!0}]}));var f=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(e){var a;return(0,o._)(this,n),a=t.call(this),l((0,r._)(a),"conversationId",void 0),l((0,r._)(a),"sectionId",void 0),l((0,r._)(a),"messageId",void 0),l((0,r._)(a),"localMessageId",void 0),l((0,r._)(a),"index",void 0),l((0,r._)(a),"secSender",void 0),l((0,r._)(a),"replyId",void 0),l((0,r._)(a),"status",void 0),l((0,r._)(a),"createTime",void 0),l((0,r._)(a),"messageType",void 0),l((0,r._)(a),"contentType",void 0),l((0,r._)(a),"content",void 0),l((0,r._)(a),"ttsContent",void 0),l((0,r._)(a),"ext",{}),l((0,r._)(a),"nextConnectionType",void 0),l((0,r._)(a),"chunkSeq",void 0),l((0,r._)(a),"isDelta",void 0),l((0,r._)(a),"metaInfos",[]),l((0,r._)(a),"localConversationId",void 0),l((0,r._)(a),"botId",void 0),l((0,r._)(a),"appletPayload",{}),l((0,r._)(a),"modelType",void 0),l((0,r._)(a),"updateTime",void 0),l((0,r._)(a),"threadId",void 0),u.proto3.util.initPartial(e,(0,r._)(a)),a}return n.fromBinary=function(e,t){return new n().fromBinary(e,t)},n.fromJson=function(e,t){return new n().fromJson(e,t)},n.fromJsonString=function(e,t){return new n().fromJsonString(e,t)},n.equals=function(e,t){return u.proto3.util.equals(n,e,t)},n}(c.Message);l(f,"runtime",u.proto3),l(f,"typeName","msg_pb.PushMessage"),l(f,"fields",u.proto3.util.newFieldList(function(){return[{no:1,name:"conversation_id",kind:"scalar",T:9,opt:!0},{no:2,name:"section_id",kind:"scalar",T:9,opt:!0},{no:3,name:"message_id",kind:"scalar",T:9,opt:!0},{no:4,name:"local_message_id",kind:"scalar",T:9,opt:!0},{no:5,name:"index",kind:"scalar",T:3,opt:!0},{no:6,name:"sec_sender",kind:"scalar",T:9,opt:!0},{no:7,name:"reply_id",kind:"scalar",T:9,opt:!0},{no:8,name:"status",kind:"scalar",T:5,opt:!0},{no:9,name:"create_time",kind:"scalar",T:3,opt:!0},{no:10,name:"message_type",kind:"scalar",T:5,opt:!0},{no:11,name:"content_type",kind:"scalar",T:5,opt:!0},{no:12,name:"content",kind:"scalar",T:9,opt:!0},{no:13,name:"tts_content",kind:"scalar",T:9,opt:!0},{no:14,name:"ext",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:15,name:"next_connection_type",kind:"scalar",T:5,opt:!0},{no:16,name:"chunk_seq",kind:"scalar",T:3,opt:!0},{no:17,name:"is_delta",kind:"scalar",T:8,opt:!0},{no:18,name:"meta_infos",kind:"message",T:d,repeated:!0},{no:19,name:"local_conversation_id",kind:"scalar",T:9,opt:!0},{no:20,name:"bot_id",kind:"scalar",T:9,opt:!0},{no:21,name:"applet_payload",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:22,name:"model_type",kind:"scalar",T:5,opt:!0},{no:23,name:"update_time",kind:"scalar",T:3,opt:!0},{no:24,name:"thread_id",kind:"scalar",T:3,opt:!0}]}));var v=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(e){var a;return(0,o._)(this,n),a=t.call(this),l((0,r._)(a),"cmdType",void 0),l((0,r._)(a),"index",void 0),l((0,r._)(a),"conversationId",void 0),l((0,r._)(a),"messageId",void 0),l((0,r._)(a),"ext",{}),l((0,r._)(a),"upCmdType",void 0),l((0,r._)(a),"localMessageId",void 0),u.proto3.util.initPartial(e,(0,r._)(a)),a}return n.fromBinary=function(e,t){return new n().fromBinary(e,t)},n.fromJson=function(e,t){return new n().fromJson(e,t)},n.fromJsonString=function(e,t){return new n().fromJsonString(e,t)},n.equals=function(e,t){return u.proto3.util.equals(n,e,t)},n}(c.Message);l(v,"runtime",u.proto3),l(v,"typeName","msg_pb.PushCmd"),l(v,"fields",u.proto3.util.newFieldList(function(){return[{no:1,name:"cmd_type",kind:"scalar",T:5,opt:!0},{no:2,name:"index",kind:"scalar",T:3,opt:!0},{no:3,name:"conversation_id",kind:"scalar",T:9,opt:!0},{no:4,name:"message_id",kind:"scalar",T:9,opt:!0},{no:5,name:"ext",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:6,name:"up_cmd_type",kind:"scalar",T:5,opt:!0},{no:7,name:"local_message_id",kind:"scalar",T:9,opt:!0}]}));var g=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(e){var a;return(0,o._)(this,n),a=t.call(this),l((0,r._)(a),"longitude",void 0),l((0,r._)(a),"latitude",void 0),l((0,r._)(a),"countryName",void 0),l((0,r._)(a),"provinceName",void 0),l((0,r._)(a),"cityName",void 0),l((0,r._)(a),"districtName",void 0),l((0,r._)(a),"townName",void 0),l((0,r._)(a),"countryCode",void 0),u.proto3.util.initPartial(e,(0,r._)(a)),a}return n.fromBinary=function(e,t){return new n().fromBinary(e,t)},n.fromJson=function(e,t){return new n().fromJson(e,t)},n.fromJsonString=function(e,t){return new n().fromJsonString(e,t)},n.equals=function(e,t){return u.proto3.util.equals(n,e,t)},n}(c.Message);l(g,"runtime",u.proto3),l(g,"typeName","msg_pb.GeoInfo"),l(g,"fields",u.proto3.util.newFieldList(function(){return[{no:1,name:"longitude",kind:"scalar",T:9,opt:!0},{no:2,name:"latitude",kind:"scalar",T:9,opt:!0},{no:3,name:"country_name",kind:"scalar",T:9,opt:!0},{no:4,name:"province_name",kind:"scalar",T:9,opt:!0},{no:5,name:"city_name",kind:"scalar",T:9,opt:!0},{no:6,name:"district_name",kind:"scalar",T:9,opt:!0},{no:7,name:"town_name",kind:"scalar",T:9,opt:!0},{no:8,name:"country_code",kind:"scalar",T:9,opt:!0}]}));var _=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(e){var a;return(0,o._)(this,n),a=t.call(this),l((0,r._)(a),"messageId",void 0),l((0,r._)(a),"localMessageId",void 0),l((0,r._)(a),"replyId",void 0),l((0,r._)(a),"questionId",void 0),l((0,r._)(a),"createTime",void 0),l((0,r._)(a),"content",void 0),l((0,r._)(a),"ext",{}),l((0,r._)(a),"messageType",void 0),u.proto3.util.initPartial(e,(0,r._)(a)),a}return n.fromBinary=function(e,t){return new n().fromBinary(e,t)},n.fromJson=function(e,t){return new n().fromJson(e,t)},n.fromJsonString=function(e,t){return new n().fromJsonString(e,t)},n.equals=function(e,t){return u.proto3.util.equals(n,e,t)},n}(c.Message);l(_,"runtime",u.proto3),l(_,"typeName","msg_pb.AppAction"),l(_,"fields",u.proto3.util.newFieldList(function(){return[{no:1,name:"message_id",kind:"scalar",T:3,opt:!0},{no:2,name:"local_message_id",kind:"scalar",T:9,opt:!0},{no:3,name:"reply_id",kind:"scalar",T:3,opt:!0},{no:4,name:"question_id",kind:"scalar",T:3,opt:!0},{no:5,name:"create_time",kind:"scalar",T:3,opt:!0},{no:6,name:"content",kind:"scalar",T:9,opt:!0},{no:7,name:"ext",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:8,name:"message_type",kind:"scalar",T:5,opt:!0}]}));var h=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(e){var a;return(0,o._)(this,n),a=t.call(this),l((0,r._)(a),"eventType",0),l((0,r._)(a),"message",void 0),l((0,r._)(a),"cmd",void 0),l((0,r._)(a),"geo",void 0),l((0,r._)(a),"appAction",void 0),l((0,r._)(a),"version",void 0),l((0,r._)(a),"messageList",[]),u.proto3.util.initPartial(e,(0,r._)(a)),a}return n.fromBinary=function(e,t){return new n().fromBinary(e,t)},n.fromJson=function(e,t){return new n().fromJson(e,t)},n.fromJsonString=function(e,t){return new n().fromJsonString(e,t)},n.equals=function(e,t){return u.proto3.util.equals(n,e,t)},n}(c.Message);l(h,"runtime",u.proto3),l(h,"typeName","msg_pb.PushEvent"),l(h,"fields",u.proto3.util.newFieldList(function(){return[{no:1,name:"event_type",kind:"scalar",T:5},{no:2,name:"message",kind:"message",T:f,opt:!0},{no:3,name:"cmd",kind:"message",T:v,opt:!0},{no:4,name:"geo",kind:"message",T:g,opt:!0},{no:5,name:"app_action",kind:"message",T:_,opt:!0},{no:6,name:"version",kind:"scalar",T:5,opt:!0},{no:7,name:"message_list",kind:"message",T:f,repeated:!0}]}))},65233:function(e,t,n){"use strict";n.d(t,{deserializeBase64PushEvent:function(){return i}});var r=n("10844"),o=n("90746"),a=n("42615");function i(e){return o.PushEvent.fromBinary(r.protoBase64.dec(e),{readerFactory:a.readerFactory}).toJson({useProtoFieldName:!0})}},42615:function(e,t,n){"use strict";n.d(t,{readerFactory:function(){return a}});var r=n("78597"),o=n("95831"),a=function(e){return new o.BinaryReader(e,{decode:function(e){return e?r.utf8.read(e,0,e.byteLength):""}})}},18418:function(e,t,n){"use strict";n.d(t,{getSocketDetection:function(){return a}});var r=n("92769"),o=n("88802");function a(e){return i.apply(this,arguments)}function i(){return(i=(0,r._)(function(e){return(0,o.__generator)(this,function(t){return[2,new Promise(function(t){var n;try{var r=document.createElement("script");n=setTimeout(function(){t("jsonp timeout")},1e3),window.flowJSONP=function(e){document.body.removeChild(r),window.flowJSONP=void 0,clearTimeout(n),n=void 0,t(e.msg||"unknown reason")},r.type="text/javascript",r.src="".concat(e.replace(/^ws/,"http"),"&jscallback=flowJSONP");try{document.body.appendChild(r)}catch(e){document.body.removeChild(r)}}catch(e){window.flowJSONP=void 0,clearTimeout(n),n=void 0,t("unknown reason")}})]})})).apply(this,arguments)}},63609:function(e,t,n){"use strict";n.d(t,{useNewThreadStore:function(){return l}});var r=n("9161"),o=n("16044"),a=n("6462"),i=n("37222"),s=n("85205"),u={currentLocalConversationId:"",enterThreadType:!1},c=function(e,t){return(0,o._)((0,r._)({},u),{setCurrentLocalConversationId:function(n){!t().currentLocalConversationId&&e({currentLocalConversationId:n})},updateEnterThreadType:function(t){e({enterThreadType:t})}})},l=(0,s.create)()((0,i.subscribeWithSelector)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r._)({},c.apply(void 0,(0,a._)(t)))}))},94571:function(e,t,n){"use strict";n.d(t,{GuidanceCard:function(){return m}});var r,o=n("83316"),a=n("97458"),i=n("52983"),s=n("85789"),u=n("78597"),c=n("22314"),l=n("18824"),d=n("92270"),f=n("49194"),v=n("37948"),g=n("32482"),_=n("87608"),h=n.n(_),p=(r={},(0,o._)(r,v.GuidanceType.SEARCH,(0,a.jsx)(d.ReactComponent,{height:24,width:20})),(0,o._)(r,v.GuidanceType.READ,(0,a.jsx)(c.ReactComponent,{height:24,width:20})),(0,o._)(r,v.GuidanceType.IMAGE,(0,a.jsx)(l.ReactComponent,{height:24,width:20})),r),m=function(e){var t=e.title,n=e.guidances,r=e.hoverPrompt,o=e.type,c=e.index,l=e.onClick,d=e.onCardShow,_=e.onSingleCardShow;(0,i.useEffect)(function(){null==d||d({guidances:n,cardIndex:c})},[]);var m=(0,i.useRef)(null),b=(0,u.useHover)(m),C=o===v.GuidanceType.IMAGE;return(0,a.jsxs)("div",{ref:m,className:h()(g["guidance-card"],"transition-colors rounded-10 flex flex-col gap-10 cursor-pointer border-s-color-border-primary border-solid h-full justify-between relative",b?"p-6 border-2":"p-7 border"),"data-testid":"guidance_groups_card",onClick:function(){return null==l?void 0:l({guidance:n[0],singleCardIndex:0,cardIndex:c})},children:[t&&(0,a.jsxs)("div",{className:"pt-4 pl-4 pb-2 flex gap-8",children:[(0,a.jsx)("h2",{className:"text-16 max-h-48 flex-1 font-semibold m-0 line-clamp-2",style:{color:"var(--s-color-text-primary, #000)",lineHeight:"150%"},children:t}),p[o]]}),n.map(function(e,t){return(0,a.jsx)(s.GuidanceSingleCard,{index:t,cardIndex:c,titleLink:o===v.GuidanceType.READ,hover:b,guidance:e,onSingleCardShow:_},t)}),!C&&(0,a.jsx)("div",{className:"h-64 absolute bottom-0 left-0 right-0 rounded-b-10 transition-opacity",style:{background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 50%)",opacity:b?1:0}}),(0,a.jsxs)("div",{className:h()("absolute flex gap-4 justify-center items-center p-2 transition-opacity text-s-color-brand-primary-default",b?"left-7 right-7 bottom-7":"left-8 right-8 bottom-8"),style:{opacity:b?1:0},children:[(0,a.jsx)("h3",{className:"text-16 font-semibold m-0 flex-1 h-24",children:r}),(0,a.jsx)(f.ReactComponent,{height:20,width:20,className:"bg-white rounded-full",fill:"var(--s-color-brand-primary-default"})]})]})}},85789:function(e,t,n){"use strict";n.d(t,{GuidanceSingleCard:function(){return c}});var r=n("97458"),o=n("52983"),a=n("87608"),i=n.n(a),s=n("44711"),u=n("32482"),c=function(e){var t,n,a,c,l,d,f=e.guidance,v=e.titleLink,g=e.hover,_=void 0!==g&&g,h=e.index,p=e.cardIndex,m=e.onSingleCardShow,b=(0,o.useRef)(null),C=(0,s.useImageData)(b).brightness,w=function(){if(void 0!==C){var e=C<.7,t=e?C:.6,n=e?.4*t:.1*t;return"linear-gradient(transparent 0%, rgba(0,0,0,".concat(n,") 50%, rgba(0,0,0,").concat(t,") 100%)")}}(),S=!!f.backgroundUrl,x=Array.isArray(f.descItems)&&f.descItems.length>=1,y=Array.isArray(f.backgroundUrls)&&f.backgroundUrls.length>=1;(0,o.useEffect)(function(){null==m||m({guidance:f,cardIndex:p,singleCardIndex:h})},[]);return(0,r.jsx)("div",{className:i()("transition-all relative overflow-hidden max-h-178 rounded-6 flex-1",u["single-card"],!y&&!S&&"bg-s-color-bg-trans"),"data-testid":"guidance_groups_button",children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-rows-2 grid-cols-2 gap-4 h-full w-full",style:{gridTemplateRows:(null===(n=f.backgroundUrls)||void 0===n?void 0:n.length)===3?"100px 72px":(null===(a=f.backgroundUrls)||void 0===a?void 0:a.length)===1?"minmax(0, 1fr)":void 0,gridTemplateColumns:(null===(c=f.backgroundUrls)||void 0===c?void 0:c.length)===1?"minmax(0, 1fr)":(null===(l=f.backgroundUrls)||void 0===l?void 0:l.length)===2?"minmax(0, 1fr)":void 0},children:null===(d=f.backgroundUrls)||void 0===d?void 0:d.map(function(e,t){var n;return(0,r.jsx)("img",{className:i()("w-full h-full object-cover rounded-4 bg-[rgba(0,0,0,0.15)]",(null===(n=f.backgroundUrls)||void 0===n?void 0:n.length)===3&&0===t&&"col-span-2"),src:e,crossOrigin:"anonymous"},t)})}),(0,r.jsx)("div",{className:i()("absolute top-0 left-0 right-0 bottom-0 p-4 pb-34 flex flex-col justify-end transition-all opacity-0",u["image-title"],_&&"opacity-100"),children:(0,r.jsx)("h3",{className:"m-0 text-14 font-normal text-s-color-text-primary line-clamp-3",title:f.title,children:f.title})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:i()(S?"h-87 relative rounded-4 overflow-hidden p-8 flex justify-end flex-col mb-10 bg-[rgba(0,0,0,0.15)]":"ml-6 mr-8 my-12"),children:[S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{ref:b,className:"absolute bottom-0 left-0 transition-transform object-cover h-87 w-full",src:f.backgroundUrl,crossOrigin:"anonymous",style:{transform:_?"scale(1.05)":void 0}}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0",style:{background:w}})]}),(0,r.jsxs)("div",{className:"flex gap-4 items-center relative w-full",children:[f.titleIconUrl&&(0,r.jsx)("img",{className:"w-24 h-24 shrink-0",src:f.titleIconUrl}),(0,r.jsx)("h3",{className:i()("m-0 relative line-clamp-2",S?"font-semibold text-14 text-white pb-2":"text-12 leading-16 text-s-color-text-tertiary font-semibold",void 0!==v&&v&&"underline underline-offset-2"),style:{boxShadow:S?"var(--s-shadow-lv1)":void 0,lineHeight:S?void 0:"150%"},title:f.title,children:f.title})]})]}),x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("ul",{className:i()("text-s-color-text-tertiary pl-14 mt-0 text-11",!S&&"mx-8"),style:{lineHeight:"150%"},children:null===(t=f.descItems)||void 0===t?void 0:t.map(function(e,t){var n=e.detail;return e.highlight?(0,r.jsx)("p",{className:"mb-8 mt-0 mr-0 -ml-14",children:n},t):(0,r.jsx)("li",{className:"mb-8",children:n},t)})})}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-48",style:{background:S?"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 91.67%)":"linear-gradient(180deg, rgba(245, 245, 245, 0.00) 0%, #F5F5F5 91.67%)"}})]})]})})}},44711:function(e,t,n){"use strict";n.d(t,{useImageData:function(){return i}});var r=n("40509"),o=n("52983"),a=new Map,i=function(e){var t,n,i=a.get(null!==(n=null===(t=e.current)||void 0===t?void 0:t.src)&&void 0!==n?n:""),s=(0,r._)((0,o.useState)(null!=i?i:{brightness:void 0,isFinish:!1,isSuccess:!1}),2),u=s[0],c=s[1];return(0,o.useEffect)(function(){e.current&&e.current.src.length>0&&void 0===(null==u?void 0:u.brightness)&&!(null==u?void 0:u.isFinish)&&(e.current.onload=function(){if(!!e.current){var t,n,r=e.current,o=r.width,i=r.height,s=r.naturalHeight,u=r.naturalWidth,l=document.createElement("canvas");l.width=o,l.height=i;var d=Math.max(l.width/u,l.height/s),f=(l.width-u*d)/2,v=(l.height-s*d)/2,g=l.getContext("2d");g&&(g.imageSmoothingEnabled=!1),null==g||g.clearRect(0,0,l.width,l.height),null==g||g.drawImage(e.current,0,0,u,s,f,v,u*d,s*d);var _=null==g?void 0:g.getImageData(0,0,l.width,l.height);if(_){for(var h=_.data,p=0,m=0,b=h.length;m<b;m+=4)t=h[m],n=h[m+1],p+=Math.floor((t+n+h[m+2])/3);var C={brightness:Math.floor(p/(e.current.width*e.current.height))/255,isSuccess:!0,isFinish:!0};c(C),a.set(e.current.src,C)}}})},[e.current]),u}},12400:function(e,t,n){"use strict";n.d(t,{GuidanceGroups:function(){return l}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("52983"),s=n("94571"),u=n("32482"),c=n("9407"),l=function(e){var t=e.data,n=e.hoverPrompt,o=e.className,l=e.onClick,d=e.onShow,f=e.onCardShow,v=e.onSingleCardShow;return(0,i.useEffect)(function(){null==d||d()},[]),(0,r.jsx)("div",{className:a()(u.panel,o),"data-testid":"guidance_groups",children:(0,r.jsx)(c.Carousel,{itemClassName:u.card,leftArrowClassName:u["left-arrow"],rightArrowClassName:u["right-arrow"],children:t.map(function(e,t){return(0,r.jsx)(s.GuidanceCard,{index:t,title:e.title,hoverPrompt:n,type:e.type,guidances:e.items,onClick:l,onCardShow:f,onSingleCardShow:v},t)})})})}},37948:function(e,t,n){"use strict";n.d(t,{GuidanceType:function(){return o}});var r,o=((r={}).SEARCH="search",r.READ="read",r.IMAGE="image",r)},59719:function(e,t,n){"use strict";n.d(t,{GuidanceGroupsContext:function(){return r}});var r=(0,n("52983").createContext)({single:!1})},8777:function(e,t,n){"use strict";n.d(t,{GuidanceCard:function(){return c}});var r=n("97458"),o=n("52983"),a=n("59280"),i=n("59719"),s=n("87608"),u=n.n(s),c=function(e){var t=e.title,n=e.guidances,s=e.search,c=void 0!==s&&s,l=e.index,d=e.className,f=e.singleCardClassName,v=e.onClick,g=e.onCardShow,_=e.onSingleCardShow;(0,o.useEffect)(function(){null==g||g({guidances:n,cardIndex:l})},[]);var h=(0,o.useContext)(i.GuidanceGroupsContext).single;return(0,r.jsxs)("div",{className:u()("flex-1 rounded-10 flex flex-col gap-8",h?"p-0":"p-8",c&&"row-span-2",d),style:{border:h?void 0:"1px solid var(--s-color-border-secondary, rgba(0, 0, 0, 0.06))"},"data-testid":"guidance_groups_card",children:[t&&(0,r.jsx)("h2",{className:"text-14 font-semibold text-ellipsis overflow-hidden whitespace-nowrap mx-8 mt-4 mb-2",style:{color:"var(--s-color-text-primary, #000)"},children:t}),n.map(function(e,t){return(0,r.jsx)(a.GuidanceSingleCard,{index:t,cardIndex:l,className:f,guidance:e,isFirst:0===t,search:c,onClick:v,onSingleCardShow:_},t)})]})}},59280:function(e,t,n){"use strict";n.d(t,{GuidanceSingleCard:function(){return f}});var r=n("97458"),o=n("52983"),a=n("87608"),i=n.n(a),s=n("98626"),u=n("26590"),c=n("99441"),l=n("78597"),d=n("59719"),f=function(e){var t,n=e.guidance,a=e.search,f=void 0!==a&&a,v=e.isFirst,g=e.index,_=e.cardIndex,h=e.onClick,p=e.onSingleCardShow,m=(0,o.useRef)(null),b=(0,s.useImageData)(m),C=b.brightness,w=b.isSuccess,S=function(){if(void 0!==C){var e=C<.7,t=e?C:Math.min((C-.5)*3,.6),n=e?.4*t:.1*t;return"linear-gradient(transparent 0%, rgba(0,0,0,".concat(n,") 50%, rgba(0,0,0,").concat(t,") 100%)")}}(),x=(0,o.useRef)(null),y=null!==(t=(0,l.useSize)(x))&&void 0!==t?t:{},k=y.width,I=y.height,E=(0,o.useContext)(d.GuidanceGroupsContext).single;return(0,o.useEffect)(function(){null==p||p({guidance:n,cardIndex:_,singleCardIndex:g})},[]),(0,r.jsxs)("div",{ref:x,className:i()("rounded-6 cursor-pointer transition-all py-12 pl-6 pr-12 relative overflow-hidden",c["single-card"],n.backgroundUrl&&c["has-bg"],n.backgroundUrl&&w&&c["bg-success"],f&&v&&!E&&"flex items-end pb-8 pt-24 flex-1"),onClick:function(){return null==h?void 0:h({guidance:n,cardIndex:_,singleCardIndex:g})},"data-testid":"guidance_groups_button",children:[n.backgroundUrl&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{ref:m,className:"absolute bottom-0 left-0 transition-transform object-cover",src:n.backgroundUrl,style:{width:k,height:I},crossOrigin:"anonymous"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0",style:{background:S}})]}),(0,r.jsxs)("div",{className:i()("flex items-center gap-4 h-36 relative"),children:[f?(0,r.jsx)(u.ReactComponent,{width:24,height:24,className:"shrink-0 p-4",fill:n.backgroundUrl?"#fff":"rgba(0, 0, 0, 0.85)"}):n.titleIconUrl&&(0,r.jsx)("img",{className:"w-24 h-24 shrink-0",src:n.titleIconUrl}),(0,r.jsx)("p",{className:"m-0 text-14 relative line-clamp-2",style:{color:n.backgroundUrl?"#fff":"rgba(0, 0, 0, 0.85)"},title:n.title,children:n.title})]})]})}},98626:function(e,t,n){"use strict";n.d(t,{useImageData:function(){return i}});var r=n("40509"),o=n("52983"),a=new Map,i=function(e){var t,n,i=a.get(null!==(n=null===(t=e.current)||void 0===t?void 0:t.src)&&void 0!==n?n:""),s=(0,r._)((0,o.useState)(null!=i?i:{brightness:void 0,isFinish:!1,isSuccess:!1}),2),u=s[0],c=s[1];return(0,o.useEffect)(function(){e.current&&e.current.src.length>0&&void 0===(null==u?void 0:u.brightness)&&!(null==u?void 0:u.isFinish)&&(e.current.onload=function(){if(!!e.current){var t,n,r=e.current,o=r.width,i=r.height,s=r.naturalHeight,u=r.naturalWidth,l=document.createElement("canvas");l.width=o,l.height=i;var d=Math.max(l.width/u,l.height/s),f=(l.width-u*d)/2,v=(l.height-s*d)/2,g=l.getContext("2d");g&&(g.imageSmoothingEnabled=!1),null==g||g.clearRect(0,0,l.width,l.height),null==g||g.drawImage(e.current,0,0,u,s,f,v,u*d,s*d);var _=null==g?void 0:g.getImageData(0,0,l.width,l.height);if(_){for(var h=_.data,p=0,m=0,b=h.length;m<b;m+=4)t=h[m],n=h[m+1],p+=Math.floor((t+n+h[m+2])/3);var C={brightness:Math.floor(p/(e.current.width*e.current.height))/255,isSuccess:!0,isFinish:!0};c(C),a.set(e.current.src,C)}}})},[e.current]),u}},31152:function(e,t,n){"use strict";n.d(t,{GuidanceGroups:function(){return l}});var r=n("97458"),o=n("87608"),a=n.n(o),i=n("52983"),s=n("8777"),u=n("59719"),c=n("99441"),l=function(e){var t=e.data,n=e.className,o=e.single,l=void 0!==o&&o,d=e.cardClassName,f=e.singleCardClassName,v=e.onClick,g=e.onShow,_=e.onCardShow,h=e.onSingleCardShow;return(0,i.useEffect)(function(){null==g||g()},[]),(0,r.jsx)(u.GuidanceGroupsContext.Provider,{value:{single:l},children:(0,r.jsx)("div",{className:a()({"grid grid-cols-3 gap-10 overflow-auto":!l,"flex flex-col gap-10":l},c["no-scrollbar"],n),"data-testid":"guidance_groups",children:t.map(function(e,t){return(0,r.jsx)(s.GuidanceCard,{index:t,className:d,singleCardClassName:f,title:e.title,search:0===t,guidances:e.items,onClick:v,onCardShow:_,onSingleCardShow:h},t)})})})}},48083:function(e){"use strict";e.exports={header:"header-_71c09"}},98469:function(e){"use strict";e.exports={greeting:"greeting-_929df",previous:"previous-_12f8d"}},12776:function(e){"use strict";e.exports={"feedback-entry":"feedback-entry-f0a866",feedbackEntry:"feedback-entry-f0a866","feedback-entry-button":"feedback-entry-button-b0049d",feedbackEntryButton:"feedback-entry-button-b0049d","feedback-modal-textarea-only":"feedback-modal-textarea-only-_7f39d",feedbackModalTextareaOnly:"feedback-modal-textarea-only-_7f39d"}},14881:function(e){"use strict";e.exports={"fade-entering":"fade-entering-d6a75d",fadeEntering:"fade-entering-d6a75d","fade-exited":"fade-exited-_949ce",fadeExited:"fade-exited-_949ce","fade-exiting":"fade-exiting-ef4efe",fadeExiting:"fade-exiting-ef4efe",fadein:"fadein-_4f9b4",fadeout:"fadeout-_48ea2","slide-down":"slide-down-_4affd",slideDown:"slide-down-_4affd","slide-up":"slide-up-_615ea",slideUp:"slide-up-_615ea"}},37245:function(e){"use strict";e.exports={"active-link":"active-link-_8a0e6",activeLink:"active-link-_8a0e6",avatar:"avatar-ccd86e","avatar-skeleton":"avatar-skeleton-_9e5c0",avatarSkeleton:"avatar-skeleton-_9e5c0",badge:"badge-_64ede","ban-tag":"ban-tag-_6cc77",banTag:"ban-tag-_6cc77","chat-item":"chat-item-_302c5",chatItem:"chat-item-_302c5","chat-item-menu-button":"chat-item-menu-button-_5b45e",chatItemMenuButton:"chat-item-menu-button-_5b45e","chat-item-menu-wrapper":"chat-item-menu-wrapper-_794dc",chatItemMenuWrapper:"chat-item-menu-wrapper-_794dc","chat-item-new-bg":"chat-item-new-bg-dc2481",chatItemNewBg:"chat-item-new-bg-dc2481","chat-item-overflow-tooltip-trigger":"chat-item-overflow-tooltip-trigger-_7ccb2",chatItemOverflowTooltipTrigger:"chat-item-overflow-tooltip-trigger-_7ccb2","contain-skeleton":"contain-skeleton-af1580",containSkeleton:"contain-skeleton-af1580",content:"content-bc1da6",extra:"extra-_4c8d6",mainBot:"mainBot-_0562c",mainCoco:"mainCoco-_3baea",msg:"msg-_15981","msg-skeleton":"msg-skeleton-_14ee8",msgSkeleton:"msg-skeleton-_14ee8",pinned:"pinned-_9e236","remove-btn":"remove-btn-_5fb15",removeBtn:"remove-btn-_5fb15","review-tag":"review-tag-_8ed4a",reviewTag:"review-tag-_8ed4a",summary:"summary-c36b40",tag:"tag-_7195e",title:"title-_666da","title-skeleton":"title-skeleton-_1284a",titleSkeleton:"title-skeleton-_1284a",tran:"tran-da1620","unread-point-wrapper":"unread-point-wrapper-_4d260",unreadPointWrapper:"unread-point-wrapper-_4d260",wrapper:"wrapper-_2f9d7","wrapper-skeleton":"wrapper-skeleton-ac2437",wrapperSkeleton:"wrapper-skeleton-ac2437"}},71375:function(e){"use strict";e.exports={button:"button-_440f5","button-new-bg":"button-new-bg-e4a9c5",buttonNewBg:"button-new-bg-e4a9c5","button-selected":"button-selected-_42887",buttonSelected:"button-selected-_42887","button-text":"button-text-_98dd3",buttonText:"button-text-_98dd3","button-wrap":"button-wrap-_1d380",buttonWrap:"button-wrap-_1d380",buttons:"buttons-d41a68","inhouse-tag":"inhouse-tag-_6bb43",inhouseTag:"inhouse-tag-_6bb43","text-wrap":"text-wrap-a719b6",textWrap:"text-wrap-a719b6"}},17675:function(e){"use strict";e.exports={"banner-link":"banner-link-_79866",bannerLink:"banner-link-_79866",button:"button-_51791","consent-content":"consent-content-a1d4f0",consentContent:"consent-content-a1d4f0","cookie-banner":"cookie-banner-b370a1",cookieBanner:"cookie-banner-b370a1","cookie-footer":"cookie-footer-a7cd21",cookieFooter:"cookie-footer-a7cd21",icon:"icon-_8f379"}},10010:function(e){"use strict";e.exports={client:"client-_682bb",closeIcon:"closeIcon-_2c731",content:"content-_79307",item:"item-_14da6",list:"list-c8fcbb","list-title":"list-title-_00b7a",listTitle:"list-title-_00b7a",popover:"popover-_890e8",title:"title-_20685","unLogin-item":"unLogin-item-d8614f",unLoginItem:"unLogin-item-d8614f"}},48972:function(e){"use strict";e.exports={closeIcon:"closeIcon-_38672","download-icon":"download-icon-_780c1",downloadIcon:"download-icon-_780c1",downloadItem:"downloadItem-_4f1b2",downloadSvg:"downloadSvg-ec60a6",modal:"modal-c550f9",title:"title-_43c06","un-login":"un-login-f2ae62",unLogin:"un-login-f2ae62"}},39012:function(e){"use strict";e.exports={"chat-footer-action-wrapper":"chat-footer-action-wrapper-_1c7c3",chatFooterActionWrapper:"chat-footer-action-wrapper-_1c7c3"}},13004:function(e){"use strict";e.exports={"loading-page":"loading-page-_9db32",loadingPage:"loading-page-_9db32",title:"title-b4169a"}},42559:function(e){"use strict";e.exports={back:"back-_7b384",block:"block-_23f5f","block-content":"block-content-_27545",blockContent:"block-content-_27545","carousel-like":"carousel-like-_3a293",carouselLike:"carousel-like-_3a293","carousel-like-slide-in":"carousel-like-slide-in-_6c50f",carouselLikeSlideIn:"carousel-like-slide-in-_6c50f","carousel-like-slide-in-reverse":"carousel-like-slide-in-reverse-_07910",carouselLikeSlideInReverse:"carousel-like-slide-in-reverse-_07910","carousel-like-slide-out":"carousel-like-slide-out-_8726f",carouselLikeSlideOut:"carousel-like-slide-out-_8726f","carousel-like-slide-out-reverse":"carousel-like-slide-out-reverse-_9fcff",carouselLikeSlideOutReverse:"carousel-like-slide-out-reverse-_9fcff",danger:"danger-c5b135",desc:"desc-_4313c","front-button":"front-button-cd1113",frontButton:"front-button-cd1113","item-title":"item-title-_5da3d",itemTitle:"item-title-_5da3d",label:"label-_73bf3",operation:"operation-_423fb","select-item":"select-item-_3b106",selectItem:"select-item-_3b106","setting-header":"setting-header-feaa89",settingHeader:"setting-header-feaa89","setting-header-left":"setting-header-left-_7326f",settingHeaderLeft:"setting-header-left-_7326f","setting-header-right":"setting-header-right-bc7928",settingHeaderRight:"setting-header-right-bc7928","setting-header-title":"setting-header-title-_44c33",settingHeaderTitle:"setting-header-title-_44c33","setting-select":"setting-select-_7bc02",settingSelect:"setting-select-_7bc02","side-sheet-content":"side-sheet-content-_069b6",sideSheetContent:"side-sheet-content-_069b6","side-sheet-content-visible":"side-sheet-content-visible-aafb11",sideSheetContentVisible:"side-sheet-content-visible-aafb11","side-sheet-mask":"side-sheet-mask-_56e5a",sideSheetMask:"side-sheet-mask-_56e5a","side-sheet-mask-visible":"side-sheet-mask-visible-_7a524",sideSheetMaskVisible:"side-sheet-mask-visible-_7a524","slide-block":"slide-block-afc6a9",slideBlock:"slide-block-afc6a9","slide-cur-replace":"slide-cur-replace-_57751",slideCurReplace:"slide-cur-replace-_57751","slide-in":"slide-in-e4cff9",slideIn:"slide-in-e4cff9","slide-in-reverse":"slide-in-reverse-fd9086",slideInReverse:"slide-in-reverse-fd9086","slide-out":"slide-out-_81b34",slideOut:"slide-out-_81b34","slide-out-reverse":"slide-out-reverse-_76c00",slideOutReverse:"slide-out-reverse-_76c00","slide-prev-replace":"slide-prev-replace-_0d3aa",slidePrevReplace:"slide-prev-replace-_0d3aa",title:"title-c26d46","title-content":"title-content-_8d20c",titleContent:"title-content-_8d20c"}},32482:function(e){"use strict";e.exports={card:"card-fd2ff6","guidance-card":"guidance-card-e58ad5",guidanceCard:"guidance-card-e58ad5","image-title":"image-title-_26f82",imageTitle:"image-title-_26f82","left-arrow":"left-arrow-_7fea6",leftArrow:"left-arrow-_7fea6","no-scrollbar":"no-scrollbar-b02858",noScrollbar:"no-scrollbar-b02858",panel:"panel-_2b098","right-arrow":"right-arrow-_70e50",rightArrow:"right-arrow-_70e50","single-card":"single-card-fa827c",singleCard:"single-card-fa827c"}},99441:function(e){"use strict";e.exports={"bg-success":"bg-success-_46a79",bgSuccess:"bg-success-_46a79","has-bg":"has-bg-b20f29",hasBg:"has-bg-b20f29","no-scrollbar":"no-scrollbar-a9f0c7",noScrollbar:"no-scrollbar-a9f0c7","single-card":"single-card-cb93e2",singleCard:"single-card-cb93e2"}},48033:function(e){"use strict";e.exports={button:"button-_05221","button-text":"button-text-_940e8",buttonText:"button-text-_940e8","contact-box":"contact-box-_30f5c",contactBox:"contact-box-_30f5c","contact-box-new-bg":"contact-box-new-bg-_2bee4",contactBoxNewBg:"contact-box-new-bg-_2bee4",content:"content-_2bffc",copyright:"copyright-f3512e",divide:"divide-b3143a",footer:"footer-_86e1c",text:"text-_76af6"}},20905:function(e){}}]);