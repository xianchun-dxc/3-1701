/*! For license information please see 7181.ae954d13.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["7181"],{83548:function(e,t,n){"use strict";n.d(t,{mathFlow:function(){return c}});var r=n("50238"),i=n("83089"),o=n("67901"),a=n("95113"),s=n("56483"),l=n("22294");let c={tokenize:function(e,t,n){let c=this,d=c.events[c.events.length-1],f=d&&d[1].type===r.types.linePrefix?d[2].sliceSerialize(d[1],!0).length:0,g=0;return function(t){return(0,l.ok)(t===i.codes.dollarSign,"expected `$`"),e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(o){return o===i.codes.dollarSign?(e.consume(o),g++,t):g<2?n(o):(e.exit("mathFlowFenceSequence"),(0,s.factorySpace)(e,v,r.types.whitespace)(o))}(t)};function v(t){return t===i.codes.eof||(0,a.markdownLineEnding)(t)?p(t):(e.enter("mathFlowFenceMeta"),e.enter(r.types.chunkString,{contentType:o.constants.contentTypeString}),function t(o){return o===i.codes.eof||(0,a.markdownLineEnding)(o)?(e.exit(r.types.chunkString),e.exit("mathFlowFenceMeta"),p(o)):o===i.codes.dollarSign?n(o):(e.consume(o),t)}(t))}function p(n){return(e.exit("mathFlowFence"),c.interrupt)?t(n):e.attempt(u,h,x)(n)}function h(t){return e.attempt({tokenize:b,partial:!0},x,m)(t)}function m(t){return(f?(0,s.factorySpace)(e,_,r.types.linePrefix,f+1):_)(t)}function _(t){return t===i.codes.eof?x(t):(0,a.markdownLineEnding)(t)?e.attempt(u,h,x)(t):(e.enter("mathFlowValue"),function t(n){return n===i.codes.eof||(0,a.markdownLineEnding)(n)?(e.exit("mathFlowValue"),_(n)):(e.consume(n),t)}(t))}function x(n){return e.exit("mathFlow"),t(n)}function b(e,t,n){let u=0;return(0,l.ok)(c.parser.constructs.disable.null,"expected `disable.null`"),(0,s.factorySpace)(e,function(t){return e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),function t(o){return o===i.codes.dollarSign?(u++,e.consume(o),t):u<g?n(o):(e.exit("mathFlowFenceSequence"),(0,s.factorySpace)(e,d,r.types.whitespace)(o))}(t)},r.types.linePrefix,c.parser.constructs.disable.null.includes("codeIndented")?void 0:o.constants.tabSize);function d(r){return r===i.codes.eof||(0,a.markdownLineEnding)(r)?(e.exit("mathFlowFence"),t(r)):n(r)}}},concrete:!0},u={tokenize:function(e,t,n){let i=this;return function(n){return null===n?t(n):((0,l.ok)((0,a.markdownLineEnding)(n),"expected eol"),e.enter(r.types.lineEnding),e.consume(n),e.exit(r.types.lineEnding),o)};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0}},6623:function(e,t,n){"use strict";n.d(t,{mathText:function(){return s}});var r=n("83089"),i=n("50238"),o=n("95113"),a=n("22294");function s(e){let t=(e||{}).singleDollarTextMath;return null==t&&(t=!0),{tokenize:function(e,n,s){let l,u;let d=this,f=0;return function(n){return(0,a.ok)(n===r.codes.dollarSign,"expected `$`"),(0,a.ok)(c.call(d,d.previous),"expected correct previous"),e.enter("mathText"),e.enter("mathTextSequence"),function n(i){return i===r.codes.dollarSign?(e.consume(i),f++,n):f<2&&!t?s(i):(e.exit("mathTextSequence"),g(i))}(n)};function g(t){return t===r.codes.eof?s(t):t===r.codes.dollarSign?(u=e.enter("mathTextSequence"),l=0,function t(i){return i===r.codes.dollarSign?(e.consume(i),l++,t):l===f?(e.exit("mathTextSequence"),e.exit("mathText"),n(i)):(u.type="mathTextData",v(i))}(t)):t===r.codes.space?(e.enter("space"),e.consume(t),e.exit("space"),g):(0,o.markdownLineEnding)(t)?(e.enter(i.types.lineEnding),e.consume(t),e.exit(i.types.lineEnding),g):(e.enter("mathTextData"),v(t))}function v(t){return t===r.codes.eof||t===r.codes.space||t===r.codes.dollarSign||(0,o.markdownLineEnding)(t)?(e.exit("mathTextData"),g(t)):(e.consume(t),v)}},resolve:l,previous:c}}function l(e){let t,n,r=e.length-4,o=3;if((e[3][1].type===i.types.lineEnding||"space"===e[o][1].type)&&(e[r][1].type===i.types.lineEnding||"space"===e[r][1].type)){for(t=o;++t<r;)if("mathTextData"===e[t][1].type){e[r][1].type="mathTextPadding",e[o][1].type="mathTextPadding",o+=2,r-=2;break}}for(t=o-1,r++;++t<=r;)void 0===n?t!==r&&e[t][1].type!==i.types.lineEnding&&(n=t):(t===r||e[t][1].type===i.types.lineEnding)&&(e[n][1].type="mathTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e}function c(e){return e!==r.codes.dollarSign||this.events[this.events.length-1][1].type===i.types.characterEscape}},53368:function(e){"use strict";e.exports="data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_2336_47947)'%3E%3Cpath d='M22.6666 11.9997C22.6666 6.10864 17.8909 1.33301 11.9999 1.33301C7.77304 1.33301 4.12042 3.79157 2.39404 7.35667' stroke='url(%23paint0_linear_2336_47947)' stroke-width='2.53968' stroke-linecap='round'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_2336_47947' x1='2.39404' y1='11.9997' x2='22.6666' y2='11.9997' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='white' stop-opacity='0'/%3E%3Cstop offset='0.399431' stop-color='white' stop-opacity='0.5'/%3E%3Cstop offset='1' stop-color='white'/%3E%3C/linearGradient%3E%3CclipPath id='clip0_2336_47947'%3E%3Crect width='24' height='24' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A"},75863:function(e){"use strict";e.exports="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>"},38358:function(e){"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 16 16' fill='%23fff' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.207 4.793a1 1 0 0 1 0 1.414l-5 5a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L6.5 9.086l4.293-4.293a1 1 0 0 1 1.414 0z'/%3E%3C/svg%3E"},96359:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.5c6c885a.otf"},95592:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.5747380f.ttf"},12653:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.6dcba8d7.woff"},63319:function(e,t,n){"use strict";e.exports=n.p+"static/font/Montserrat-SemiBold.3716a72c.woff2"},87399:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAQEElEQVR4nO3d3XIU17kG4Hf1jJCMsNQDRlEKxTNjp+KUXRWEc5BDFOc8Zjvn22xfQIxzAZHxBQR8AwFyAbG5gGA5F2DErrJrOxW7RyBibTB0S5HwSJrpLwfTLUbS/HVPd6/+eZ8qqkDqGS2JfvWtn+5eChQLy5YaABPAYtnArOuirgzMQlCTzsdN79Duvx/leH+ggAY6f2mIi03DgNVyseZ9frVeUU6c309RKd0NyDovCItlA1UBFkWwCMAPR5IcAA0FNNqCewBWwOCMjQEJyLJlqWzgvAiWBAdhSLOGAlaVwkrLxb16Ra3oblCWMCBDWLYslg1cFMElLxBJV4aoOV5gPm25+LxeUau6G5RmDEgPli1LBnAJCm8j/RViXA2lsNJ2cYvV5TgGxNMVineR/SoRFsNyRKEDYtlilg287wquoLih6KcBwW0XuF6vqIbuxuhSyIBYtiyVFJYFWNLdlixQwIph4ObCjLqluy1JK0xAWC0iYZUMXN1v4/OiVJXcB4TBiIU/Vrma96DkNiAMRjKUws08ByV3AWEw9MhrUHITEAYjFRqGws2fzKqruhsSlVwExLLlkqFwDflf1MsKq2Tgah5mvTIdEMuWWknhBqdr00kBn7QFf8hyt8vQ3YCwHmzKsqFwl+FILwH+y1D49sGmLOtuS1iZqyCWLUuGwg2wO5U1lit4K2vVJFMV5P6mXDMUPgPDkUX1LFaTTFQQy5aaofAJOpebU/ZlppqkvoI82JT3DYW7YDjypG4ofGHZckV3Q4ZJbQWxbDFLBpals65BOaUUrrVdfJTWW4NTGRB2qQontV2u1HWxvFkqdqmKpW4o3LFsSd2UfaoC4o03PgMvFSmiuqFwJ22zXKkJyINNWXYF13W3g7RSrmA5TSHRPgbxBuPXRHBZd1soPRRw42VTvZeCduhj2WJ6XSqON6iXu97gXdsMl7YuljdTxXDQIBe8wbu2Kye0VJCucPCSERqFtmngxAPCcFBIWkKSaEAYDhpT4iFJLCAckFNEEh24JzZIZzgoIv7APZHF5EQCcn9TboDhoOhcKCn8KYkvFHtAHmzKMhcBKWoCXE5ixT3WMYh3+ciHcX4NKjRxOw+FiO0SpdgC4l2V+1lc70/kEW/QHst2DbEEhNO5lDDbFbwZx/Rv5AHxpnPvguGgZMUy/Rv5IL1kYBkMByXvQsnAH6N+00gD8mBT3uc95KSLCK5E/SCIyLpY3rjjLng3IOkV6XgksgrCW2UpJSqGwl+jerNIAuIt2HDcQWlx4f6mRLLSPnYXy+taWVE0hihCkayPjF1BuBhIKaUMhT+P+yZjBYRdK0q5umXLWJc6he5isWtFGTHWrFboClLqbHlGlHaVUmc/mVBCBcSy5bIAl8J+UaIkCXDRsiXU+Rqqi7XmiAWOPShbLK+rFeharcAVhANzyqg6EPwyqEAVhJexU8bZruCVIFUkUAUxgA/BcFB2VRCwioxcQTitSzkRqIqMXEG86kGUdYGqyEgVhNWDcmbkKjJSBWH1oJwZuYoMrSCcuaKcGqmKjFJBlsBwUP6MVEWGVhCumlOO2VVTnR50wMAKYtlyGQwH5Zc5bOvpgQEpKbwbbXuIUkWVFAY+37dvF4tTu1QQ4gpO9xusD6ogfL4VFYHCgHO9b0AMhbdjaQ5RyhgKv+/7uV4f9AYuHJxTUfQdrPcMiAFueEOFotDnDtmeg3SuffTXarXx/9872N5pAgDKpRLOnH4R5sy05pYd5mzt4MnTf6PVbgMATk1P4UzlRUxNntDcstTquSZyLCDc+Ka/bxobWN940vNzp6an8MbPfqL9BGzu7uHrb/4FZ2un5+drC3OoLpxNuFWZ0PNBc8e6WOxe9fblP+73DQcAbO80ce+rBpq7ewm26rDm7h7ufdXoGw4AaKw/wr2vEttmPEt6drOOj0EULibRmixZW3+E75/+e+hxzd19fPn1gwRa1FsnoPtDj3O2dtBYf5xAi7LFUPjtsY91/8OyZREcexzSarWxvvF05OO3nzXxvT08TFHbeOyMFA7fw40naLXaMbYok2peBg4crSADr0spImdrJ/CJ9OTpVkytie5rtlptLUHOgEMZOBSQEhcHj9l+1kzkNeMKUj2ev0bfeCml1NFu1qGACLAIGpuOros/nUtj693F8lYSuUMUFd2hVfXuCsLqQdRxkIWDgJQ4vUsEdNZDDrJwEBCOP4g6DIXzB38HAMsWE1z/IPLVLFtqwPMKwupB1OVEqVNF/IBwgbCPcrkU+DWTGi5YLJeCtzPMa4pir4064AWk1NXnosNOnZxK5DXjmp05Gfg1p6aTb2dGqJLRVUGE44++zJlpTE1OBHrNwo/PxNSa/l46PRPo+KnJidTdw5ImIoe7WAzIAK+9em7kY8/NnwkcqCiYM9M4Nz/wGWiHvFr9cYytyYXOIN2bweIK+gDmzPRINxnNzpzET2vzCbSot9rCHF46/eLQ46ojHldwpmVLTfEOwtFt7zTxz7XvsLn17NDHy2UD1XNzWrpWvWw8drC2/ujYBYyzMydRW5hj12o04greVJYtlwyFT3S3Jkuau/to7u6hubuHU9MvaBmUj6L7Uv1T0y9o6fplmLiC98rg+COwqckJ72RL929iVoqxmQYYEKJeFICqAQ7QiXoqGTCNkkJVd0OI0siVTgUhoh4UYBpcRSfqy2QFIRqAg3Si/kwGhKg/drGIBmFAiAZgQIgGYECIBmBAiAYoA3DAmazItFptNHf3sf3sB7TbLvZbbeyGeLD0KCYnJzBRLmHyxATK5RKv3o2ew4BEoNVq4+HGUzhbOwN3d0qCOTON+bMmZmdOat8OLgecsu4WZN3DjSdorD9Cq+XqbgoAHIR0anICtYU5/Ogsf/eNw0CnglAIDzee4J+NjdSEo1tzdx//981DrH83+u5YdJgADUMxIKE0d/ew/l3/TT3TYu3hI261NgajLVjT3YgscraehdrVKWmtVhsbj/k7MAwDaLCLFdL2zg+6mzCyHQ1bwuVBW7BpAOCm2SG02ukbd1CkBKwgRP2dKHUCsqq7IVlULmXnIoQSn+Ieyl6708ViBQlhaio7i3B8YFxoq0a9ohpgSAJL69MUe+E2B6E49Ypy/H4CB+oBmTPToTbXSRq3OQitAXhX87qCe3rbkk0/emlWdxOGYjjCcb31Qb+CcKAeQtBNa3Q4N5+OJ85n0CrwPCDsYoVgzkzDDLH1WVJmZ6Y5/ghHAHwOPA/Iir62ZFt1YU53E/r6eYCdseiY5xWkXlEOWEVCCbr1WVKqC3Oc3g2v4WXi+S23iuOQ0GoLc6ma9u3cCzJ8yzjqrXvS6iAgben0uSi4crmEN157ORW/sacmJ3D+9bruZmSZoGvI0X29BCvIGKYmJ/DGay9rXRsplw2cf72eiqBm3EEFUd0fXXPEBu9PH0tzdx/3vrISv1fED2iaunoZZVdNdTCoPHTFHcch4/O7OEn+Fj91cgrnX68zHBGQIxk4FJC24HayzcmnqckJ/OrCz0baW31c5+bPsFsVHZEjGTj6VBOuh0SotjCH+bMVfPn1fWxHfFcf9zyPzaHJKnX0s2uOWOCuU5HbeOxg47GNza1nY70PgxErq2qqV7o/cOy5WK7gtqHwfnJtKob5sybmz5po7u5j47GN759uYefZ7kivnZ056T0QrsKuVIxUjx7UsQpi2bJkKHyWTJOKrdVysf3sBzR3947Nek1NTmBq8gROnXwB5XJ27l7MMHEFb9Ur6lBIjgUE4HQvFdKx7hXQ5+nuruBW/O0hSo9e3Sug//YHn8bYFqK0kbbgL70+0bOLBbCbRYXSs3sFDNhAxxV8HF97iNLDHbBA3reCWLaYhoIdT5OIUkNcwSve032O6VtB6hXl9Bu4EOWFACv9wgEM2aOwLbgafZOIUkPKCjcHHdC3i+XjYJ1yrO/g3Dd0iZaDdcopKSl8OOygUa5huA4+mpTyp7Hv4u/DDhoakHpFOawilDdqyOC867jhvClfCxyLUD4MnNrtNtJloqwilCcKuDlKOLxjR8MqQjkxcvUARqwgAKsI5YIEqR5AgIB4OKNFWdZoCz4K8oJAAWEVoQwTV3ArSPUAAoxBfN5Y5AsAfL4lZcnQVfNeAt/s7FWRPwR9HZFGI62a9xK4gvjWHLkD4NdhX0+UFAE+qZnqnTCvDf24DFfwHjhgp/QTGaPHEzog9YpqcMBOKSeu4GrQgXm30F0s35oj34IDdkqnb6umenWcNxj7iWReV4sobcQV/GbcNxk7IPWKWnEF18d9H6IIjd218o3dxfKtOfIFgAtRvR/RGMbuWvkie+irK3gH4FNQSDs7iq6VL7KAeLNaga5zIYpYZF0rX6SPDa9X1HWOR0gTcQUf1ysq0qWHOJ6rfxXA3Rjel2gQC4j+MVWRDdK7WbbUvAsaK3G8P9ERlre3R2RdK18sO7N445F30NmUnShO4greiyMcQEwBAQ7WR3jVL8XJH5TH9ojcWPf28gbtfHwpxcEPR6znVyxjkKMsW24YCpeT+FpUCP7dgf8T9xdKKiCmoXAHXGmnaHxRNdUvk/hCiWyf6t2F+BY4/UvjuxvlSvkwiVQQnzf9ewe8PJ7CiW06t59EAwIwJBRa4uEANAQEYEgoMC3hABIagxzlLSRyTEKjuKsrHICmCuLj7BYNIPAG5PWK0vZwEC0VxFevKKdqqjddGbxPHBWOuIJbusMBaK4g3SxbPjQUlnW3g7RLZIV8VKkJCHAQkj8iZe2ixIgr+CDqezrGkboT0bJlyVD4MzjDVTRPXcHv4rzwMIzUBQTgNHDBCIBVV/COrpmqQbQO0vvxpoHf9G7f5T0l+SWu4GOd07jDpLKCdLNsueKNS3h3Yr7Y3mA8NeONXlIfEIBdrpzx1zd+l9aq0S0TAfFxlivz/CePfKC7IaPK3InWcKSugL+B1SRLBEDDu3c8VbNUw2QuID5Wk8ywvaqRioW/oDJ9clm21JTCNQW8jYx/LzkkAqxIjE8cSUIuTirLlsteNWG3Sz+/O/VBvaJu627MuHIREJ/X7fpvMCg6CAB/m/CPdV9kGJVcBQTodLsA+EHJ3feXQrkMhi+3JxCDErtcB8OX+xPHC8qyoXARQA0F+J5jVohg+ApzsnhBWfIG8wxKcIUKhq+QJ4lly+WSwrsCXERBfwYB+NO1H2VtkS8KhT45vKpyxVD4LVhVuhWyWvTCE8Jj2bIE4N0Cj1X8UNwCcLuI1aKXop0EI+kRFiB/Pyv/PpuGK7gNhqKnvP2nR86yZbFs4KIreBvAIgDT+1TWfnZ+IBwBVksKn7Zc/L1eUataW5VyWftP1s6yZals4LwILkonMGmsMN13YTYUsKoUVlou/pdVIpg0/admkmWLiU5QlkoKv3CBmuqExjxyaNQ/66O3IjsCNIxOGFZbLtYAfF7kAXYUGJCYdAXHLBuotlzUSgZMEVS9Q/zKY+J4mHyO9wcCOKrzp9EWbJYNNFouHAD3ADhZvmI2zf4D1iEEUcUnTJIAAAAASUVORK5CYII="},84657:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#000",fillOpacity:.45,d:"M4.961 15.339a.65.65 0 0 1-.189-.326.8.8 0 0 1 0-.378.7.7 0 0 1 .19-.319l3.997-4.01L4.96 6.302a.64.64 0 0 1-.182-.319.8.8 0 0 1 0-.378.7.7 0 0 1 .182-.325.7.7 0 0 1 .332-.189.8.8 0 0 1 .378 0q.189.045.325.182L10 9.277l3.998-4.004a.6.6 0 0 1 .325-.182q.19-.045.371 0 .189.045.339.189.136.137.182.325a.7.7 0 0 1 0 .378.7.7 0 0 1-.182.326l-3.998 3.997 3.998 4.004a.7.7 0 0 1 .182.332q.045.182 0 .371a.7.7 0 0 1-.182.325.7.7 0 0 1-.332.19.8.8 0 0 1-.378 0 .7.7 0 0 1-.325-.183L10 11.341l-4.004 4.004a.7.7 0 0 1-.325.182.8.8 0 0 1-.378 0 .7.7 0 0 1-.332-.188"})}))}},74253:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#000",fillOpacity:.95,d:"M16.856 7.774q0 1.133-.404 2.063-.398.925-1.08 1.472a2.37 2.37 0 0 1-1.53.547h-1.134a43 43 0 0 0-1.81 2.376q-.384.547-.716 1.087-.332.547-.625 1.12-.325.619-.696.892a1.37 1.37 0 0 1-.86.28 1.6 1.6 0 0 1-.82-.209 1.53 1.53 0 0 1-.56-.579 1.74 1.74 0 0 1-.202-.846 3.4 3.4 0 0 1 .157-.99q.156-.521.358-.996.207-.482.364-.872.163-.398.176-.638.006-.085-.052-.13a.24.24 0 0 0-.15-.046h-2.35a1.77 1.77 0 0 1-.905-.235 1.8 1.8 0 0 1-.638-.644 1.8 1.8 0 0 1-.234-.912q0-.605.273-1.028a1.7 1.7 0 0 1-.143-.397 2 2 0 0 1-.052-.45q0-.35.117-.67.123-.319.345-.554a1.7 1.7 0 0 1-.137-.703q0-.84.67-1.38a3 3 0 0 1-.045-.202 2 2 0 0 1-.013-.208q0-.626.41-1.087.411-.462 1.107-.632.345-.084.853-.123.514-.045 1.126-.046h.886q.833 0 1.582.182.755.183 1.393.508H13.6q.684 0 1.27.319.592.313 1.035.872.45.561.697 1.296.253.735.253 1.563m-3.946.052q0-1.062-.553-1.875-.547-.814-1.55-1.276-.995-.469-2.33-.476h-.762q-.58 0-1.022.033a4.3 4.3 0 0 0-.723.104q-.32.078-.469.234-.15.15-.15.352 0 .105.027.195.026.092.123.332.066.15.02.3a.37.37 0 0 1-.189.228q-.6.318-.599.748 0 .15.052.274.052.117.156.312a.5.5 0 0 1 .04.365.5.5 0 0 1-.202.286q-.195.15-.293.32a.7.7 0 0 0-.091.357q0 .163.065.306.064.137.195.339a.35.35 0 0 1 .098.28.42.42 0 0 1-.137.28 1.2 1.2 0 0 0-.234.312.8.8 0 0 0-.066.339.63.63 0 0 0 .176.456.62.62 0 0 0 .456.182H7.22q.618 0 1.029.338.41.339.41.912 0 .39-.163.853-.156.462-.371.944-.209.48-.371.93-.163.45-.163.802 0 .227.11.351a.36.36 0 0 0 .28.124q.15 0 .268-.098.123-.097.273-.397a15.5 15.5 0 0 1 1.042-1.784 29 29 0 0 1 1.146-1.569q.573-.73 1.048-1.367.43-.573.683-1.08a4 4 0 0 0 .358-1.049q.111-.54.111-1.217m2.787-.052q0-.788-.28-1.44-.28-.657-.742-1.054-.463-.404-1.01-.423h-.709q.546.599.833 1.354.293.755.293 1.615 0 .82-.156 1.523-.15.696-.482 1.348h.488q.476-.02.873-.417.404-.397.644-1.048.248-.659.248-1.458"})}))}},31610:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#000",fillOpacity:.95,d:"M3.145 12.695q0-1.132.397-2.057t1.08-1.471a2.38 2.38 0 0 1 1.537-.554h1.126q.534-.651.977-1.23.45-.585.833-1.14.391-.553.716-1.093.333-.548.625-1.113.325-.626.69-.899.372-.28.873-.28.455 0 .807.215.359.208.566.58.21.363.209.84 0 .48-.163.995a10 10 0 0 1-.365.99q-.201.482-.364.879-.155.39-.17.638 0 .085.053.13.058.046.15.046h2.356q.501 0 .899.24.403.236.638.639.24.403.24.905 0 .598-.28 1.035.092.169.144.39a1.96 1.96 0 0 1-.065 1.12q-.117.32-.339.553.137.313.137.704 0 .84-.677 1.38.032.104.045.202.013.104.013.214 0 .612-.41 1.081t-1.107.632q-.345.09-.853.13-.507.039-1.126.039h-.879a6.8 6.8 0 0 1-1.595-.182 6 6 0 0 1-1.386-.502H6.4q-.69 0-1.283-.319a3.4 3.4 0 0 1-1.035-.878 4.3 4.3 0 0 1-.69-1.29 4.9 4.9 0 0 1-.247-1.569m3.938-.052q0 1.062.554 1.882.553.813 1.55 1.276 1.002.462 2.33.469h.762q.585 0 1.028-.033.443-.026.716-.098.32-.084.47-.24.149-.15.149-.352a.7.7 0 0 0-.026-.195 3 3 0 0 0-.124-.339.4.4 0 0 1-.02-.286q.046-.15.196-.241.592-.306.592-.736a.65.65 0 0 0-.052-.267 4 4 0 0 0-.156-.319.54.54 0 0 1-.045-.37.55.55 0 0 1 .214-.294q.19-.142.28-.306a.74.74 0 0 0 .091-.358.8.8 0 0 0-.058-.306 2 2 0 0 0-.196-.338.4.4 0 0 1-.097-.28.43.43 0 0 1 .143-.287 1.1 1.1 0 0 0 .228-.306.8.8 0 0 0 .072-.345.62.62 0 0 0-.183-.456.62.62 0 0 0-.455-.182H12.78q-.625 0-1.035-.339-.405-.338-.404-.911 0-.384.156-.846.164-.462.371-.944.216-.489.378-.938.163-.45.163-.8 0-.23-.11-.352a.37.37 0 0 0-.287-.124.4.4 0 0 0-.274.098q-.117.098-.267.403a15 15 0 0 1-1.048 1.784 28 28 0 0 1-1.14 1.563q-.566.73-1.047 1.367a8 8 0 0 0-.677 1.087q-.255.502-.365 1.048-.11.54-.11 1.211m-2.786.052q0 .788.28 1.446t.742 1.054 1.01.417h.357q.176.006.352.007a4.5 4.5 0 0 1-.834-1.355 4.4 4.4 0 0 1-.293-1.62q0-.821.15-1.518.156-.703.488-1.354h-.247q-.124 0-.24.007-.47.02-.873.416-.404.39-.651 1.049-.24.651-.241 1.451"})}))}},23361:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:(0,o.jsx)("path",{fill:"#fff",d:"M8.92 14a.58.58 0 0 1-.396-.154.68.68 0 0 1-.208-.391 19 19 0 0 0-.326-1.536q-.165-.615-.409-1.007a1.86 1.86 0 0 0-.622-.628q-.386-.238-.984-.38a17 17 0 0 0-1.476-.272.67.67 0 0 1-.403-.208.6.6 0 0 1-.154-.409.58.58 0 0 1 .16-.409.63.63 0 0 1 .403-.207 14 14 0 0 0 1.488-.237q.605-.137.995-.374.392-.243.635-.64.249-.403.403-1.025.154-.63.29-1.541a.63.63 0 0 1 .202-.392.59.59 0 0 1 .403-.154q.23 0 .397.154a.64.64 0 0 1 .213.391q.16.913.32 1.536.166.616.41 1.007.241.391.628.629.386.237.978.379.598.143 1.475.267.249.04.404.213.16.172.16.403a.61.61 0 0 1-.57.617q-.876.1-1.481.243-.604.135-1.002.373-.39.238-.634.64-.243.403-.397 1.026-.155.627-.29 1.54a.64.64 0 0 1-.208.392.57.57 0 0 1-.403.154M4.536 6.902q-.297 0-.332-.308-.072-.57-.142-.895-.072-.327-.237-.492-.167-.172-.498-.255a9 9 0 0 0-.925-.166q-.326-.048-.326-.332t.29-.332q.605-.106.949-.196.344-.089.51-.249.166-.165.237-.48.07-.32.142-.883Q4.238 2 4.535 2q.29 0 .332.302.071.593.142.925.076.332.243.498.166.16.504.237t.936.16a.3.3 0 0 1 .214.107.33.33 0 0 1 .083.225q0 .279-.285.332a10 10 0 0 0-.954.195q-.337.09-.504.255-.166.16-.237.48t-.142.89a.334.334 0 0 1-.332.296"})}))}},32416:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:24,fill:"none",viewBox:"0 0 16 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M7.69 19.14q-1.566 0-2.734-.56-1.163-.561-1.809-1.572-.647-1.01-.647-2.363 0-.714.112-1.268.12-.555.284-.997.172-.45.344-.845.172-.396.283-.786.113-.39.113-.832 0-.218-.027-.475a6 6 0 0 1-.02-.39q0-.218.126-.356a.42.42 0 0 1 .33-.14q.35 0 .707.212.362.211.647.588.29.369.442.858l-.33.066q.158-.278.198-.488.045-.219.046-.443a3.4 3.4 0 0 0-.244-1.241 5.6 5.6 0 0 0-.594-1.116 13 13 0 0 0-.747-.997.9.9 0 0 1-.158-.244.6.6 0 0 1-.053-.251q0-.317.27-.476.278-.165.747-.165.872 0 1.836.212a9 9 0 0 1 1.92.647q.959.435 1.817 1.116a7.6 7.6 0 0 1 1.518 1.604 7.5 7.5 0 0 1 1.05 2.12q.383 1.195.383 2.674 0 1.326-.416 2.416a5.2 5.2 0 0 1-1.182 1.869q-.773.78-1.842 1.201-1.063.423-2.37.423m.152-1.854q.785 0 1.3-.344.522-.343.78-.904.257-.562.257-1.215a3.6 3.6 0 0 0-.251-1.3 3.9 3.9 0 0 0-.733-1.21q-.488-.553-1.215-.897-.046-.02-.072.006-.027.021-.02.066A5.7 5.7 0 0 1 7.86 13q-.111.694-.376 1.05a4 4 0 0 0-.284-.528 2 2 0 0 0-.383-.456q-.033-.026-.066-.013-.027.007-.033.053-.04.284-.185.522-.145.231-.317.488a3 3 0 0 0-.303.568 2 2 0 0 0-.126.746q0 .832.561 1.347.568.51 1.493.509"})}))}},7462:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M16.152 10.003a.73.73 0 0 1-.228.534l-4.296 4.283a.72.72 0 0 1-.515.222.7.7 0 0 1-.501-.196.66.66 0 0 1-.195-.488q0-.15.052-.28a.8.8 0 0 1 .156-.228l1.458-1.471 2.429-2.214.228.417-2.26.13H4.57a.73.73 0 0 1-.527-.195.7.7 0 0 1-.195-.514q0-.32.195-.515a.71.71 0 0 1 .527-.202h7.91l2.26.137-.228.423-2.429-2.22-1.458-1.478a.8.8 0 0 1-.156-.22.8.8 0 0 1-.052-.287q0-.293.195-.489a.7.7 0 0 1 .501-.195q.144 0 .274.059t.247.175l4.29 4.278q.228.228.228.534"})}))}},87213:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"#06F",d:"M11.992 16.689q-.431 0-.789-.35l-5.935-6.075a1.2 1.2 0 0 1-.216-.316 1 1 0 0 1-.074-.382q0-.282.132-.506a.974.974 0 0 1 .863-.498q.415 0 .723.307l5.67 5.81h-.74l5.662-5.81q.314-.307.722-.307a.97.97 0 0 1 .863.498.93.93 0 0 1 .141.506.95.95 0 0 1-.29.698L12.78 16.33q-.165.183-.365.274a1.1 1.1 0 0 1-.423.084"})}))}},48847:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:(0,o.jsx)("path",{fill:"#000",fillOpacity:.7,d:"M12.922 8.003q0 .244-.182.427l-3.438 3.427a.58.58 0 0 1-.411.177.55.55 0 0 1-.401-.157.53.53 0 0 1-.157-.39q0-.12.042-.224a.6.6 0 0 1 .125-.182l1.167-1.177 1.942-1.771.183.333-1.808.104H3.656a.58.58 0 0 1-.422-.156.57.57 0 0 1-.156-.411q0-.256.156-.412a.57.57 0 0 1 .422-.161h6.328l1.808.109-.183.339L9.667 6.1 8.5 4.92a.6.6 0 0 1-.125-.177.6.6 0 0 1-.042-.23.53.53 0 0 1 .157-.39.55.55 0 0 1 .4-.156q.115 0 .22.047a.7.7 0 0 1 .197.14l3.433 3.422a.59.59 0 0 1 .182.428"})}))}},8125:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:(0,o.jsx)("path",{fill:"#000",fillRule:"evenodd",d:"M13.239 5.845a.59.59 0 0 0-.834 0L8 10.25 3.595 5.845a.59.59 0 0 0-.833.834L7.584 11.5c.23.23.603.23.833 0l4.822-4.821a.59.59 0 0 0 0-.834",clipRule:"evenodd"})}))}},56320:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:[(0,o.jsx)("path",{stroke:"url(#loading_icon_svg__a)",strokeLinecap:"round",strokeWidth:1.122,d:"M11.98 4.229a5.333 5.333 0 1 0 0 7.542"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("radialGradient",{id:"loading_icon_svg__a",cx:0,cy:0,r:1,gradientTransform:"rotate(45 -5.552 13.91)scale(5.33333)",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{offset:.758,stopOpacity:0}),(0,o.jsx)("stop",{offset:.799,stopOpacity:0}),(0,o.jsx)("stop",{offset:.974,stopOpacity:.5})]})})]}))}},1841:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:(0,o.jsx)("path",{fill:"#fff",fillOpacity:.65,d:"M3.8 3.668v-1.43q0-.95.481-1.435Q4.761.31 5.705.31h2.203q.51 0 .908.146.405.141.733.48l2.918 2.971q.345.357.486.762.14.399.14.978v4.641q0 .949-.486 1.436-.48.486-1.417.486H9.988v-1.149h1.096q.427 0 .639-.216.216-.223.216-.627V5.367H9.362q-.544 0-.826-.275-.28-.282-.281-.826V1.465H5.799q-.421 0-.639.217-.21.216-.21.627v1.359zm5.415.451q0 .153.064.223.071.064.217.064h2.145l-2.426-2.46zM.9 13.295v-8.05q0-.95.48-1.436.482-.493 1.425-.493h2.039q.533 0 .879.118.35.111.703.474l3.176 3.223q.246.252.375.48.128.23.17.51.046.275.046.668v4.506q0 .95-.48 1.435-.48.487-1.424.487H2.805q-.945 0-1.424-.487-.48-.48-.48-1.435m1.155-.07q0 .41.21.627.212.216.633.216H8.19q.423 0 .633-.216.217-.217.217-.627V8.924H5.945q-.62 0-.931-.305-.31-.31-.31-.943V4.47h-1.8q-.428 0-.638.216-.211.217-.211.622zM6.063 7.91H8.88L5.717 4.693v2.871q0 .183.082.264t.263.082"})}))}},95351:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),{children:(0,o.jsx)("path",{fill:"#fff",d:"M6.648 13.688q-.471 0-.804-.418L2.461 9.037a1.2 1.2 0 0 1-.183-.294.9.9 0 0 1-.052-.294q0-.34.222-.562a.8.8 0 0 1 .575-.222q.398 0 .672.36l2.927 3.755 5.67-9.008q.15-.228.307-.32a.75.75 0 0 1 .405-.098q.339 0 .555.216a.73.73 0 0 1 .216.549 1 1 0 0 1-.046.28q-.046.138-.144.294l-6.14 9.57a.91.91 0 0 1-.797.425",opacity:.7})}))}},36877:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"#999",fillRule:"evenodd",d:"M12 21.375a9.375 9.375 0 1 1 0-18.75 9.375 9.375 0 0 1 0 18.75M.75 12C.75 5.787 5.787.75 12 .75S23.25 5.787 23.25 12 18.213 23.25 12 23.25.75 18.213.75 12m11.241 1.676q-.94 0-.974-.941l-.142-4.86q-.021-.481.296-.777.316-.307.81-.307.49 0 .82.307.327.306.306.788l-.164 4.838q-.034.952-.952.952m0 3.459q-.514 0-.886-.328a1.08 1.08 0 0 1-.361-.832q0-.504.36-.832.363-.33.887-.329.526 0 .886.329.372.328.372.832 0 .515-.372.842-.36.318-.886.318",clipRule:"evenodd"})}))}},42021:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M19.383 12.004a.88.88 0 0 1-.274.64l-5.156 5.141a.86.86 0 0 1-.617.266.83.83 0 0 1-.602-.235.8.8 0 0 1-.234-.585q0-.18.063-.337a.9.9 0 0 1 .187-.273l1.75-1.765 2.914-2.657.273.5-2.71.156H5.484q-.39 0-.632-.234a.85.85 0 0 1-.235-.617q0-.383.235-.617a.86.86 0 0 1 .632-.242h9.493l2.71.164-.273.507L14.5 9.152 12.75 7.38a1 1 0 0 1-.187-.266.9.9 0 0 1-.063-.343q0-.352.234-.586a.83.83 0 0 1 .602-.235q.172 0 .328.07t.297.211l5.148 5.133a.88.88 0 0 1 .274.64"})}))}},94154:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M17.008 11.996q0 .203-.078.375t-.235.328l-6.086 5.953a.86.86 0 0 1-.64.266.9.9 0 0 1-.461-.125.9.9 0 0 1-.336-.328.925.925 0 0 1 .164-1.117l5.484-5.352-5.484-5.351a.92.92 0 0 1-.281-.657q0-.258.117-.46a.9.9 0 0 1 .336-.321.9.9 0 0 1 .46-.125.87.87 0 0 1 .641.258l6.086 5.953q.156.157.235.328.078.173.078.375"})}))}},19266:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M5.953 18.406a.8.8 0 0 1-.226-.39.95.95 0 0 1 0-.453.8.8 0 0 1 .226-.383l4.797-4.813-4.797-4.805a.77.77 0 0 1-.219-.382.95.95 0 0 1 0-.453.8.8 0 0 1 .22-.391.83.83 0 0 1 .398-.227.95.95 0 0 1 .453 0q.225.055.39.22L12 11.132l4.797-4.805a.74.74 0 0 1 .39-.219.9.9 0 0 1 .446 0 .9.9 0 0 1 .406.227q.164.165.219.39a.84.84 0 0 1 0 .454.86.86 0 0 1-.219.39l-4.797 4.797 4.797 4.805a.86.86 0 0 1 .219.398.9.9 0 0 1 0 .446.8.8 0 0 1-.219.39.83.83 0 0 1-.398.227.95.95 0 0 1-.453 0 .8.8 0 0 1-.391-.219L12 13.61l-4.805 4.805a.8.8 0 0 1-.39.219.95.95 0 0 1-.453 0 .83.83 0 0 1-.399-.227"})}))}},68681:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",fillOpacity:.95,d:"M12.596 18.5H7.001q-.713 0-1.111-.401-.39-.393-.39-1.113v-5.574q0-.394.257-.653a.87.87 0 0 1 .647-.259q.398 0 .647.26.257.259.257.652v.593l-.174 3.626c.04 1.13.099 1.221 1.21 1.221l3.613-.175h.639q.39 0 .647.26.257.259.257.651 0 .393-.257.653a.86.86 0 0 1-.647.259M11.404 5.5h5.595q.713 0 1.111.401.39.393.39 1.113v5.574q0 .394-.257.653a.87.87 0 0 1-.647.259.86.86 0 0 1-.647-.26.89.89 0 0 1-.257-.652v-.593l.174-3.626c-.04-1.13-.099-1.221-1.21-1.221l-3.613.175h-.639a.87.87 0 0 1-.647-.26.89.89 0 0 1-.257-.651q0-.393.257-.653a.86.86 0 0 1 .647-.259"})}))}},8618:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M6.25 12.793V6.105q0-1.257.64-1.906.641-.656 1.9-.656h3.765q.492 0 .86.07.366.063.679.242.313.172.64.508l4.094 4.164q.344.344.516.664.18.313.242.696.063.375.062.922v7.086q0 1.258-.64 1.906-.64.656-1.899.656h-5.687q.218-.352.36-.742.147-.383.218-.797h4.984q.57 0 .852-.29.28-.288.281-.827V11.02h-4.21q-.837 0-1.25-.415-.408-.413-.407-1.25v-4.28H8.922q-.57 0-.852.296-.28.297-.28.836v6.586q-.196-.03-.392-.047a3.3 3.3 0 0 0-.773 0q-.187.015-.375.047m7.352-3.586q0 .242.101.352.11.11.352.109h3.851l-4.304-4.383zm-6.579 12.68q-.828 0-1.554-.313a4 4 0 0 1-1.282-.875 4.1 4.1 0 0 1-.867-1.281A3.8 3.8 0 0 1 3 17.863q0-.828.32-1.554.313-.727.868-1.282.555-.562 1.28-.875a3.9 3.9 0 0 1 1.555-.312q.828 0 1.555.312a4.07 4.07 0 0 1 2.149 2.157q.32.726.32 1.554 0 .82-.32 1.547-.313.735-.875 1.29-.555.554-1.29.866-.726.32-1.539.32m0-6.57q-.218 0-.43.203l-1.991 1.859a.57.57 0 0 0-.188.406.47.47 0 0 0 .149.375q.164.15.39.149a.48.48 0 0 0 .399-.172l.695-.727.43-.437-.04.922v1.93q0 .24.165.406.171.163.421.163.243 0 .415-.163a.54.54 0 0 0 .171-.407v-1.93l-.039-.921.422.437.703.727a.44.44 0 0 0 .172.117q.101.047.219.055a.47.47 0 0 0 .383-.141.52.52 0 0 0 .156-.383.52.52 0 0 0-.187-.406l-1.993-1.86q-.218-.203-.422-.203"})}))}},87644:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",fillOpacity:.95,d:"M19.096 11h-4.595q-.713 0-1.111-.401-.39-.394-.39-1.113V4.912q0-.393.257-.653A.87.87 0 0 1 13.904 4q.398 0 .647.26.257.258.257.652v.593l-.174 2.626c.04 1.13.099 1.221 1.21 1.221l2.613-.175h.639q.39 0 .647.26.257.259.257.651 0 .394-.257.653a.86.86 0 0 1-.647.259M4.904 13h4.595q.713 0 1.111.401.39.394.39 1.113v4.574q0 .393-.257.653a.87.87 0 0 1-.647.259.86.86 0 0 1-.647-.26.89.89 0 0 1-.257-.652v-.593l.174-2.626c-.04-1.13-.099-1.221-1.21-1.221l-2.613.175h-.639a.87.87 0 0 1-.647-.26.89.89 0 0 1-.257-.651q0-.394.257-.653A.86.86 0 0 1 4.904 13"})}))}},41837:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M12.523 8.953q.633.133 1.094.375.47.243.79.57.984.977 1.312 2.165a4.35 4.35 0 0 1 0 2.367q-.328 1.18-1.305 2.156l-2.75 2.75q-.969.969-2.148 1.297a4.35 4.35 0 0 1-2.368 0q-1.179-.32-2.164-1.313-.984-.976-1.312-2.164a4.35 4.35 0 0 1 0-2.367Q4 13.61 4.977 12.633l2.203-2.188a2.9 2.9 0 0 0-.07 1.063q.062.547.265 1.015L6.18 13.72q-.65.648-.867 1.422a2.87 2.87 0 0 0 .007 1.554q.219.782.867 1.43.642.648 1.422.86.782.21 1.555-.008.774-.211 1.422-.852L13.21 15.5q.648-.64.86-1.414.21-.78-.008-1.563-.212-.78-.86-1.43a2.7 2.7 0 0 0-.836-.546 3.8 3.8 0 0 0-1.14-.29zm-1.054 6.695a4 4 0 0 1-1.102-.359 3.2 3.2 0 0 1-.781-.578q-.984-.985-1.313-2.164a4.35 4.35 0 0 1 0-2.367Q8.603 9 9.578 8.023l2.742-2.742q.977-.976 2.157-1.304a4.3 4.3 0 0 1 2.359 0q1.188.32 2.18 1.312.976.984 1.304 2.172a4.3 4.3 0 0 1 0 2.36q-.327 1.179-1.297 2.148l-2.21 2.195q.132-.507.07-1.055a3.6 3.6 0 0 0-.266-1.023l1.195-1.195q.65-.642.86-1.414.21-.782-.008-1.555-.21-.782-.86-1.43-.648-.648-1.421-.86a2.8 2.8 0 0 0-1.555 0q-.773.212-1.422.852L10.781 9.11q-.648.65-.867 1.422a2.87 2.87 0 0 0 .008 1.555q.219.773.867 1.43.345.336.836.554.492.21 1.14.274z"})}))}},18824:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M9.587 18.668q-.89 0-1.333-.451-.438-.444-.438-1.374l2.167-1.914q.178-.15.37-.233a1 1 0 0 1 .382-.082q.213 0 .41.082.199.076.383.246l1.053.957 2.646-2.344q.197-.178.41-.26.218-.082.465-.082.231 0 .457.089t.41.26l3.18 2.973v.342q0 .902-.445 1.347-.444.444-1.326.444zm2.57-4.963a1.38 1.38 0 0 1-1.011-.424 1.4 1.4 0 0 1-.418-1.018q0-.582.418-.998.424-.424 1.011-.424.39 0 .711.198.328.191.52.52.19.321.191.704a1.4 1.4 0 0 1-.417 1.018 1.36 1.36 0 0 1-1.005.424m-7.923 1.422L3.1 8.694q-.2-1.107.28-1.784.485-.684 1.6-.882l9.187-1.62q1.114-.191 1.798.287.684.472.882 1.573l.396 2.262h-1.538l-.328-1.839q-.083-.465-.362-.649-.275-.185-.711-.11L5.376 7.506q-.444.075-.643.349-.191.265-.109.738l1.08 6.118q.09.458.362.65.274.184.711.109l1.135-.205v1.545l-.998.177q-1.12.191-1.805-.28-.675-.478-.875-1.579m5.08 4.156q-1.136 0-1.73-.588-.588-.58-.588-1.709v-6.528q0-1.128.588-1.709.594-.588 1.73-.588h9.324q1.134 0 1.722.588.595.588.595 1.709v6.528q0 1.128-.595 1.71-.588.587-1.722.587zm.13-1.524h9.064q.444 0 .683-.233.247-.225.247-.697v-6.214q0-.471-.247-.704-.24-.232-.683-.232H9.443q-.45 0-.69.232-.233.233-.233.704v6.214q0 .472.233.697.24.233.69.233"})}))}},22314:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:[(0,o.jsx)("path",{fill:"currentColor",d:"M14.7 14.355v-.001a.65.65 0 1 1-.775-1.043q.045-.036.126-.091c.105-.072.256-.166.443-.259a3.5 3.5 0 0 1 1.55-.38 3.5 3.5 0 0 1 1.55.38 4 4 0 0 1 .607.379l.012.01.005.003.002.001v.001a.649.649 0 0 1-.411 1.153.65.65 0 0 1-.423-.156l-.01-.007-.07-.05a3 3 0 0 0-.29-.17 2.2 2.2 0 0 0-.972-.243 2.2 2.2 0 0 0-.971.243 2.5 2.5 0 0 0-.362.22l-.013.01zM14.7 11.263v.001l-.002.001.013-.01.071-.05c.066-.045.165-.107.291-.17.256-.127.595-.244.971-.244s.716.117.971.244a2.5 2.5 0 0 1 .362.22l.009.007a.65.65 0 1 0 .834-.997l-.002-.002-.005-.004-.012-.01-.02-.016-.017-.013a3.798 3.798 0 0 0-.57-.35 3.5 3.5 0 0 0-1.55-.379c-.638 0-1.179.195-1.55.38a4 4 0 0 0-.607.378.65.65 0 1 0 .813 1.014"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.18 18.305V7.695q0-.117.015-.218a.7.7 0 0 1 .094-.211q.367-.64 1.063-1.164a5.8 5.8 0 0 1 1.64-.836 6.5 6.5 0 0 1 2.04-.313q1.24 0 2.288.438 1.054.437 1.68 1.14.609-.703 1.656-1.14a6 6 0 0 1 2.313-.438q1.078 0 2.015.313.945.312 1.649.836.703.524 1.07 1.164a.8.8 0 0 1 .11.43v10.609q0 .531-.305.78a1.1 1.1 0 0 1-.727.259.9.9 0 0 1-.422-.102 5 5 0 0 1-.46-.265 5.7 5.7 0 0 0-1.383-.665 4.7 4.7 0 0 0-3.125.07 4.3 4.3 0 0 0-1.407.915 1.8 1.8 0 0 1-.507.36 1.19 1.19 0 0 1-.961 0 1.8 1.8 0 0 1-.508-.36 4.3 4.3 0 0 0-1.422-.914 4.5 4.5 0 0 0-1.594-.305 4.7 4.7 0 0 0-1.515.235 6 6 0 0 0-1.391.664 5 5 0 0 1-.453.265.9.9 0 0 1-.422.102q-.422 0-.727-.258-.304-.25-.304-.781m1.539-.867q.609-.415 1.476-.649a6.8 6.8 0 0 1 1.836-.242q.61 0 1.196.133.585.125 1.093.351.508.227.907.524V7.969q-.399-.672-1.274-1.07a4.5 4.5 0 0 0-1.922-.407q-.695 0-1.336.18a4.5 4.5 0 0 0-1.156.5 2.75 2.75 0 0 0-.82.758zm8.047.117a4.5 4.5 0 0 1 .906-.524 5.7 5.7 0 0 1 1.094-.351q.585-.133 1.203-.133.953 0 1.82.242.867.234 1.484.648V7.93a2.7 2.7 0 0 0-.828-.758 4.5 4.5 0 0 0-1.156-.5 4.8 4.8 0 0 0-1.32-.18q-1.071 0-1.938.406-.867.4-1.265 1.07z",clipRule:"evenodd"})]}))}},9275:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"currentColor",fillOpacity:.95,d:"M10.436 7.46q.527.112.911.313.39.202.658.476.82.813 1.094 1.803a3.63 3.63 0 0 1 0 1.973q-.274.982-1.088 1.797L9.72 16.113q-.807.808-1.79 1.08a3.63 3.63 0 0 1-1.973 0q-.984-.266-1.804-1.093-.82-.814-1.093-1.803a3.63 3.63 0 0 1 0-1.973q.273-.982 1.087-1.797l1.836-1.823a2.4 2.4 0 0 0-.059.886q.052.456.222.846l-.997.996q-.54.54-.722 1.185-.176.645.006 1.296.183.65.723 1.191.533.54 1.185.716.651.175 1.295-.006.645-.176 1.185-.71l2.188-2.187q.54-.535.716-1.179a2.4 2.4 0 0 0-.007-1.302q-.175-.651-.716-1.191a2.3 2.3 0 0 0-.696-.456 3.2 3.2 0 0 0-.95-.24zm-.879 5.58a3.3 3.3 0 0 1-.918-.3 2.7 2.7 0 0 1-.651-.481q-.82-.82-1.094-1.803a3.63 3.63 0 0 1 0-1.973q.274-.982 1.087-1.797l2.286-2.285q.813-.814 1.797-1.087a3.6 3.6 0 0 1 1.966 0q.99.267 1.816 1.093.814.82 1.087 1.81.274.984 0 1.967-.273.983-1.08 1.79l-1.843 1.83q.11-.424.059-.88a3 3 0 0 0-.222-.852l.996-.997q.54-.533.717-1.178a2.4 2.4 0 0 0-.007-1.296q-.176-.65-.716-1.19-.54-.542-1.185-.717a2.35 2.35 0 0 0-1.296 0q-.645.176-1.184.71L8.984 7.59q-.54.54-.723 1.185-.176.645.007 1.296.182.645.723 1.19.286.282.696.463.41.176.95.228z"})}))}},92270:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:[(0,o.jsx)("path",{fill:"currentColor",d:"M15.733 9.648q.05.44.474.44.177 0 .313-.118a.48.48 0 0 0 .16-.305q.102-.813.204-1.27.1-.457.338-.685.237-.237.72-.364.49-.136 1.363-.28.405-.075.406-.474a.47.47 0 0 0-.119-.321.44.44 0 0 0-.304-.153 17 17 0 0 1-1.338-.228q-.482-.11-.72-.339-.236-.237-.346-.71a16 16 0 0 1-.203-1.321q-.06-.432-.474-.432-.424 0-.474.449-.102.804-.203 1.26-.102.45-.34.687-.236.228-.727.355t-1.354.28q-.415.068-.415.473 0 .407.465.474.847.12 1.32.237.475.119.712.364.236.237.338.703t.204 1.278"}),(0,o.jsx)("path",{fill:"currentColor",d:"M16.688 12.898a5.9 5.9 0 0 0 .309-1.584 1.95 1.95 0 0 1-1.665-.026 4.5 4.5 0 0 1-.355 1.478 4.78 4.78 0 0 1-2.508 2.507 4.6 4.6 0 0 1-1.828.368 4.55 4.55 0 0 1-1.82-.368 4.8 4.8 0 0 1-1.5-1.007 4.8 4.8 0 0 1-1.016-1.5 4.7 4.7 0 0 1-.36-1.828q0-.97.36-1.82a4.8 4.8 0 0 1 1.015-1.5 4.7 4.7 0 0 1 1.5-1.009 4.55 4.55 0 0 1 1.82-.367q.346 0 .676.046c.046-.306.167-.641.428-.94.223-.254.486-.41.74-.506a6.3 6.3 0 0 0-1.843-.264 6.24 6.24 0 0 0-4.493 1.867 6.5 6.5 0 0 0-1.375 2.032 6.2 6.2 0 0 0-.492 2.46q0 1.32.492 2.477.5 1.149 1.375 2.024a6.4 6.4 0 0 0 2.024 1.367q1.156.492 2.469.492.975 0 1.859-.281a6.6 6.6 0 0 0 1.64-.79l3.587 3.587q.172.17.382.25.219.085.453.085a1.12 1.12 0 0 0 1-.57q.15-.265.149-.594 0-.234-.086-.445a.96.96 0 0 0-.242-.367l-3.563-3.578q.556-.766.867-1.696"})]}))}},52619:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#000",fillOpacity:.95,fillRule:"evenodd",d:"M14.134 9.779a.4.4 0 0 1-.274.106.4.4 0 0 1-.279-.106.44.44 0 0 1-.143-.27 12 12 0 0 0-.201-1.066 2.6 2.6 0 0 0-.274-.708 1.3 1.3 0 0 0-.439-.442 2.4 2.4 0 0 0-.692-.259 9 9 0 0 0-1.024-.167.42.42 0 0 1-.393-.426q0-.16.11-.279a.46.46 0 0 1 .279-.147q.606-.087 1.02-.185.41-.098.676-.262a1.3 1.3 0 0 0 .434-.434 2.6 2.6 0 0 0 .282-.696q.111-.43.222-1.061a.44.44 0 0 1 .147-.27A.4.4 0 0 1 13.86 3q.16 0 .279.106a.43.43 0 0 1 .14.27q.093.631.2 1.066.107.43.279.708.167.274.438.443.27.163.688.258a10 10 0 0 0 1.028.164.43.43 0 0 1 .278.143.4.4 0 0 1 .111.283q0 .163-.106.282a.46.46 0 0 1-.279.144q-.61.09-1.02.188a2.3 2.3 0 0 0-.68.262q-.265.164-.43.434-.168.27-.283.697-.114.43-.225 1.06-.029.165-.143.27m1.295 2.309.006.006c.002.001.025.024.05.103a1.5 1.5 0 0 1 .055.451v2.57c0 .224-.027.37-.055.457a.4.4 0 0 1-.05.104l-.006.006c-.003.003-.026.026-.102.051a1.4 1.4 0 0 1-.438.055H12.29c-.442 0-.55-.108-.554-.112l-.015-.021a.4.4 0 0 1-.035-.083 1.5 1.5 0 0 1-.055-.457v-2.57c0-.221.027-.364.054-.45.026-.08.05-.103.05-.104.005-.004.113-.112.555-.112h2.598c.216 0 .355.027.438.054.076.025.099.049.102.052m-7.184 0 .006.006c.002.001.025.024.05.103.028.087.055.23.055.451v2.57c0 .224-.027.37-.055.457a.4.4 0 0 1-.05.104l-.006.006c-.003.003-.026.026-.102.051a1.4 1.4 0 0 1-.439.055H5.107c-.443 0-.55-.108-.554-.112l-.015-.021a.4.4 0 0 1-.035-.083 1.5 1.5 0 0 1-.055-.457v-2.57c0-.221.026-.364.054-.45.026-.08.05-.103.05-.104.005-.004.112-.112.555-.112h2.597c.217 0 .356.027.44.054.075.025.098.049.1.052zm-.54-8.438q.916 0 1.358.448.44.441.44 1.373v2.563q0 .93-.44 1.379a1.4 1.4 0 0 1-.596.342 2.6 2.6 0 0 1-.763.1H5.107a2.7 2.7 0 0 1-.764-.1 1.4 1.4 0 0 1-.602-.342q-.44-.448-.44-1.38V5.472q-.001-.932.44-1.373.448-.447 1.366-.448zm.443 5.002a.3.3 0 0 0 .1-.048.3.3 0 0 0 .053-.11c.028-.09.055-.237.055-.46V5.47c0-.224-.027-.37-.055-.458a.4.4 0 0 0-.05-.103l-.006-.007c-.003-.003-.026-.026-.102-.05a1.4 1.4 0 0 0-.439-.055H5.107c-.443 0-.55.108-.554.112l-.015.02a.4.4 0 0 0-.035.083 1.5 1.5 0 0 0-.055.458v2.563c0 .223.027.37.055.46.02.064.04.094.05.107.029.023.162.106.554.106h2.597c.218 0 .36-.027.444-.055m-.444 2.182q.435 0 .76.1.366.112.599.349.231.231.342.597.099.33.099.768v2.57q0 .441-.1.773a1.4 1.4 0 0 1-.341.6q-.441.447-1.359.447H5.107q-.918 0-1.366-.448-.44-.44-.44-1.372v-2.57q-.001-.924.44-1.365a1.4 1.4 0 0 1 .604-.349q.329-.1.762-.1zm3.221.449a1.4 1.4 0 0 0-.341.597q-.1.33-.1.768v2.57q0 .441.1.773.11.367.341.6.448.447 1.366.447h2.598q.917 0 1.358-.448.441-.44.441-1.372v-2.57q0-.924-.441-1.365-.441-.45-1.358-.449H12.29q-.918 0-1.366.449",clipRule:"evenodd"})}))}},52382:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",fillOpacity:.9,d:"M11.996 20.07a7.8 7.8 0 0 1-3.117-.633A8.1 8.1 0 0 1 6.3 17.696a8.3 8.3 0 0 1-1.742-2.578A7.8 7.8 0 0 1 3.926 12q0-1.656.633-3.117a8.276 8.276 0 0 1 4.313-4.32 7.8 7.8 0 0 1 3.116-.633q1.664 0 3.125.632a8.3 8.3 0 0 1 2.578 1.75 8.2 8.2 0 0 1 1.75 2.57q.633 1.462.633 3.118t-.633 3.117a8.25 8.25 0 0 1-4.328 4.32 7.8 7.8 0 0 1-3.117.633m0-1.593q1.351 0 2.524-.5a6.5 6.5 0 0 0 2.062-1.391 6.5 6.5 0 0 0 1.39-2.063q.5-1.17.5-2.523 0-1.344-.5-2.516a6.47 6.47 0 0 0-3.46-3.46 6.4 6.4 0 0 0-2.524-.5q-1.344 0-2.523.5a6.4 6.4 0 0 0-2.055 1.39 6.5 6.5 0 0 0-1.383 2.07q-.5 1.172-.5 2.516 0 1.352.5 2.523a6.6 6.6 0 0 0 1.383 2.063 6.4 6.4 0 0 0 4.586 1.89m0-5.18q-.68 0-.703-.688l-.11-3.796a.7.7 0 0 1 .212-.563.8.8 0 0 1 .585-.219.82.82 0 0 1 .594.227.68.68 0 0 1 .219.555l-.125 3.796q-.015.688-.672.688m0 2.594a.96.96 0 0 1-.656-.243.81.81 0 0 1-.266-.617.79.79 0 0 1 .266-.61.94.94 0 0 1 .656-.25q.376 0 .64.243a.79.79 0 0 1 .274.617q0 .375-.273.617a.94.94 0 0 1-.64.243"})}))}},8379:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsxs)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:[(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.18 3.317a.79.79 0 0 0-.983 1.238l.002.002.017.014a3 3 0 0 1 .173.153H4.628a.79.79 0 1 0 0 1.581h.92c.395 1.174.919 2.122 1.916 3.257-1.045.788-2.338 1.323-3.252 1.463a.79.79 0 1 0 .24 1.563c1.236-.19 2.855-.883 4.127-1.891.857.732 2.014 1.402 2.755 1.803a.79.79 0 0 0 .752-1.39c-.707-.383-1.658-.942-2.353-1.508a11.2 11.2 0 0 0 2.03-3.297h.685a.79.79 0 1 0 0-1.58H9.45a6 6 0 0 0-.766-.945 7 7 0 0 0-.456-.424l-.031-.026-.01-.008-.004-.003zm.436 5.161c-.689-.79-1.088-1.444-1.384-2.173h2.808a9.7 9.7 0 0 1-1.424 2.173",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"currentColor",d:"M14.584 3.528a.79.79 0 1 0 0 1.58h2.563c.98 0 1.773.794 1.773 1.773v2.564a.79.79 0 1 0 1.58 0V6.88a3.353 3.353 0 0 0-3.353-3.353z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.344 10.157a.79.79 0 0 0-.74.514l-3.265 8.75a.79.79 0 1 0 1.481.553l.765-2.05h3.518l.764 2.05a.79.79 0 0 0 1.481-.553l-3.264-8.75a.79.79 0 0 0-.74-.514m0 3.052 1.17 3.135h-2.34z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"currentColor",d:"M4.332 13.78a.79.79 0 0 0-.79.791v2.563a3.353 3.353 0 0 0 3.353 3.354h2.563a.79.79 0 1 0 0-1.58H6.895c-.98 0-1.773-.795-1.773-1.774v-2.563a.79.79 0 0 0-.79-.79"})]}))}},16517:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M12.087 17.299q0 .223-.177.388a.57.57 0 0 1-.41.164.6.6 0 0 1-.417-.164.52.52 0 0 1-.17-.389V14.59l.046-1.217-.657.657-.696.686a.6.6 0 0 1-.2.127.6.6 0 0 1-.217.045.55.55 0 0 1-.386-.142.5.5 0 0 1-.155-.373q0-.127.046-.224a.7.7 0 0 1 .147-.179l2.226-1.978a.8.8 0 0 1 .217-.149.53.53 0 0 1 .425 0 .7.7 0 0 1 .224.15l2.226 1.977a.6.6 0 0 1 .139.18q.054.096.054.223 0 .225-.155.373a.55.55 0 0 1-.386.142.616.616 0 0 1-.417-.172l-.696-.686-.657-.657.046 1.217zM7.396 20q-1.199 0-1.8-.582Q5 18.836 5 17.664V6.344q0-1.165.595-1.754Q6.198 4 7.396 4h3.671q.433 0 .758.06.332.052.61.209.278.15.572.44l4.259 4.187q.308.306.464.582.162.269.216.597.054.329.054.813v6.776q0 1.164-.603 1.746-.595.59-1.793.59zm.054-1.201h8.092q.603 0 .905-.299.309-.299.309-.858V10.94H12.35q-.726 0-1.09-.35-.363-.351-.363-1.053V5.201h-3.44q-.602 0-.911.306-.302.306-.302.859v11.276q0 .56.302.858.309.299.904.299m5.04-8.986h4.026l-4.452-4.38v3.963q0 .224.093.32.1.097.332.097"})}))}},95795:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24"},e),{children:(0,o.jsx)("path",{fill:"currentColor",d:"M7.269 19.751q-1.346 0-2.042-.689-.69-.68-.69-2.008V7.533q0-1.337.69-2.017.696-.681 2.042-.681h9.238L14.88 6.462H7.368q-.58 0-.888.307-.307.299-.307.905v9.239q0 .606.307.904.307.3.888.3h9.471q.424 0 .698-.3.282-.298.282-.904V9.475l1.635-1.635v9.214q0 1.328-.664 2.009-.655.688-1.851.688zm3.129-5.553q-.141.059-.257-.058-.116-.124-.059-.266l.748-1.643 7.57-7.57 1.27 1.253-7.579 7.57zM20.3 5.291l-1.27-1.278.58-.573a.86.86 0 0 1 .54-.249.63.63 0 0 1 .523.183l.216.224a.7.7 0 0 1 .233.54q0 .306-.241.556z"})}))}},75554:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#000",d:"M5.827 9.996q0 .17.065.313a1 1 0 0 0 .195.273l5.072 4.961a.71.71 0 0 0 .533.221.74.74 0 0 0 .384-.104.74.74 0 0 0 .378-.65.77.77 0 0 0-.234-.554l-4.57-4.46 4.57-4.46a.76.76 0 0 0 .234-.546.76.76 0 0 0-.098-.385.75.75 0 0 0-.28-.266.74.74 0 0 0-.384-.105.73.73 0 0 0-.534.215L6.088 9.41a1 1 0 0 0-.195.274.75.75 0 0 0-.066.312"})}))}},7879:function(e,t,n){"use strict";n.d(t,{ReactComponent:function(){return a}});var r=n("9161"),i=n("16044"),o=n("97458");n("52983");var a=function(e){return(0,o.jsx)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 20 20"},e),{children:(0,o.jsx)("path",{fill:"#000",d:"M14.174 9.996a.75.75 0 0 1-.066.313 1 1 0 0 1-.195.273l-5.072 4.961a.71.71 0 0 1-.533.221.74.74 0 0 1-.385-.104.74.74 0 0 1-.28-.273.771.771 0 0 1 .137-.931l4.57-4.46-4.57-4.46a.76.76 0 0 1-.234-.546q0-.216.098-.385a.75.75 0 0 1 .28-.266.74.74 0 0 1 .384-.105q.318 0 .533.215l5.072 4.961a1 1 0 0 1 .195.274q.066.143.066.312"})}))}},1438:function(e,t,n){"use strict";n.d(t,{ReportType:function(){return o},SearchCardsQueryType:function(){return a}});var r,i,o=((r={})[r.Bot=1]="Bot",r[r.Message=2]="Message",r[r.User=3]="User",r[r.Conversation=4]="Conversation",r[r.ConversationTemplate=5]="ConversationTemplate",r);var a=((i={})[i.Default=0]="Default",i[i.DouYin=1]="DouYin",i[i.TouTiao=2]="TouTiao",i)},58785:function(e,t,n){"use strict";n.d(t,{LazyFlowChatEditor:function(){return c}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("52983"),s=n("78597"),l=a.lazy(function(){return(0,s.retryLoad)(function(){return Promise.all([n.e("4015"),n.e("7864"),n.e("8860")]).then(n.bind(n,"42978"))})}),c=(0,a.forwardRef)(function(e,t){return(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)(o.Fragment,{}),children:(0,o.jsx)(l,(0,i._)((0,r._)({},e),{ref:t}))})})},61048:function(e,t,n){"use strict";n.d(t,{LazyLottie:function(){return l}});var r=n("9161"),i=n("97458"),o=n("52983"),a=n("78597"),s=o.lazy(function(){return(0,a.retryLoad)(function(){return n.e("8863").then(n.t.bind(n,"14994",23))})}),l=function(e){return(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(i.Fragment,{}),children:(0,i.jsx)(s,(0,r._)({},e))})}},60627:function(e,t,n){"use strict";n.d(t,{LazyMusicPlayerQS:function(){return s}});var r=n("9161"),i=n("97458"),o=n("52983"),a=o.lazy(function(){return Promise.all([n.e("2126"),n.e("2962"),n.e("1500"),n.e("7679")]).then(n.bind(n,"93151"))}),s=function(e){return(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)("div",{}),children:(0,i.jsx)(a,(0,r._)({},e))})}},78607:function(e,t,n){"use strict";n.d(t,{LazyVideoBox:function(){return l}});var r=n("9161"),i=n("97458"),o=n("52983"),a=n("28604"),s=o.lazy(function(){return Promise.all([n.e("2126"),n.e("2962"),n.e("1500"),n.e("683")]).then(n.bind(n,"52755"))}),l=function(e){return(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(a.MessageCardListItemPlaceholder,{}),children:(0,i.jsx)(s,(0,r._)({},e))})}},73398:function(e,t,n){"use strict";n.d(t,{ChatPageBaseSlots:function(){return g},ChatPageBizSlots:function(){return f}});var r=n("8379"),i=n("93334"),o=n("8407"),a=n("6490"),s=n("11054"),l=n("58785"),c=n("78607"),u=n("60627"),d=n("61048"),f=i.DefaultFlowChatBizSlots,g={OkIcon:o.OkIcon,CopyIcon:o.CopyIcon,NewConversationIcon:o.NewConversationIcon,ThumbDownSolidIcon:o.ThumbDownSolidIcon,ThumbDownIcon:o.ThumbDownIcon,ThumbUpSolidIcon:o.ThumbUpSolidIcon,ThumbUpIcon:o.ThumbUpIcon,MoreAutoColorIcon:o.MoreAutoColorIcon,SkillModifyIcon:o.PenSparkleIcon,SkillIcon_Translate:r.ReactComponent,RegenerateIcon:o.RegenerateIcon,RegenerateRightIcon:o.RegenerateRightIcon,RegenerateLeftIcon:o.RegenerateLeftIcon,AlertTriangleIcon:o.AlertTriangleIcon,SearchActionIcon:o.SearchActionIcon,Tooltip:a.UIKitTooltip,Popover:s.UIKitPopover,VideoBox:c.LazyVideoBox,MusicPlayerQS:u.LazyMusicPlayerQS,Lottie:d.LazyLottie,SearchWebIcon:o.SearchWebIcon,BlackLightningIcon:o.BlackLightningIcon,RegenerateSwitchDownIcon:o.RegenerateSwitchDownIcon,RegenerateSwitchUpIcon:o.RegenerateSwitchUpIcon,EditMessageButtonIcon:o.EditMessageButtonIcon,DebugIcon:o.DebugIcon,DeleteIcon:o.DeleteIcon,FlowChatEditor:l.LazyFlowChatEditor}},65298:function(e,t,n){"use strict";n.d(t,{BotCardBox:function(){return c}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("53268"),s=n("42474"),l=n("38142"),c=function(e){var t=e.name,n=e.defaultAvatar,c=e.avatarSrc,u=e.isAvatarGenerating,d=e.loadingComponent,f=e.onClickComplete,g=e.onClickEdit,v=e.editTitle,p=e.completeTitle,h=(0,r._)((0,o.useState)(),2),m=h[0],_=h[1],x=(0,r._)((0,o.useState)(!1),2),b=x[0],k=x[1],C=u?void 0:m||c||n;return(0,o.useEffect)(function(){u&&k(!0)},[u]),(0,i.jsxs)("div",{className:l.container,children:[(0,i.jsxs)("div",{className:l.topBox,onClick:function(){return null==g?void 0:g("head")},children:[(0,i.jsxs)("div",{className:l.topLeft,children:[(0,i.jsxs)("div",{className:l.avatarBox,children:[(0,i.jsx)(a.Avatar,{className:l.avatar,src:C,onError:function(e){_(n)},imgAttr:{onLoad:function(){k(!1)}}}),u||b?d:null]}),(0,i.jsx)("div",{className:l.name,children:t})]}),(0,i.jsx)(s.default,{className:l.icon})]}),(0,i.jsxs)("div",{className:l.bottomBox,children:[(0,i.jsx)(a.Button,{theme:"light",className:l.button,onClick:function(){return null==g?void 0:g("edit")},children:void 0===v?"Edit":v}),(0,i.jsx)(a.Button,{theme:"solid",className:"".concat(l.button," ").concat(l.createButton),onClick:f,children:void 0===p?"Create":p})]})]})}},64687:function(e,t,n){"use strict";n.d(t,{ContainerContext:function(){return i},useContainerContext:function(){return o}});var r=n("52983"),i=(0,r.createContext)({fold:!1}),o=function(){return(0,r.useContext)(i)}},74424:function(e,t,n){"use strict";n.d(t,{CardContainer:function(){return g}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("97458"),l=n("52983"),c=n("87608"),u=n.n(c),d=n("64687"),f=n("9197"),g=function(e){var t,n=e.children,c=e.onTrackEvent,g=e.contentBoxEvents,v=e.moreText,p=(0,a._)((0,l.useState)(!1),2),h=p[0],m=p[1],_=(0,a._)((0,l.useState)(!1),2),x=_[0],b=_[1],k=(0,a._)((0,l.useState)(!1),2),C=k[0],S=k[1],w=(0,l.useCallback)(function(e){if(e-520<48){b(!0),m(!1);return}e-520>=48&&(b(!1),m(!0))},[]),y=(0,l.useCallback)(function(){var e;S(!0),null==g||null===(e=g.onLoadEnd)||void 0===e||e.call(g)},[]),I=(0,l.useMemo)(function(){return(0,o._)((0,i._)({fold:h},g),{onLoad:w,onLoadEnd:y})},[w,h,y]);return(0,s.jsxs)("div",{className:f.container,children:[(0,s.jsx)("div",{className:u()((t={},(0,r._)(t,f["inner-show-more"],x),(0,r._)(t,f.inner,!0),(0,r._)(t,f["inner-mask"],h),(0,r._)(t,f["inner-unloaded"],!C),t)),children:(0,s.jsx)(d.ContainerContext.Provider,{value:I,children:n})}),h?(0,s.jsx)("div",{className:f["show-more-action"],onClick:function(){c("show_more_button_click"),b(!0),m(!1)},children:void 0===v?"More":v}):null]})}},68882:function(e,t,n){"use strict";n.d(t,{CozeCard:function(){return d}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("52983"),s=n("78597"),l=n("74424"),c=n("64687"),u="".concat("cn","-release"),d=function(e){return(0,o.jsx)(l.CardContainer,(0,i._)((0,r._)({},e),{children:(0,o.jsx)(g,(0,r._)({},e))}))},f=(0,a.lazy)(function(){return(0,s.retryLoad)(function(){return Promise.all([n.e("8896"),n.e("9415"),n.e("1082")]).then(n.bind(n,"37601"))})}),g=function(e){var t=e.data,n=e.onTrackEvent,r=e.onCreateReportEvent,i=e.messageId,l=e.conversationId,d=(0,c.useContainerContext)(),g=d.onLoad,v=d.fold,p=d.onLoadEnd,h=d.onLoadStart,m=d.onError,_=(0,a.useRef)(null),x=(0,s.useResizeObserver)({ref:_}),b=x.width,k=void 0===b?0:b,C=x.height,S=void 0===C?0:C,w=(0,s.useDebounceFn)(n,{wait:3e3}).run,y=(0,a.useMemo)(function(){var e=null==r?void 0:r({eventName:"card_render_status",meta:{messageId:i,conversationId:l,card_type:t.card_type}});return null==e||e.start(),e},[]);return(0,a.useEffect)(function(){w("show_coze_card",{card_show_type:v?"fold":"expend",card_height:S,card_width:k}),null==g||g(S)},[k,S]),(0,a.useMemo)(function(){var e=(0,s.parseJSON)(t.data);return(0,o.jsx)(f,{cardRef:_,dsl:e,remoteForce:!0,afterRender:function(){var e;null==p||p(),n("card_runtime_status",{code:0,msg:"",status:1}),null==y||y.addDurationPoint("finish"),n("card_runtime_render",{duration:(null==y?void 0:null===(e=y.getDuration())||void 0===e?void 0:e.finish)||0}),null==y||y.success()},onError:function(e){var t;null==m||m(e),n("card_runtime_status",{code:e.code,msg:e.msg,status:0}),null==y||y.addDurationPoint("error"),n("card_runtime_render",{duration:(null==y?void 0:null===(t=y.getDuration())||void 0===t?void 0:t.error)||0}),null==y||y.error({reason:e.msg,meta:{error:e}})},region:u})},[t.data,g,m,h,p])}},42578:function(e,t,n){"use strict";n.d(t,{useHasInViewRef:function(){return i}});var r=n("52983"),i=function(e){var t=(0,r.useRef)(e),n=(0,r.useRef)(e);return e&&!n.current&&(t.current=n.current,n.current=e),{prevHasInViewRef:t,hasInViewRef:n}}},82877:function(e,t,n){"use strict";n.d(t,{CardBox:function(){return p}});var r=n("9161"),i=n("89334"),o=n("40509"),a=n("97458"),s=n("52983"),l=n("53268"),c=n("26578"),u=n("15485"),d=n("42578"),f=n("68882"),g=n("74262"),v=n("48167"),p=function(e){var t=e.data,n=e.contentBoxEvents,p=e.inView,h=e.onTrackEvent,m=e.onCreateReportEvent,_=e.conversationId,x=e.messageId,b=e.moreText,k=(0,d.useHasInViewRef)(p).hasInViewRef,C=(0,o._)((0,s.useState)(!1),2),S=C[0],w=C[1],y=(0,s.useMemo)(function(){var e=n||{},t=e.onLoadEnd,o=(0,i._)(e,["onLoadEnd"]);return(0,r._)({onLoadEnd:function(){null==t||t(),w(!0)}},o)},[n]),I=function(){switch(null==t?void 0:t.card_type){case g.CardType.CARD_BUILDER:return f.CozeCard;case g.CardType.RUYI:return c.RuyiCard;case g.CardType.LEGO:default:return u.LegoCard}}();return(0,a.jsxs)(a.Fragment,{children:[!S&&(0,a.jsx)(l.Skeleton.Paragraph,{className:v.skeleton}),k.current&&(0,a.jsx)(I,{messageId:x,conversationId:_,data:t,onTrackEvent:h,onCreateReportEvent:m,inView:p,contentBoxEvents:y,moreText:b})]})}},15485:function(e,t,n){"use strict";n.d(t,{LegoCard:function(){return r}}),n("97458"),n("52983");var r=function(){return null}},26578:function(e,t,n){"use strict";n.d(t,{RuyiCard:function(){return r}}),n("97458"),n("52983");var r=function(){return null}},54370:function(e,t,n){"use strict";n.d(t,{FileBox:function(){return p},FileOverlay:function(){return h},FileStatus:function(){return v}});var r,i=n("83316"),o=n("97458"),a=n("52983"),s=n("87608"),l=n.n(s),c=n("78597"),u=n("53268"),d=n("32386"),f=n("25946"),g=n("53853");var v=((r={}).Uploading="Uploading",r.Retry="Retry",r.Normal="Normal",r),p=function(e){var t,n=e.fileData,r=e.onClick,s=e.fileStatus,f=void 0===s?v.Normal:s,p=e.progressPercent,m=n.file_name,_=f!==v.Normal,x=(0,a.useMemo)(function(){return(0,d.getFileIcon)((0,c.getFileExt)(m),"colorful")},[m]),b=u.Typography.Text,k=(0,a.useMemo)(function(){var e=(0,c.getFileExt)(m),t=m.slice(0,m.length-e.length);return(0,o.jsx)(b,{ellipsis:{suffix:"".concat(e),rows:2},children:t})},[m]);return(0,o.jsxs)("div",{onClick:r,className:l()(g["file-box-container"],(t={},(0,i._)(t,g["error-boundary"],f===v.Retry),(0,i._)(t,g["hover-press-shadow"],f!==v.Uploading),(0,i._)(t,g["file-box-container__clickable"],!!r),t)),children:[(0,o.jsxs)("div",{className:g["file-icon-box"],children:[(0,o.jsx)(x,{}),_&&(0,o.jsx)("div",{className:g["file-icon-overlay-container"],children:(0,o.jsx)(h,{status:f,progressPercent:void 0===p?10:p})})]}),(0,o.jsx)("div",{className:g["file-title-box"],children:k})]})},h=function(e){var t=e.status,n=e.progressPercent,r=e.className;return(0,o.jsx)("div",{className:l()(g["file-overlay"],r),children:t===v.Retry?(0,o.jsx)(f.RegenerateIcon,{}):(0,o.jsx)(u.Progress,{type:"circle",width:18,strokeWidth:2,stroke:"#fff",orbitStroke:"rgba(255,255,255,0.6)",percent:Math.ceil(n||0)})})}},32386:function(e,t,n){"use strict";n.d(t,{getFileIcon:function(){return a}});var r=n("78597"),i=n("25946"),o=function(e){return"white"===e};function a(e,t){if((0,r.isCsv)(e))return o(t)?i.FileCsvLightIcon:i.FileCsvIcon;if((0,r.isExcel)(e))return o(t)?i.FileExcelLightIcon:i.FileExcelIcon;if((0,r.isImage)(e))return o(t)?i.FileImageLightIcon:i.FileImageIcon;else{if((0,r.isPdf)(e))return o(t)?i.FilePdfLightIcon:i.FilePdfIcon;if((0,r.isPpt)(e))return o(t)?i.FilePptLightIcon:i.FilePptIcon;if((0,r.isWord)(e))return o(t)?i.FileWordLightIcon:i.FileWordIcon;(0,r.isTxt)(e)}return o(t)?i.FileTxtLightIcon:i.FileTxtIcon}},7370:function(e,t,n){"use strict";n.d(t,{ImageBox:function(){return d}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("83053"),l=n("78597"),c=n("25211"),u=n("96451"),d=function(e){var t,n,d,f=e.data,g=e.eventCallbacks,v=(e.inView,e.contentBoxEvents,(0,o._)(e,["data","eventCallbacks","inView","contentBoxEvents"])),p=g||{},h=p.onImageClick,m=p.onImageRender,_=(0,l.useCompareMemo)(null!==(d=null==f?void 0:null===(n=f.image_list)||void 0===n?void 0:null===(t=n.map)||void 0===t?void 0:t.call(n,function(e){var t;return null===(t=e.image_thumb)||void 0===t?void 0:t.url}))&&void 0!==d?d:[],s.default);return(0,a.jsx)(c.ImageGrid,(0,i._)((0,r._)({imgList:_},v),{children:function(e){return(0,a.jsx)(u.Image,{onImageClick:h,onImageRender:m,src:e,imageOptions:{squareContainer:!0}})}}))}},74262:function(e,t,n){"use strict";n.d(t,{CardType:function(){return o},CheckMusicStatus:function(){return a}});var r,i,o=((r={})[r.RUYI=1]="RUYI",r[r.LEGO=2]="LEGO",r[r.CARD_BUILDER=3]="CARD_BUILDER",r);var a=((i={})[i.ServerError=-2]="ServerError",i[i.ClientError=-1]="ClientError",i[i.Pass=0]="Pass",i[i.NoCount=1]="NoCount",i[i.NoPlay=2]="NoPlay",i)},26813:function(e,t,n){"use strict";n.d(t,{isOversea:function(){return r}});var r=false},41249:function(e,t,n){"use strict";n.d(t,{DotFlashing:function(){return d}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458"),l=n("87608"),c=n.n(l),u=n("37509"),d=function(e){var t=e.disabled,n=(0,a._)(e,["disabled"]);return(0,s.jsx)("div",(0,o._)((0,i._)({},n),{className:c()(u["dot-flashing"],(0,r._)({},u.disabled,void 0!==t&&t))}))}},84678:function(e,t,n){"use strict";n.d(t,{isAndroid:function(){return l},isElement:function(){return r},isLabeledInputElement:function(){return o},isLabeledSelectElement:function(){return a},isParagraphElement:function(){return i},stringifyLabeledValue:function(){return s}});var r=function(e){return"type"in e},i=function(e){return"paragraph"===e.type},o=function(e){return"labeled_input"===e.type},a=function(e){return"labeled_select"===e.type},s=function(e){return e.map(function(e){if(r(e)){if(a(e))return e.value;var t=e.children.map(function(e){return s([e])}).join("");return i(e)?"".concat(t,"\n"):t}return e.text}).join("")},l=function(){return"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent)}},85596:function(e,t,n){"use strict";n.d(t,{EditorBlockType:function(){return i}});var r,i=((r={}).Text="Text",r.Select="Select",r.Placeholder="Placeholder",r)},45015:function(e,t,n){"use strict";n.d(t,{isEmptyEditorValue:function(){return d},isPlaceholderBlock:function(){return s},isSelectBlock:function(){return o},isTextBlock:function(){return a},stringifyFlowChatEditorBlocks:function(){return u},transformDescendantsToIEditorBlocks:function(){return l},transformIEditorBlocksToDescendants:function(){return c}});var r=n("85596"),i=n("84678"),o=function(e){return e.type===r.EditorBlockType.Select},a=function(e){return e.type===r.EditorBlockType.Text},s=function(e){return e.type===r.EditorBlockType.Placeholder},l=function(e){return e.map(function(t,n){if((0,i.isElement)(t)){if((0,i.isParagraphElement)(t))return l(t.children).concat(n===e.length-1?[]:[{type:r.EditorBlockType.Text,text:"\n"}]);if((0,i.isLabeledInputElement)(t)){var o=t.children,a=t.placeholder;return{type:r.EditorBlockType.Placeholder,placeholder:a,text:(0,i.stringifyLabeledValue)(o)}}if((0,i.isLabeledSelectElement)(t)){var s=t.value,c=t.options,u=t.title;return{type:r.EditorBlockType.Select,title:u,optionList:c,value:s}}}var d=t.text;return{type:r.EditorBlockType.Text,text:d}}).flat()},c=function(e){if(!e.length)return[{type:"paragraph",children:[{text:""}]}];var t=[{type:"paragraph",children:[]}],n=!0,i=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(n=(c=u.next()).done);n=!0){var d=c.value;if(d.type===r.EditorBlockType.Text&&"\n"===d.text)t.push({type:"paragraph",children:[]});else if(s(d)){var f=d.text,g=d.placeholder;t[t.length-1].children.push({type:"labeled_input",children:[{text:f}],placeholder:g})}else if(o(d)){var v=d.optionList,p=d.value,h=d.title;t[t.length-1].children.push({type:"labeled_select",title:h,options:v,value:p,children:[{text:""}]})}else if(a(d)){var m=d.text;t[t.length-1].children.push({text:m})}}}catch(e){i=!0,l=e}finally{try{!n&&null!=u.return&&u.return()}finally{if(i)throw l}}return t},u=function(e){return e.map(function(e){return s(e)?e.text||e.placeholder:o(e)?e.value:a(e)?e.text:void 0}).join("")},d=function(e){return 0===u(e.data).length}},81210:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("69420"),i=n("29048");function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,i._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t){var n=t.numberOfSections,i=t.numberOfRows;(0,r._)(this,e),o(this,"_numberOfSections",void 0),o(this,"_numberOfRows",void 0),o(this,"_oneDimMap",void 0),o(this,"_twoDimMap",void 0),this.update({numberOfSections:n,numberOfRows:i})}var t=e.prototype;return t.update=function(e){var t=e.numberOfSections,n=e.numberOfRows;this._numberOfSections=t,this._numberOfRows=n,this._generateDimMap()},t.numberOfRows=function(e){return"function"==typeof this._numberOfRows?this._numberOfRows(e):this._numberOfRows},t.isFirst=function(e){var t=e.section,n=e.row;return 0===t&&0===n},t.isLast=function(e){var t=e.section,n=e.row;return t===this._numberOfSections-1&&this.isLastRowInSection({section:t,row:n})},t.indexOf=function(e){var t,n=e.section,r=e.row;return null===(t=this._twoDimMap[n])||void 0===t?void 0:t[r]},t.isLastRowInSection=function(e){var t=e.section,n=e.row;return this.numberOfRows(t)===n+1},t._generateDimMap=function(){this._twoDimMap=Array(this._numberOfSections),this._oneDimMap=[];for(var e=0,t=0;t<this._numberOfSections;t++){var n=this.numberOfRows(t)||1;this._twoDimMap[t]=Array(n);for(var r=0;r<n;r++)this._twoDimMap[t][r]=e,this._oneDimMap[e]={section:t,row:r},e+=1}},t.forEach=function(e,t,n){for(var r,i,o=e.section,a=e.row,s=t.section,l=t.row,c=null===(r=this._twoDimMap[o])||void 0===r?void 0:r[a],u=null===(i=this._twoDimMap[s])||void 0===i?void 0:i[l],d=c;d<=u;d++)n(this._oneDimMap[d])},t.min=function(e,t){return 0>=this.compare(e,t)?e:t},t.max=function(e,t){return this.compare(e,t)>=0?e:t},t.subCount=function(e,t){var n,r=e.section,i=e.row,o=Math.max(0,(null===(n=this._twoDimMap[r])||void 0===n?void 0:n[i])-t);return this._oneDimMap[o]},t.addCount=function(e,t){var n,r=e.section,i=e.row,o=Math.min(this._oneDimMap.length-1,(null===(n=this._twoDimMap[r])||void 0===n?void 0:n[i])+t);return this._oneDimMap[o]},t.sub=function(e,t){var n,r=e.section,i=e.row,o=t.section,a=t.row;return this._twoDimMap[r][i]-(null===(n=this._twoDimMap[o])||void 0===n?void 0:n[a])},t.compare=function(e,t){return e?t?e.section!==t.section?e.section-t.section:e.row!==t.row?e.row-t.row:0:1:-1},e}()},42818:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n("69420"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("29048");function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,s._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(){(0,r._)(this,e),l(this,"_header",void 0),l(this,"_footer",void 0),l(this,"_sections",void 0),this._header={start:0,end:0},this._footer={start:0,end:0},this._sections=[]}var t=e.prototype;return t.clear=function(){this._header={start:0,end:0},this._sections.length=0,this._footer={start:0,end:0}},t.setHeaderHeight=function(e){var t=this.getHeaderHeight();e!==t&&(this._header.end=e,this._addOffsetFrom(0,e-t))},t.getHeaderHeight=function(){return this._header.end-this._header.start},t.updateRowKey=function(e,t,n){var r=this._getOrCreateSection(e);!r.keys&&(r.keys=[]),r.keys[t]=n},t.getIndexPathByKey=function(e){for(var t=0;t<this._sections.length;t++){var n,r=null===(n=this._sections[t].keys)||void 0===n?void 0:n.indexOf(e);if(void 0!==r&&r>-1)return{section:t,row:r}}},t.getKeyByIndexPath=function(e){var t=e.section,n=e.row;return this._getOrCreateSection(t).keys[n]||""},t.getHeaderHeightRange=function(){return[this._header.start,this._header.end]},t.setFooterHeight=function(e){if(e!==this.getFooterHeight()){var t=this._sections[this._sections.length-1],n=t?t.end:this._header.end;this._footer.start=n,this._footer.end=n+e}},t.getFooterHeight=function(){return this._footer.end-this._footer.start},t.getFooterHeightRange=function(){return[this._footer.start,this._footer.end]},t._getOrCreateSection=function(e){var t=this._sections[e];if(t)return t;var n=this._sections[e-1],r=n?n.end:this._header.end;return t={header:{start:r,end:r},footer:{start:r,end:r},start:r,end:r,rows:[],keys:[]},this._sections[e]=t,t},t.setSectionHeaderHeight=function(e,t){var n=this._getOrCreateSection(e),r=t-(n.header.end-n.header.start);n.header.start=n.start,n.header.end=n.header.start+t,this._addOffsetInSectionFromRow(n,0,r),this._addOffsetFrom(e+1,r)},t.getSectionHeaderRangeAt=function(e){var t=this._sections[e];return t?[t.header.start,t.header.end]:[0,0]},t.getSectionRangeAt=function(e){var t=this._sections[e];return t?[t.start,t.end]:[0,0]},t.setSectionFooterHeight=function(e,t){var n=this._getOrCreateSection(e),r=t-(n.footer.end-n.footer.start);n.footer.start=n.rows[n.rows.length-1]||n.header.end,n.footer.end=n.footer.start+t,n.end=n.footer.end,this._addOffsetFrom(e+1,r)},t.getSectionFooterRangeAt=function(e){var t=this._sections[e];return t?[t.footer.start,t.footer.end]:[0,0]},t.setItemHeight=function(e,t){var n,r=(0,a._)(this.getHeightRangeAt(e),2),i=r[0],o=r[1],s=e.section,l=e.row,c=this._getOrCreateSection(s);if(o-i!==t||!(l<=c.rows.length-2)){var u=c.rows;0===l&&(u[0]=c.header.end),n=u[l+1]?t-(u[l+1]-u[l]):t,u[l+1]=u[l]+t,this._addOffsetInSectionFromRow(c,l+2,n),this._addOffsetFrom(s+1,n)}},t._addOffsetInSectionFromRow=function(e,t,n){for(var r=e.rows,i=e.footer,o=r.length,a=t;a<o;a++)r[a]+=n;i.start+=n,i.end+=n,e.end+=n},t._addOffsetFrom=function(e,t){for(var n=this._sections.length,r=e;r<n;r++){var i=this._sections[r];i.start+=t,i.header.start+=t,i.header.end+=t,this._addOffsetInSectionFromRow(i,0,t)}this._footer.start+=t,this._footer.end+=t},t.getTotalHeight=function(){return this._footer.end},t.getHeightRangeAt=function(e){var t=e.section,n=e.row,r=this._sections[t];return!r||n>r.rows.length-2?[0,0]:[r.rows[n]||0,r.rows[n+1]||0]},t.getHeightAt=function(e){return e?this.getHeightRangeAt(e)[1]:0},t.isHeaderVisible=function(e){return e>=this._header.start&&e<=this._header.end},t.isFooterVisible=function(e,t){return e>=this._footer.start-(null!=t?t:1)},t.findIndexPathByPosition=function(e){if(!this._sections.length)return null;var t=Math.round(e),n=this._searchSection(this._sections,t),r=this._searchRow(this._sections[n],t),a=(0,o._)((0,i._)({section:n},r),{key:""});return a.key=this.getKeyByIndexPath(a),a},t._searchRow=function(e,t){var n=e.header,r=e.footer,i=e.rows,o={row:-1};if(t<n.end)o.row=0;else if(t>=r.start)o.row=Math.max(0,i.length-2);else{for(var a=0,s=i.length-2;a<=s;){var l=a+s>>1;if(t<i[l+1]&&t>=i[l]){o.row=l;break}t<i[l]?s=l-1:a=l+1}}return o},t._searchSection=function(e,t){var n=e.length,r=0,i=n-1;if(t<=e[0].start)return r;if(t>=e[i].end)return i;for(;r<=i;){var o=r+i>>1;if(t<e[o].start)i=o-1;else{if(!(t>=e[o].end))return o;r=o+1}}throw Error("position map invalid: ".concat(t))},e}()},36509:function(e,t,n){"use strict";var r=n("47767"),i=n("69420"),o=n("73209"),a=n("29048"),s=n("26379"),l=n("97458"),c=n("52983");function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,a._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("24327");var d=ResizeObserver.toString().includes("[native code]");function f(e){var t=e.firstElementChild,n=e.lastElementChild,r=t.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.style.width="".concat(t.offsetWidth+1,"px'"),r.style.height="".concat(t.offsetHeight+1,"px"),t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight}var g=function(e){(0,o._)(n,e);var t=(0,s._)(n);function n(e){var o;return(0,i._)(this,n),o=t.call(this,e),u((0,r._)(o),"refNode",null),u((0,r._)(o),"_resizeObserver",null),u((0,r._)(o),"rootRef",void 0),u((0,r._)(o),"_resizeNode",null),u((0,r._)(o),"refExpand",null),u((0,r._)(o),"refShrink",null),o.rootRef=c.createRef(),o.state={domWidth:0,domHeight:0},o}var a=n.prototype;return a.componentDidMount=function(){var e=this;if(d){if(this._resizeNode=this.rootRef.current,!this._resizeNode)return;!this.props.enableSizeNotifyDeferred&&this._notifyResize(this._resizeNode),this._resizeObserver=new ResizeObserver(function(t){t.forEach(function(t){var n=t.target,r=t.contentRect;n.parentElement&&(e.props.enableResizeObserverContentRect?e._onResize({width:Math.round(r.width),height:Math.round(r.height)}):e._onResize({width:n.offsetWidth,height:n.offsetHeight}))})}),this._resizeObserver.observe(this._resizeNode)}else this._initSize()},a._notifyResize=function(e){if(this.props.onResize){var t,n;this._onResize({get width(){return void 0===t&&(t=e.offsetWidth),t},get height(){return void 0===n&&(n=e.offsetHeight),n}})}},a.componentWillUnmount=function(){this._resizeObserver&&(this._resizeObserver.unobserve(this._resizeNode),this._resizeObserver.disconnect(),this._resizeObserver=null)},a._updateSize=function(e){var t=e.width,n=e.height;this.setState({domWidth:t+1,domHeight:n+1})},a._onResize=function(e){this.props.onResize&&this.props.onResize(e)},a._onExpand=function(){var e=this._getRect();this._updateSize(e),this.props.onExpand&&this.props.onExpand(e),this._onResize(e),f(this.refNode)},a._onShrink=function(){var e=this._getRect();this._updateSize(e),this.props.onShrink&&this.props.onShrink(e),this._onResize(e),f(this.refNode)},a._initSize=function(){var e=this._getRect();this._updateSize(e),this._onResize(e),f(this.refNode)},a._getRect=function(){return this.refNode.getBoundingClientRect()},a.renderPolyfillEl=function(){var e=this,t=this.state,n=t.domWidth,r=t.domHeight;return(0,l.jsxs)("div",{className:"resizeTrigger",ref:function(t){e.refNode=t},children:[(0,l.jsx)("div",{className:"resize-expandTrigger",ref:function(t){e.refExpand=t},onScroll:this._onExpand.bind(this),children:(0,l.jsx)("div",{style:{width:n,height:r}})}),(0,l.jsx)("div",{className:"resize-contractTrigger",ref:function(t){e.refShrink=t},onScroll:this._onShrink.bind(this),children:(0,l.jsx)("div",{className:"resize-contractChild"})})]})},a.render=function(){return(0,l.jsxs)("div",{className:this.props.wrapperClassName,style:this.props.wrapperStyle,ref:this.rootRef,children:[this.props.children,!d&&this.renderPolyfillEl()]})},n}(c.PureComponent);t.default=g},67547:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("69420"),i=n("29048");function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,i._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t){var n=t.keyMapper;(0,r._)(this,e),o(this,"_keyMapper",void 0),o(this,"_rows",void 0),this._keyMapper=n,this._rows={}}var t=e.prototype;return t.get=function(e){var t=this._keyMapper(e);return t in this._rows?this._rows[t]:null},t.set=function(e,t){var n=this._keyMapper(e);this._rows[n]=t},t.setKeyMapper=function(e){this._keyMapper=e},e}()},66705:function(e,t,n){"use strict";n.d(t,{default:function(){return m}});var r=n("47767"),i=n("69420"),o=n("83316"),a=n("73209"),s=n("9161"),l=n("16044"),c=n("29048"),u=n("26379"),d=n("97458"),f=n("52983"),g=n("87608"),v=n.n(g),p=n("36509");function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,c._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){(0,a._)(n,e);var t=(0,u._)(n);function n(e){var o;return(0,i._)(this,n),o=t.call(this,e),h((0,r._)(o),"_refWrapperEl",void 0),h((0,r._)(o),"_refContentEl",void 0),h((0,r._)(o),"_isMouseDown",!1),h((0,r._)(o),"_isMouseWheelScrolling",void 0),h((0,r._)(o),"_containerSize",null),h((0,r._)(o),"_contentSize",void 0),h((0,r._)(o),"_position",void 0),h((0,r._)(o),"_maxPosition",void 0),h((0,r._)(o),"_minPosition",void 0),h((0,r._)(o),"_wheelScrollTimer",void 0),h((0,r._)(o),"_stopScrollTimer",void 0),h((0,r._)(o),"_isScrolling",void 0),h((0,r._)(o),"_resizeWrapperStyle",void 0),h((0,r._)(o),"_onScroll",function(){var e=o._isMouseWheelScrolling||o._isMouseDown,t=o.getPosition();o._position=o._calcScrollPosition();var n={x:o._position.x>t.x,y:o._position.y>t.y};o._updateScrollBar(),o.props.onScroll&&o.props.onScroll(o._position,{forward:n,isUserScrolling:e,isMouseDown:o._isMouseDown})}),h((0,r._)(o),"_onWheel",function(){o._isMouseWheelScrolling=!0,o._wheelScrollTimer&&clearTimeout(o._wheelScrollTimer),o._wheelScrollTimer=setTimeout(function(){o._isMouseWheelScrolling=!1},300)}),h((0,r._)(o),"_onMouseDown",function(e){e.target===o._refWrapperEl&&o.getContainerSize().x-e.clientX<=11&&(o._isMouseDown=!0)}),h((0,r._)(o),"_onMouseUp",function(){o._isMouseDown=!1}),h((0,r._)(o),"_onContainerResize",function(e){if(o.props.enableResizeObserverContentRect){var t=e.width,n=e.height;o._containerSize={x:t,y:n}}else o._containerSize=null;o._maxPosition=null,o.props.onContainerResize&&o.props.onContainerResize((0,r._)(o))}),o._isMouseWheelScrolling=!1,o._resizeWrapperStyle={height:"100%"},o}var c=n.prototype;return c.scrollTo=function(e){var t,n=e.x,r=e.y,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.props.lock)(null===(t=this._refWrapperEl)||void 0===t?void 0:t.style.scrollBehavior)!=="smooth"&&(i&&this.setScrollBehavior("smooth"),this._refWrapperEl.scrollLeft=void 0===n?0:n,this._refWrapperEl.scrollTop=void 0===r?0:r)},c.setScrollBehavior=function(e){this._refWrapperEl&&(this._refWrapperEl.style.scrollBehavior=e)},c.isNearBottom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return!!this._refWrapperEl&&this._refWrapperEl.scrollHeight-this._refWrapperEl.scrollTop-this._refWrapperEl.clientHeight<=e},c.getContainerSize=function(){return!this._containerSize&&(this._containerSize=this._calcContainerSize()),this._containerSize},c.getContentSize=function(){return!this._contentSize&&(this._contentSize=this._calcContentSize()),this._contentSize},c.getPosition=function(){return!this._position&&(this._position=this._calcScrollPosition()),this._position},c.getMaxPosition=function(){var e=this._refWrapperEl;return this._maxPosition={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},this._maxPosition},c.getMinPosition=function(){return!this._minPosition&&(this._minPosition={x:0,y:0}),this._minPosition},c._calcContainerSize=function(){return this._refWrapperEl?{x:this._refWrapperEl.clientWidth,y:this._refWrapperEl.clientHeight}:{x:0,y:0}},c._calcContentSize=function(){return{x:this._refContentEl.offsetWidth,y:this._refContentEl.offsetHeight}},c._calcScrollPosition=function(){return{x:this._refWrapperEl.scrollLeft,y:this._refWrapperEl.scrollTop}},c._updateScrollBar=function(){var e=this;this._stopScrollTimer&&clearTimeout(this._stopScrollTimer);var t=this.props.scrollingClassName;!this._isScrolling&&(this._isScrolling=!0,t&&this._refWrapperEl.classList.add(t)),this._stopScrollTimer=setTimeout(function(){if(e._isScrolling=!1,e._refWrapperEl){if(e.setScrollBehavior(""),e.props.onScrollEnd){var n=e.getPosition(),r=e._isMouseWheelScrolling||e._isMouseDown,i={x:e._position.x>n.x,y:e._position.y>n.y};e.props.onScrollEnd(e._position,{forward:i,isUserScrolling:r,isMouseDown:e._isMouseDown})}t&&e._refWrapperEl.classList.remove(t)}},this.props.scrollEndDelay)},c.componentDidMount=function(){this._refWrapperEl.addEventListener("scroll",this._onScroll)},c.componentWillUnmount=function(){this._refWrapperEl.removeEventListener("scroll",this._onScroll)},c.render=function(){var e=this,t=this.props,n=t.style,r=t.contentStyle,i=t.children,a=t.lock,c=t.enableResizeObserverContentRect,u=t.enableSizeNotifyDeferred,f=t.className,g=void 0===f?"":f,h=n;return h=a?(0,l._)((0,s._)({},n),{overflow:"hidden"}):n,(0,d.jsx)(p.default,{wrapperStyle:this._resizeWrapperStyle,enableResizeObserverContentRect:c,enableSizeNotifyDeferred:u,onResize:this._onContainerResize,children:(0,d.jsx)("div",{className:v()("scroller",(0,o._)({},g,!!g)),style:h,ref:function(t){e._refWrapperEl=t},onWheel:this._onWheel,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,children:(0,d.jsx)("div",{className:"scroller_content",style:r,ref:function(t){e._refContentEl=t},children:i},"scroller_content")},"scroller")})},n}(f.Component);h(m,"defaultProps",void 0),h(m,"propTypes",void 0),m.defaultProps={lock:!1,scrollingClassName:"scrolling",scrollEndDelay:300}},62090:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n("69420"),i=n("29048");function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,i._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t){var n=t.keyMapper,i=t.estimatedRowHeight,a=t.headerHeight,s=t.footerHeight,l=t.sectionHeaderHeight,c=t.sectionFooterHeight;(0,r._)(this,e),o(this,"_keyMapper",void 0),o(this,"_estimatedRowHeight",void 0),o(this,"_headerHeight",void 0),o(this,"_footerHeight",void 0),o(this,"_sectionHeaderHeight",void 0),o(this,"_sectionFooterHeight",void 0),o(this,"_size",void 0),this._keyMapper=n,this._estimatedRowHeight=void 0===i?0:i,this._headerHeight=void 0===a?0:a,this._footerHeight=void 0===s?0:s,this._sectionHeaderHeight=void 0===l?0:l,this._sectionFooterHeight=void 0===c?0:c,this._size={}}var t=e.prototype;return t.setHeaderHeight=function(e){this._headerHeight=e},t.getHeaderHeight=function(){return this._headerHeight},t.setFooterHeight=function(e){this._footerHeight=e},t.getFooterHeight=function(){return this._footerHeight},t.setSectionHeaderHeight=function(e){this._sectionHeaderHeight=e},t.getSectionHeaderHeight=function(e){return"function"==typeof this._sectionHeaderHeight?this._sectionHeaderHeight(e):this._sectionHeaderHeight},t.setSectionFooterHeight=function(e){this._sectionFooterHeight=e},t.getSectionFooterHeight=function(e){return"function"==typeof this._sectionFooterHeight?this._sectionFooterHeight(e):this._sectionFooterHeight},t.get=function(e){var t=this._keyMapper(e);return t in this._size?this._size[t]:"function"==typeof this._estimatedRowHeight?this._estimatedRowHeight(e):this._estimatedRowHeight},t.set=function(e,t){var n=this._keyMapper(e);this._size[n]=t},t.setKeyMapper=function(e){this._keyMapper=e},t.setEstimatedRowHeight=function(e){this._estimatedRowHeight=e},e}()},98130:function(e,t,n){"use strict";n.d(t,{default:function(){return R}});var r=n("47767"),i=n("69420"),o=n("73209"),a=n("9161"),s=n("16044"),l=n("40509"),c=n("6462"),u=n("29048"),d=n("26379"),f=n("97458"),g=n("52983"),v=n("36509"),p=n("66705"),h=n("42818"),m=n("26559"),_=n("62090"),x=n("67547"),b=n("81210"),k=n("23699"),C=n("18821"),S=n("69097");function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,u._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={},I={wrapper:{position:"relative",height:"100%",width:"100%",overflowX:"hidden",overflowY:"overlay",transform:"translateY(0)",contain:"strict"}},M={numberOfSections:1,variableHeight:!1,height:window.innerHeight,headerHeight:0,footerHeight:0,sectionHeaderHeight:0,sectionFooterHeight:0,estimatedRowHeight:0,bufferSize:20,minimumBufferDistance:5,scrollLock:!1,useTransform:!0,dataHash:0},T=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map(function(e){return"object"==typeof e?JSON.stringify(e):e}).join(" ");null==e||e("[List-v4]",i)}},R=function(e){(0,o._)(n,e);var t=(0,d._)(n);function n(e){(0,i._)(this,n),o=t.call(this,e),w((0,r._)(o),"positionXY",{x:0,y:0}),w((0,r._)(o),"isUpdating",!1),w((0,r._)(o),"lastCalcRenderInfoParams",null),w((0,r._)(o),"isUserScrolling",!1),w((0,r._)(o),"resetBufferSizeTimer",-1),w((0,r._)(o),"resetUpdatingStatusTimer",-1),w((0,r._)(o),"listRef",g.createRef()),w((0,r._)(o),"scrollerHolderRef",g.createRef()),w((0,r._)(o),"log",void 0),w((0,r._)(o),"lastPositions",void 0),w((0,r._)(o),"_refScroller",void 0),w((0,r._)(o),"_onContainerResize",function(e){var t=e.getContainerSize();if(o.state.containerHeight!==t.y){o.log("_onContainerResize",o.state.containerHeight,"->",t),o._modifyState({containerHeight:t.y});var n=Math.max(0,o.state.positionMap.getTotalHeight()+1-t.y),r={x:o.positionXY.x,y:Math.min(o.positionXY.y,n)};o._calcRenderInfoAndRerender(r,C.CALC_SCENE.RESIZED),o.props.onContainerResize&&o.props.onContainerResize(t,o.state.anchorRow||void 0)}}),w((0,r._)(o),"_onScroll",function(e,t){null===(n=(r=o.props).trackFirstScroll)||void 0===n||n.call(r);var n,r,i=t.forward,l=t.isMouseDown,c=t.isUserScrolling;o.positionXY=e,o.isUserScrolling=c,o.log("_onScroll",e.y,o.isUserScrolling),c&&o._modifyState({anchorRow:null});var u=0;o.lastPositions.unshift({x:e.x,y:e.y,time:new Date().valueOf()}),o.lastPositions.length>10&&(o.lastPositions.length=10);var d=o.lastPositions.map(function(e){return e.y});if((0,m.isArrayMonotonic)(d)){var f=o.lastPositions.length,g=o.lastPositions[0],v=o.lastPositions[f-1];u=(g.y-v.y)/(g.time-v.time)}var p=o.state.scrollReason,h=k.SCROLL_REASON.REQUESTED_BY_PROPS,_=k.SCROLL_REASON.REQUESTED_BY_RESIZE,x=p===h||p===_?C.CALC_SCENE.RESIZED:C.CALC_SCENE.SCROLL,b=o.getRenderRect(e);o._calcRenderInfoAndRerender(e,x,{forward:i,reason:k.SCROLL_REASON.OBSERVED}),o.props.onScroll&&o.props.onScroll(e,c,l,(0,s._)((0,a._)({},t,b),{scrollReason:p,velocity:u}))}),w((0,r._)(o),"getRenderRect",function(e){var t=o.state,n=t.positionMap,r=t.renderIndexPathTop,i=t.renderIndexPathBottom,a=t.containerHeight;if(!i||!r)return{bufferTopHeight:0,bufferBottomHeight:0,marginTop:0,marginBottom:0};var s=n.getHeightRangeAt(i),l=n.getHeightRangeAt(r);return{bufferTopHeight:Math.abs(e.y-l[0]),bufferBottomHeight:Math.abs(s[1]-e.y-a),marginTop:l[0],marginBottom:n.getTotalHeight()-s[1]}}),w((0,r._)(o),"_onScrollEnd",function(e){var t,n;null===(n=o.props)||void 0===n||null===(t=n.onScrollEnd)||void 0===t||t.call(n,e),o.lastPositions=[],o.isUserScrolling=!1}),w((0,r._)(o),"isBottomInView",function(e,t){var n=o.state.positionMap.getIndexPathByKey(e);if(!n)return!1;var r=(0,l._)(o.state.positionMap.getHeightRangeAt(n),2),i=r[0],a=r[1];return o.isInViewRange(-1===t?i:Math.max(i,a-t),!1)||o.isInViewRange(a,!1)}),w((0,r._)(o),"isInViewRange",function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t?o.state.position.y<=e&&e<=o.state.position.y+o.state.containerHeight:o.state.position.y<e&&e<o.state.position.y+o.state.containerHeight}),o.log=T(e.loggingFunc);var o,c,u,d=n.createKeyMapper(e),f=new x.default({keyMapper:d}),v=e.sizeCache;v?n.updateSizeCache(v,e,d):v=o._initSizeCache({keyMapper:d});var p=new h.default,_={dataHash:e.dataHash,sectionRowCount:e.dataHash?null:n.calcSectionRowCount(e),lastScrollToRowProps:e.scrollToRow,anchorRow:e.scrollToRow,scrollReason:e.scrollToRow?k.SCROLL_REASON.REQUESTED_BY_PROPS:k.SCROLL_REASON.OBSERVED,positionMap:p,keyMapper:d,sizeCache:v,rowCache:f,position:{x:0,y:0},indexTree:o._initIndexTree(e),containerHeight:e.height,bufferSize:0,footerVisible:!1,headerVisible:!1,requestedScrollPosition:{x:0,y:0}};if(n.updatePositionMap(_,e),e.scrollToRow){var b=n.calcScrollPositionForRow(_,e.scrollToRow,e);_.requestedScrollPosition=b,_.position=b}return o.state=(0,a._)({},n.calcRenderInfo(_,e,{position:_.requestedScrollPosition,calcScene:C.CALC_SCENE.REFRESH}),_),o.positionXY=_.requestedScrollPosition,o.log("constructor",e.scrollToRow,o.state.positionMap,o.state.position,o.state.anchorRow),o.lastPositions=[],null===(c=(u=o.props).trackListCreate)||void 0===c||c.call(u),o}var u=n.prototype;return u.componentDidMount=function(){var e,t,n=this;this.props.bufferSize!==this.state.bufferSize&&(this.resetBufferSizeTimer=window.setTimeout(function(){n._modifyState({bufferSize:n.props.bufferSize}),n._calcRenderInfoAndRerender(n.state.position,C.CALC_SCENE.REFRESH)},0)),this._scrollToRequestedPositionAfterRender(),null===(e=(t=this.props).trackComponentDidMount)||void 0===e||e.call(t)},u.componentDidUpdate=function(){this._scrollToRequestedPositionAfterRender()},u.componentWillUnmount=function(){this.resetBufferSizeTimer&&window.clearTimeout(this.resetBufferSizeTimer),this.resetUpdatingStatusTimer&&window.clearTimeout(this.resetUpdatingStatusTimer)},u._modifyState=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=Object.entries(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=(0,l._)(i.value,2),s=a[0],c=a[1];this.state[s]=c}}catch(e){n=!0,r=e}finally{try{!t&&null!=o.return&&o.return()}finally{if(n)throw r}}},u.refreshAllListItemStyle=function(){var e=this.listRef.current,t=this.scrollerHolderRef.current;if(e&&t){this.log("refreshAllListItemStyle");var n=[this.genStyleForHeader()].concat((0,c._)(this.genStyleForSections()),[this.genStyleForFooter()]).filter(Boolean);Array.from(e.children).forEach(function(e,t){var i=n[t];if(Array.isArray(i)){var o=(0,l._)(i,2),a=o[0],s=o[1];e.style.cssText=r(a),e.firstElementChild&&(e.firstElementChild.style.cssText=r(s))}else e.style.cssText=r(i)}),t.style.cssText=r(this.genStyleForScrollHolder()),this._scrollToRequestedPositionAfterRender()}function r(e){return Object.entries(e).reduce(function(e,t){var n=(0,l._)(t,2),r=n[0],i=n[1];return"".concat(e).concat((0,S.default)(r),":").concat(i,";")},"")}},u._scrollToRequestedPositionAfterRender=function(){var e=this.state,t=e.scrollReason,n=e.requestedScrollPosition,r=k.SCROLL_REASON.REQUESTED_BY_PROPS,i=k.SCROLL_REASON.REQUESTED_BY_API,o=k.SCROLL_REASON.REQUESTED_BY_RESIZE;t===r||t===i||t===o?(this.log("_scrollToRequestedPositionAfterRender",n,t),this._scrollTo(n)):this.log("_scrollToRequestedPositionAfterRender ignore",n,t)},u._renderRangeChanged=function(e){var t=this.state.indexTree;return this.state.headerVisible!==e.headerVisible||this.state.footerVisible!==e.footerVisible||0!==t.compare(this.state.renderIndexPathTop,e.renderIndexPathTop)||0!==t.compare(this.state.renderIndexPathBottom,e.renderIndexPathBottom)},u._initIndexTree=function(e){return new b.default({numberOfSections:e.numberOfSections,numberOfRows:e.numberOfRows})},u._initSizeCache=function(e){var t=e.keyMapper,n=this.props,r=n.estimatedRowHeight,i=n.headerHeight,o=n.footerHeight,a=n.sectionHeaderHeight,s=n.sectionFooterHeight;return new _.default({keyMapper:t,estimatedRowHeight:r,headerHeight:i,footerHeight:o,sectionHeaderHeight:a,sectionFooterHeight:s})},u._calcRenderInfoAndRerender=function(e,t,r){var i,o=this;if(this.isUpdating){this.log("_calcRenderInfoAndRerender ignore because isUpdating",e,t,r),this.lastCalcRenderInfoParams={position:e,calcScene:t,scrollOptions:r};return}this.lastCalcRenderInfoParams=null;var l=n.calcRenderInfo(this.state,this.props,{position:e,forward:null==r?void 0:r.forward,calcScene:t});if(!this._renderRangeChanged(l)){r&&this._modifyState({scrollReason:r.reason,position:e}),this.log("_calcRenderInfoAndRerender ignore because range not change",r),this.isUpdating=!1,this.props.clearScreenKey&&this.refreshAllListItemStyle();return}this.isUpdating=!0,this.log("_calcRenderInfoAndRerender range change",", headerVisible",this.state.headerVisible,"->",l.headerVisible,", footVisible",this.state.footerVisible,"->",l.footerVisible,", position",this.state.position,"->",l.position,", renderTop",this.state.renderIndexPathTop,"->",l.renderIndexPathTop,", renderBottom",this.state.renderIndexPathBottom,"->",l.renderIndexPathBottom),this.setState((0,s._)((0,a._)({},l),{scrollReason:null!==(i=null==r?void 0:r.reason)&&void 0!==i?i:this.state.scrollReason}),function(){o.resetUpdatingStatusTimer=window.setTimeout(function(){o.log("reset isUpdating"),o.isUpdating=!1,null!==o.lastCalcRenderInfoParams&&o._calcRenderInfoAndRerender(o.lastCalcRenderInfoParams.position,o.lastCalcRenderInfoParams.calcScene,o.lastCalcRenderInfoParams.scrollOptions)},0)})},u._reCalcPositionByRowResizedAndRerender=function(e){var t=this.positionXY,n={x:t.x,y:t.y+e};this.log("_reCalcPositionByRowResizedAndRerender, nextPosition",n.y),this._modifyState({position:n,requestedScrollPosition:n,scrollReason:k.SCROLL_REASON.REQUESTED_BY_RESIZE}),this.positionXY=n,this.refreshAllListItemStyle(),this.lastPositions=[]},u._scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._refScroller){if(this._refScroller.scrollTo(e,t),this.props.safePositionXY){var r=Number.isNaN(this.state.containerHeight)?e.y:Math.min(e.y,n.getActualHeight(this.state,this.props)-this.state.containerHeight);this.log("update in scrollTo",r,e.y,n.getActualHeight(this.state,this.props),this.state.containerHeight),this.positionXY={x:e.x,y:r}}else this.log("update in scrollTo",e.y),this.positionXY={x:e.x,y:e.y}}},u.scrollToBottomWithSmooth=function(){var e=n.getActualHeight(this.state,this.props)-this.getContainerHeight();this.positionXY.y!==e&&this._scrollTo({x:0,y:e},!0)},u.scrollToPosition=function(e){this._scrollTo(e)},u.scrollToTop=function(){this.setState({requestedScrollPosition:{x:0,y:0},scrollReason:k.SCROLL_REASON.REQUESTED_BY_API})},u.scrollToBottom=function(){if(this._refScroller){var e=this._refScroller.getMaxPosition();this.setState({requestedScrollPosition:e,scrollReason:k.SCROLL_REASON.REQUESTED_BY_API})}},u.scrollToRow=function(e){if(e){var t=n.calcScrollPositionForRow(this.state,e,this.props,this.positionXY),r=n.calcRenderInfo(this.state,this.props,{position:t,calcScene:C.CALC_SCENE.REFRESH});this._renderRangeChanged(r)?(this.log("scrollToRow range change",t.y,e),this.setState((0,s._)((0,a._)({},r),{requestedScrollPosition:t,scrollReason:k.SCROLL_REASON.REQUESTED_BY_API,lastScrollToRowProps:e,anchorRow:e}))):(this.log("scrollToRow range not change",t.y,e),this._modifyState({requestedScrollPosition:t,scrollReason:k.SCROLL_REASON.REQUESTED_BY_API,lastScrollToRowProps:e,anchorRow:e}),this._scrollToRequestedPositionAfterRender())}},u.getCurrentPosition=function(){return this.state.position},u.getMaxPosition=function(){return{x:0,y:this.state.positionMap.getTotalHeight()-this.state.containerHeight}},u.getContainerHeight=function(){return this.state.containerHeight},u.getContentHeight=function(){return this.state.positionMap.getTotalHeight()},u.getRowPositionInfo=function(e){return this.state.positionMap.getHeightRangeAt(e)},u.getSectionHeaderPositionInfo=function(e){return this.state.positionMap.getSectionHeaderRangeAt(e)},u.getSectionPositionInfo=function(e){return this.state.positionMap.getSectionRangeAt(e)},u.getRowTopInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.state.positionMap,n=this._refScroller._refWrapperEl.scrollTop,r=t.findIndexPathByPosition(n),i=r?this.state.indexTree.addCount(r,e):{section:0,row:0,key:""},o=i.key||"",a=(0,l._)(t.getHeightRangeAt(i),1)[0];return{indexPath:i,offset:a-n,key:o}},u.getIndexPathFromPosition=function(e){var t=this.state.positionMap;return void 0!==e.offsetFromTop?t.findIndexPathByPosition(this._refScroller._refWrapperEl.scrollTop+e.offsetFromTop):void 0!==e.positionY?t.findIndexPathByPosition(e.positionY):null},u.getRowBottomInfo=function(){var e=this.state,t=e.position,n=e.positionMap,r=e.containerHeight,i=t.y+r;n.getTotalHeight()-r<0&&(i=r);var o=n.findIndexPathByPosition(i)||{section:0,row:0},a=(0,l._)(n.getHeightRangeAt(o),1)[0];return{indexPath:o,offset:a-t.y}},u.isNearBottom=function(e){return this._refScroller.isNearBottom(e)},u._onRowResized=function(e,t,n,r){var i=this.state,o=i.indexTree,a=i.positionMap,s=i.sizeCache,c=this.positionXY;if(r){var u=a.getIndexPathByKey(r);u&&(e=u)}var d=s.get(e),f=t.height,g=f-d;if(.5>Math.abs(g)){this.log("rowResize ignore by height",e,r);return}this.log("rowResize height",e,r,d,"->",f);var v=a.findIndexPathByPosition(c.y),p=a.findIndexPathByPosition(c.y+this.state.containerHeight);s.set(e,f),a.setItemHeight(e,f);var h=v,m=(null===(_=this.state.anchorRow)||void 0===_?void 0:_.indexPath)?this.state.positionMap.getKeyByIndexPath(null===(x=this.state.anchorRow)||void 0===x?void 0:x.indexPath):"";if(!this.isUserScrolling&&m&&(h=this.state.anchorRow.indexPath),0===o.compare(e,h)){var _,x,b,k,S,w,y,I=a.getHeightRangeAt(e)[0],M=null!==(y=null===(S=(w=this.props).onFocusRowResize)||void 0===S?void 0:S.call(w,{record:n,positionY:c.y,rowTopPositionY:I,oldHeight:d,newHeight:f}))&&void 0!==y?y:"top_fixed";if(this.log("rowResize focusRow Resize strategy",M),"bottom_fixed"===M){var T=Math.max(g,I-c.y);this.log("rowResize topRowResize safeDiff _reCalcPositionByRowResizedAndRerender",h,T),this._reCalcPositionByRowResizedAndRerender(T)}else this.log("rowResize topRowResize refreshAllListItemStyle",h),this.refreshAllListItemStyle()}else 0>o.compare(e,h)?(this.log("rowResize _reCalcPositionByRowResizedAndRerender",h,g),this._reCalcPositionByRowResizedAndRerender(g)):(this.log("rowResize refreshAllListItemStyle",h),this.refreshAllListItemStyle());this.state.renderIndexPathBottom&&(0,l._)(this.state.positionMap.getHeightRangeAt(this.state.renderIndexPathBottom),2)[1]<this.state.position.y+this.state.containerHeight&&this._calcRenderInfoAndRerender(this.state.position,C.CALC_SCENE.RESIZED),null===(b=(k=this.props).onRowResize)||void 0===b||b.call(k,this.state.keyMapper(e),e,t,null==p?void 0:p.key,this.state.anchorRow||void 0)},u.setPositionStyle=function(e,t){return e.position="absolute",this.props.useTransform?e.transform="translate(0, ".concat(t,"px)"):e.top="".concat(t,"px"),e},u.renderScrollHolder=function(){var e=this.genStyleForScrollHolder();return(0,f.jsx)("div",{ref:this.scrollerHolderRef,"data-name":"scroll_holder",style:e},"scroll_holder")},u.genStyleForScrollHolder=function(){var e=n.getActualHeight(this.state,this.props)-1,t={height:"".concat(1,"px"),width:"100%"};return this.setPositionStyle(t,e),t},u.renderHeader=function(){var e,t,n=this.genStyleForHeader();if(!n)return null;var r=null===(e=(t=this.props).renderHeader)||void 0===e?void 0:e.call(t,n);return!r&&this.state.positionMap.setHeaderHeight(0),r},u.genStyleForHeader=function(){if(!this.props.renderHeader||!(this.state.headerVisible||this.props.forceRenderHeader)||!this.state.positionMap.getHeaderHeight())return null;var e={width:"100%"};return this.setPositionStyle(e,0),e},u.renderFooter=function(){var e,t,n=this.genStyleForFooter();if(n){var r=null===(e=(t=this.props).renderFooter)||void 0===e?void 0:e.call(t,n);return!r&&this.state.positionMap.setFooterHeight(0),r}},u.genStyleForFooter=function(){if(!this.props.renderFooter||!this.state.footerVisible)return null;var e=(0,l._)(this.state.positionMap.getFooterHeightRange(),1)[0],t={};return this.setPositionStyle(t,e),t},u.getRenderSectionRange=function(){var e=this.props.numberOfSections,t=this.state,n=t.renderIndexPathTop,r=t.renderIndexPathBottom;return n&&r?[n.section,Math.min(e-1,r.section)]:null},u.renderSections=function(){var e,t,n,r=this.getRenderSectionRange();if(!r)return null!==(n=null===(e=(t=this.props).renderEmptyBackUp)||void 0===e?void 0:e.call(t))&&void 0!==n?n:null;for(var i=(0,l._)(r,2),o=i[0],a=i[1],s=[],u=o;u<=a;u++)s.push(this.renderHeaderInSection(u)),s.push.apply(s,(0,c._)(this.renderRowsInSection(u))),s.push(this.renderFooterInSection(u));return s.filter(function(e){return!!e})},u.genStyleForSections=function(){var e=this.getRenderSectionRange();if(!e)return this.props.renderEmptyBackUp?[{}]:[];for(var t=(0,l._)(e,2),n=t[0],r=t[1],i=[],o=n;o<=r;o++)i.push(this.genStyleForHeaderInSection(o)),i.push.apply(i,(0,c._)(this.genStyleForRowsInSection(o))),i.push(this.genStyleForFooterInSection(o));return i.filter(function(e){return!!e})},u.renderHeaderInSection=function(e){var t,n,r,i=(0,l._)(null!==(r=this.genStyleForHeaderInSection(e))&&void 0!==r?r:[],2),o=i[0],a=i[1];return o?(0,f.jsx)("div",{className:this.props.sectionHeaderWrapperClassName,style:o,children:(0,f.jsx)("div",{style:a,children:null===(t=(n=this.props).renderSectionHeader)||void 0===t?void 0:t.call(n,e,{})})}):null},u.genStyleForHeaderInSection=function(e){if(!this.props.renderSectionHeader||this.props.shouldRenderSectionHeader&&!this.props.shouldRenderSectionHeader(e)||!this.state.renderIndexPathTop||e<this.state.renderIndexPathTop.section)return null;var t={width:"100%",left:0,top:0},n={};if(this.props.isSectionHeaderSticky){var r=this.state.positionMap,i=(0,l._)(r.getSectionHeaderRangeAt(e),1)[0],o=(0,l._)(r.getSectionRangeAt(e),2),a=o[0],s=o[1];return t.height="".concat(s-a,"px"),t.zIndex="1000",t.pointerEvents="none",this.setPositionStyle(t,i),n.position="sticky",n.pointerEvents="auto",n.top=this.props.useTransform?"-".concat(i,"px"):"0px",[t,n]}var c=this.state,u=c.renderIndexPathTop,d=c.positionMap;if(e===u.section&&0!==u.row)return null;var f=(0,l._)(d.getSectionHeaderRangeAt(e),1)[0];return this.setPositionStyle(t,f),[t,n]},u.renderFooterInSection=function(e){var t,n,r=this.genStyleForFooterInSection(e);return r?null===(t=(n=this.props).renderSectionFooter)||void 0===t?void 0:t.call(n,e,r):null},u.genStyleForFooterInSection=function(e){if(!this.props.renderSectionFooter||!this.state.renderIndexPathBottom||e>this.state.renderIndexPathBottom.section)return null;var t=this.state,n=t.renderIndexPathBottom,r=t.indexTree,i=t.positionMap;if(e===n.section&&!r.isLastRowInSection(n))return null;var o=(0,l._)(i.getSectionFooterRangeAt(e),1)[0],a={width:"100%",left:0,top:0};return this.setPositionStyle(a,o),a},u.renderRowInSection=function(e,t,n){var r=this,i=this.props,o=i.recordForRowAt,a=i.rowWrapperClassName,s=this.state,c=s.positionMap,u=s.keyMapper,d={section:e,row:t},g=u(d),p=o(d),h=(0,l._)(c.getHeightRangeAt(d),2),m=h[0],_=h[1]-m,x=this.genStyleForRowInSection(e,t),b=this.props,k=b.renderRow;return b.variableHeight?(0,f.jsx)(v.default,{enableSizeNotifyDeferred:!0,wrapperStyle:x,enableResizeObserverContentRect:!0,onResize:function(e){r._onRowResized(d,e,p,g)},wrapperClassName:a,children:k(p,d,y,_,n)},g):k(p,d,x,_,n)},u.genStyleForRowInSection=function(e,t){var n,r=this.props.recordForRowAt,i=this.state.positionMap,o={section:e,row:t},a=r(o),s=(0,l._)(i.getHeightRangeAt(o),1)[0],c={width:"100%",top:0,left:0};this.setPositionStyle(c,s);var u=this.props.renderRowStyle;if(u){;Object.assign(c,null!==(n=u(a))&&void 0!==n?n:{})}return c},u.getRowIndexRangeInSection=function(e){var t=0,r=n.numberOfRowsForSection(this.props,e)-1,i=this.state,o=i.renderIndexPathTop,a=i.renderIndexPathBottom;return o&&a?(e===o.section&&(t=Math.max(0,o.row)),e===a.section&&(r=Math.min(r,a.row)),[t,r]):[0,0]},u.renderRowsInSection=function(e){for(var t=(0,l._)(this.getRowIndexRangeInSection(e),2),n=t[0],r=t[1],i=[],o=n;o<=r;o++)i.push(this.renderRowInSection(e,o,r));return i},u.genStyleForRowsInSection=function(e){for(var t=(0,l._)(this.getRowIndexRangeInSection(e),2),n=t[0],r=t[1],i=[],o=n;o<=r;o++)i.push(this.genStyleForRowInSection(e,o));return i},u.render=function(){var e=this,t=this.props,n=t.style,r=t.className,i=t.scrollingClassName,o=Object.assign({},I.wrapper,n);return(0,f.jsxs)(p.default,{ref:function(t){t&&(e._refScroller=t)},style:o,className:r,lock:this.props.scrollLock,enableResizeObserverContentRect:!0,enableSizeNotifyDeferred:!0,onScroll:this._onScroll,onScrollEnd:this._onScrollEnd,onContainerResize:this._onContainerResize,scrollingClassName:i,scrollEndDelay:150,children:[this.renderScrollHolder(),(0,f.jsxs)("div",{className:"list_items",ref:this.listRef,children:[this.renderHeader(),this.renderSections(),this.renderFooter()]})]})},n.numberOfRowsForSection=function(e,t){var n=e.numberOfRows;return"function"==typeof n?n(t):n},n.updatePositionMap=function(e,t){var r=e.positionMap,i=e.sizeCache,o=t.numberOfSections,a=n.createKeyMapper(t);r.clear(),r.setHeaderHeight(i.getHeaderHeight());for(var s=0;s<o;s++){r.setSectionHeaderHeight(s,i.getSectionHeaderHeight(s));for(var l=0;l<n.numberOfRowsForSection(t,s);l++){var c={section:s,row:l};r.updateRowKey(s,l,a(c)),r.setItemHeight(c,i.get(c))}r.setSectionFooterHeight(s,i.getSectionFooterHeight(s))}r.setFooterHeight(i.getFooterHeight())},n.calcScrollPositionForRow=function(e,t,r,i){var o,a=e.positionMap,s=e.containerHeight,c=t.align,u=void 0===c?C.SCROLL_TO_ROW_ALIGN.START:c,d=t.offset,f=t.indexPath;t.key&&(f=a.getIndexPathByKey(t.key)||f),i=i||e.position;var g=(0,l._)(a.getHeightRangeAt(f),2),v=g[0],p=g[1],h=p-s;switch(u){case C.SCROLL_TO_ROW_ALIGN.START:o=v;break;case C.SCROLL_TO_ROW_ALIGN.CENTER:o=v-(s-(p-v))/2;break;case C.SCROLL_TO_ROW_ALIGN.END:o=h;break;case C.SCROLL_TO_ROW_ALIGN.NEAREST:o=Math.abs(v-i.y)>Math.abs(h-i.y)?h:v;break;case C.SCROLL_TO_ROW_ALIGN.BOTTOM:o=n.getActualHeight(e,r)-s;break;default:o=v}return{x:0,y:o-(void 0===d?0:d)}},n.calcRenderInfo=function(e,t,n){var r=n.position,i=n.forward,o=n.calcScene,a=r.y,s=e.containerHeight,l=e.positionMap,c=e.indexTree,u=a+s;l.getTotalHeight()-s<0&&(u=s);var d=l.isHeaderVisible(a),f=l.isFooterVisible(u,null==t?void 0:t.footerVisibleOffset),g=l.findIndexPathByPosition(a),v=l.findIndexPathByPosition(u);if(f){var p=l.getHeightAt(v);g=l.findIndexPathByPosition(p-s),d=l.isHeaderVisible(u-s)}if(!g||!v)return{position:r,headerVisible:d,footerVisible:f};var h=t.minimumBufferDistance,m=g,_=v,x=e.renderIndexPathTop||g,b=e.renderIndexPathBottom||v;o===C.CALC_SCENE.RESIZED?(m=c.min(g,x),_=c.max(v,b)):o===C.CALC_SCENE.SCROLL&&((null==i?void 0:i.y)?_=c.max(v,b):m=c.min(g,x));var k=e.bufferSize||0;if(k){var S=k>>>1;if(o!==C.CALC_SCENE.SCROLL)m=c.min(m,c.subCount(g,S)),_=c.max(_,c.addCount(v,S));else{var w=0;(w=(null==i?void 0:i.y)?c.isLast(b)?1/0:c.sub(b,v):c.isFirst(x)?1/0:c.sub(g,x))<=h?(m=c.subCount(g,S),_=c.addCount(v,S)):(m=x,_=b)}}return{position:r,headerVisible:d,footerVisible:f,renderIndexPathTop:m,renderIndexPathBottom:_}},n.createKeyMapper=function(e){var t=e.keyMapper,n=e.recordForRowAt;return t||(0,m.keyMapper)(n)},n.calcSectionRowCount=function(e){for(var t=e.numberOfSections,n=[],r=0;r<t;r++)n.push(this.numberOfRowsForSection(e,r));return n},n.sectionRowChanged=function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1},n.updateSizeCache=function(e,t,n){var r=t.headerHeight,i=t.footerHeight,o=t.sectionHeaderHeight,a=t.sectionFooterHeight,s=t.estimatedRowHeight;e.setHeaderHeight(r),e.setFooterHeight(i),e.setSectionHeaderHeight(o),e.setSectionFooterHeight(a),e.setKeyMapper(n),e.setEstimatedRowHeight(s)},n.getDerivedStateFromProps=function(e,t){var r,i=null,o=!1,s=t.sectionRowCount,l=t.dataHash,c=e.dataHash;if(l?o=l!==c:(r=n.calcSectionRowCount(e),o=n.sectionRowChanged(s,r)),o){(i=(0,a._)({},t)).sectionRowCount=r,i.dataHash=c;var u=n.createKeyMapper(e);n.updateSizeCache(i.sizeCache,e,u),i.keyMapper=u,i.rowCache.setKeyMapper(u),i.indexTree.update(e),n.updatePositionMap(t,e);var d=t.position;t.lastScrollToRowProps!==e.scrollToRow&&(e.scrollToRow&&(d=n.calcScrollPositionForRow(t,e.scrollToRow,e),i.requestedScrollPosition=d,i.scrollReason=k.SCROLL_REASON.REQUESTED_BY_PROPS),i.lastScrollToRowProps=e.scrollToRow,i.anchorRow=e.scrollToRow);var f=n.calcRenderInfo(i,e,{position:d,calcScene:C.CALC_SCENE.REFRESH}),g=f.headerVisible,v=f.footerVisible,p=f.renderIndexPathTop,h=f.renderIndexPathBottom;i.headerVisible=g,i.footerVisible=v,i.renderIndexPathTop=p,i.renderIndexPathBottom=h,T(e.loggingFunc)("getDerivedStateFromProps range change",i.anchorRow,", headerVisible",t.headerVisible,"->",i.headerVisible,", footVisible",t.footerVisible,"->",i.footerVisible,", position",t.position,"->",i.position,", renderTop",t.renderIndexPathTop,"->",i.renderIndexPathTop,", renderBottom",t.renderIndexPathBottom,"->",i.renderIndexPathBottom,", requestedScrollPosition",t.requestedScrollPosition,"->",i.requestedScrollPosition)}return i},n.getActualHeight=function(e,t){var n=t.clearScreenKey,r=e.positionMap,i=e.containerHeight,o=(0,l._)(r.getFooterHeightRange(),1)[0],a=r.getTotalHeight();if(!n)return a;if(n===C.CLEAR_SCREEN_BOTTOM)return i+o;var s=r.getIndexPathByKey(n);return s?Math.max((0,l._)(r.getHeightRangeAt(s),1)[0]+i,a):a},n}(g.Component);w(R,"defaultProps",M)},13339:function(e,t,n){"use strict";var r=n("98130");t.default=r.default},23699:function(e,t,n){"use strict";n.d(t,{SCROLL_REASON:function(){return i}});var r,i=((r={}).REQUESTED_BY_PROPS="REQUESTED_BY_PROPS",r.REQUESTED_BY_API="REQUESTED_BY_API",r.REQUESTED_BY_RESIZE="REQUESTED_BY_RESIZE",r.OBSERVED="OBSERVED",r)},18821:function(e,t,n){"use strict";n.d(t,{CALC_SCENE:function(){return o},CLEAR_SCREEN_BOTTOM:function(){return a},SCROLL_TO_ROW_ALIGN:function(){return s}});var r,i,o=((r={}).RESIZED="RESIZED",r.REFRESH="REFRESH",r.SCROLL="SCROLL",r),a="bottom";var s=((i={}).START="start",i.CENTER="center",i.END="end",i.NEAREST="nearest",i.BOTTOM="bottom",i)},26559:function(e,t,n){"use strict";function r(e){return function(t){var n=e(t),r=null==n?void 0:n.id,i=t.section,o=t.row;return r||"".concat(i,"-").concat(o)}}function i(e){if(e.length<3)return!1;for(var t=e[1]-e[0],n=1;n<e.length-1;n++){var r=e[n+1]-e[n];if(t>0&&r<0||t<0&&r>0)return!1}return!0}n.d(t,{isArrayMonotonic:function(){return i},keyMapper:function(){return r}})},47050:function(e,t,n){"use strict";n.d(t,{LarkVirtualScrollList:function(){return x}});var r=n("47767"),i=n("69420"),o=n("50189"),a=n("95544"),s=n("73209"),l=n("9161"),c=n("40509"),u=n("6462"),d=n("29048"),f=n("26379"),g=n("97458"),v=n("57684"),p=n("52983"),h=n("63730"),m=n("13339");!window.ResizeObserver&&(window.ResizeObserver=v.ResizeObserver);var _=function(e){(0,s._)(n,e);var t=(0,f._)(n);function n(){for(var e,o,a,s,l=arguments.length,f=Array(l),g=0;g<l;g++)f[g]=arguments[g];(0,i._)(this,n),s=t.call.apply(t,[this].concat((0,u._)(f))),e=(0,r._)(s),a=!1,(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,d._)(t))?t:String(t)}(o="isEnableSyncUpdate"))in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a;var v=(0,c._)(f,1)[0].bufferSize;return s.state.bufferSize=v,s}var l=n.prototype;return l.forceUpdate=function(e){var t=this;this.isEnableSyncUpdate?(0,h.flushSync)(function(){(0,o._)((0,a._)(n.prototype),"forceUpdate",t).call(t,e)}):(0,o._)((0,a._)(n.prototype),"forceUpdate",this).call(this,e)},l.enableSyncUpdate=function(){this.isEnableSyncUpdate=!0},l.disableSyncUpdate=function(){this.isEnableSyncUpdate=!1},l.renderScrollHolder=function(){var e=(0,o._)((0,a._)(n.prototype),"renderScrollHolder",this).call(this);return(0,g.jsx)(g.Fragment,{children:(0,p.cloneElement)(e,{children:this.props.keepedBottom})})},n}(m.default),x=(0,p.forwardRef)(function(e,t){return(0,g.jsx)(_,(0,l._)({ref:t},e))})},72627:function(e,t,n){"use strict";n.d(t,{FeedbackCheck:function(){return d}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("31540"),s=n("84657"),l=n("31610"),c=n("74253"),u=n("63083"),d=function(e){var t=e.className,n=e.style,i=e.title,d=e.satisfiedText,f=e.unsatisfiedText,g=e.onChecked,v=e.onClose;return(0,r.jsxs)("div",{className:o()(u.conatiner,t),style:n,children:[(0,r.jsx)("div",{className:u.title,children:void 0===i?"How do you like the answer?":i}),(0,r.jsx)(a.LabelButton,{className:u.button,onClick:function(){return null==g?void 0:g(!0)},icon:(0,r.jsx)(l.ReactComponent,{}),children:void 0===d?"Satisfied":d}),(0,r.jsx)(a.LabelButton,{className:u.button,onClick:function(){return null==g?void 0:g(!1)},icon:(0,r.jsx)(c.ReactComponent,{}),children:void 0===f?"Unsatisfied":f}),(0,r.jsx)(s.ReactComponent,{className:u["close-icon"],onClick:v})]})}},13148:function(e,t,n){"use strict";n.d(t,{FeedbackFinished:function(){return l}});var r=n("97458"),i=n("78597"),o=n("87608"),a=n.n(o),s=n("9516"),l=function(e){var t=e.className,n=e.style,o=e.title,l=e.onClose;return(0,i.useTimeout)(function(){null==l||l()},1e3),(0,r.jsx)("div",{className:a()(s.container,t),style:n,children:void 0===o?"Thank you for helping us become better":o})}},46146:function(e,t,n){"use strict";n.d(t,{FeedbackPost:function(){return v}});var r=n("40509"),i=n("6462"),o=n("97458"),a=n("52983"),s=n("53268"),l=n("87608"),c=n.n(l),u=n("31540"),d=n("98904"),f=n("84657"),g=n("45236"),v=function(e){var t=e.className,n=e.style,l=e.icon,v=e.title,p=e.options,h=e.onFeedback,m=e.onClose,_=e.submitText,x=e.textInputPlaceholder,b=(0,r._)((0,a.useState)([]),2),k=b[0],C=b[1],S=k.some(function(e){return p.find(function(t){return t.key===e&&t.showInputWhenSelected})}),w=(0,r._)((0,a.useState)(""),2),y=w[0],I=w[1];return(0,o.jsxs)("div",{className:c()(g.container,t),style:n,children:[(0,o.jsxs)("div",{className:g["title-bar"],children:[(0,o.jsx)("div",{className:g.icon,children:l}),(0,o.jsx)("div",{className:g.text,children:v}),(0,o.jsx)(f.ReactComponent,{className:g.close,onClick:m})]}),(0,o.jsxs)("div",{className:g["options-bar"],children:[(0,o.jsxs)("div",{className:g["left-side"],children:[p.length?(0,o.jsx)("div",{className:g.options,children:p.map(function(e){var t=e.title,n=e.key,r=k.includes(n);return(0,o.jsx)(u.LabelButton,{className:g.item,unCheckedClassName:g.unchecked,checked:r,checkedTheme:"solid",onClick:function(){r?C(k.filter(function(e){return e!==n})):C((0,i._)(k).concat([n]))},children:t},n)})}):null,S&&(0,o.jsx)("div",{className:g.input,children:(0,o.jsx)(s.TextArea,{className:g.inner,value:y,onChange:I,placeholder:void 0===x?"Tell us more about  your experience":x,borderless:!0,autosize:{minRows:1,maxRows:5}})})]}),(0,o.jsx)("div",{className:g["right-side"],children:(0,o.jsx)(d.FlowButton,{className:g.submit,onClick:function(){null==h||h({text:y||void 0,options:k})},disabled:!k.length,children:void 0===_?"Submit":_})})]})]})}},31540:function(e,t,n){"use strict";n.d(t,{LabelButton:function(){return l}});var r=n("83316"),i=n("97458"),o=n("87608"),a=n.n(o),s=n("44111"),l=function(e){var t=e.className,n=e.style,o=e.unCheckedClassName,l=e.onClick,c=e.icon,u=e.checked,d=void 0!==u&&u,f=e.children,g=e.checkedTheme;return(0,i.jsxs)("div",{className:a()(s.container,t,!d&&o,s["checked-theme-".concat(void 0===g?"full":g)],(0,r._)({},s.checked,d)),style:n,onClick:l,children:[c&&(0,i.jsx)("div",{className:s.icon,children:c}),(0,i.jsx)("div",{className:s.text,children:f})]})}},7324:function(e,t,n){"use strict";n.d(t,{MessageFeedback:function(){return h}});var r,i=n("40509"),o=n("97458"),a=n("52983"),s=n("37903"),l=n("78597"),c=n("72627"),u=n("46146"),d=n("13148"),f=n("31610"),g=n("74253");var v=((r=v||{})[r.CheckStep=0]="CheckStep",r[r.SatisfiedPostStep=1]="SatisfiedPostStep",r[r.UnsatisfiedPostStep=2]="UnsatisfiedPostStep",r[r.Finished=3]="Finished",r),p=function(e){return(0,s.default)(e)?v.CheckStep:e?v.SatisfiedPostStep:v.UnsatisfiedPostStep},h=function(e){var t=e.className,n=e.style,r=e.checkTitle,s=e.satisfiedText,h=e.unsatisfiedText,m=e.satisfyingTitle,_=e.unsatisfyingTitle,x=e.submitText,b=e.textInputPlaceholder,k=e.feedbackFinishTitle,C=e.defaultFeedbackChecked,S=e.onClose,w=e.onSatisfiedChecked,y=e.satisfiedOptions,I=e.unsatisfiedOptions,M=e.onSatisfiedFeedback,T=e.onUnsatisfiedFeedback,R=(0,i._)((0,a.useState)(p(C)),2),E=R[0],j=R[1],B=function(e){j(p(e))};if((0,l.useUpdateEffect)(function(){B(C)},[C]),E===v.CheckStep)return(0,o.jsx)(c.FeedbackCheck,{className:t,style:n,title:r,satisfiedText:s,unsatisfiedText:h,onClose:S,onChecked:function(e){B(e),null==w||w(e)}});if(E===v.SatisfiedPostStep||E===v.UnsatisfiedPostStep){var L=E===v.SatisfiedPostStep;return(0,o.jsx)(u.FeedbackPost,{className:t,style:n,icon:L?(0,o.jsx)(f.ReactComponent,{}):(0,o.jsx)(g.ReactComponent,{}),title:L?void 0===m?"What did you find satisfying?":m:void 0===_?"What did you find unsatisfying?":_,submitText:x,textInputPlaceholder:b,onFeedback:function(e){j(v.Finished),L?null==M||M(e):null==T||T(e)},onClose:S,options:L?y:I})}return E===v.Finished?(0,o.jsx)(d.FeedbackFinished,{className:t,style:n,title:k,onClose:S}):null}},32441:function(e,t,n){"use strict";n.d(t,{Resizing:function(){return s}});var r=n("97458"),i=n("78597"),o=n("52983"),a=n("57684");!window.ResizeObserver&&(window.ResizeObserver=a.ResizeObserver);var s=function(e){var t=e.children,n=e.onResize,s=(0,o.useRef)(null),l=(0,o.useRef)(null),c=(0,i.useLatest)(n),u=(0,o.useRef)();return(0,o.useLayoutEffect)(function(){var e=new a.ResizeObserver(function(e){var t,n=e.find(function(e){return e.target===s.current});if(n){var r=n.target,i=r.offsetWidth,o=r.offsetHeight,a=n.contentRect,d=a.width,f=a.height,g=n.target,v={width:d,height:f,offsetWidth:i,offsetHeight:o};null===(t=c.current)||void 0===t||t.call(c,{current:v,previous:u.current,target:g,targetStandBy:l.current}),u.current=v}});return s.current&&e.observe(s.current),function(){e.disconnect()}},[]),(0,r.jsx)(r.Fragment,{children:t(s,l)})}},55792:function(e,t,n){"use strict";n.d(t,{ClassicScrollView:function(){return g}});var r=n("97458"),i=n("52983"),o=n("37903"),a=n("3820"),s=n("87608"),l=n.n(s),c=n("78597"),u=n("44311"),d=n("97530"),f=n("32441"),g=(0,i.forwardRef)(function(e,t){var n=e.dataList,s=e.getId,g=e.children,v=e.top,p=e.bottom,h=e.keepedBottom,m=e.enableInterAnchor,_=void 0===m||m,x=e.onScroll,b=e.onReachTop,k=e.className,C=e.style,S=(0,i.useRef)(null),w=(0,i.useRef)(),y=function(e,t){var r=t.current,i=t.previous,a=t.targetStandBy;if(!S.current||!_)return;var s=r.offsetHeight;a&&(a.style.height="".concat(s,"px"));var l=(null!=i?i:{}).offsetHeight;if(!!l){var c=S.current.getScrollBottom();if(e!==n.at(-1)||!(c<10)){var u=S.current.getScrollTop(),d=s-l;if(d<0&&-d>u){!(0,o.default)(w.current)&&S.current.scrollTo(w.current);return}S.current.scrollTo(u-d),w.current=S.current.getScrollTop()}}};return(0,r.jsxs)(d.ScrollView,{reverse:!0,onReachTop:b,ref:function(e){(0,a.default)(t)?t(e):t&&(t.current=e),S.current=e},showScrollbar:!(0,c.isMacosSafari)(),onScroll:x,className:l()(u.container,k),style:C,children:[(0,r.jsxs)("div",{className:u.bottom,children:[(0,a.default)(p)?p():p,(0,a.default)(h)?h():h]}),(0,r.jsx)("div",{className:l()(u.inter),children:n.map(function(e){return(0,r.jsx)(f.Resizing,{onResize:function(t){return y(e,t)},children:function(t,n){return(0,r.jsx)("div",{className:u.item,ref:n,children:g(e,{anchorTopRef:t})})}},null==s?void 0:s(e))})}),(0,r.jsx)("div",{className:u.top,children:(0,a.default)(v)?v():v})]})})},19789:function(e,t,n){"use strict";n.d(t,{useIsScrollingWithCallback:function(){return o}});var r=n("52983"),i=n("6139"),o=function(e){var t=(0,r.useRef)(!1),n=(0,r.useMemo)(function(){return(0,i.default)(function(){t.current=!1,e(!1)},300,{leading:!1,trailing:!0})},[]);return{onScroll:function(){!t.current&&(t.current=!0,e(!0)),n()}}}},88125:function(e,t,n){"use strict";n.d(t,{VirtualScrollView:function(){return T}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("6462"),l=n("97458"),c=n("63730"),u=n("52983"),d=n("78597"),f=n("37903"),g=n("61550"),v=n("3820"),p=n("87608"),h=n.n(p),m=n("23699"),_=n("47050"),x=n("10886"),b=n("19789"),k=n("56625"),C="scroller_key_top_item",S="scroller_key_bottom_item",w=function(e){var t=e.dataList,n=e.getId,r=e.listRef,i=(0,d.usePrevious)(t),o=(0,u.useRef)(),s=(0,u.useRef)();if((null==i?void 0:i.length)&&(null==t?void 0:t.length)&&r.current&&n(i[0])!==n(t[0])){var l=r.current.getRowTopInfo(),c=l.indexPath.section,f=l.offset,g=(0,a._)(r.current.getSectionPositionInfo(0),2),v=g[0],p=g[1],h=n(i[Math.max(0,c-1)]);0===c&&(o.current=h),s.current={key:h,offset:(void 0===f?0:f)+(0===c?p-v:0),indexPath:{row:0,section:0}}}return(0,u.useEffect)(function(){s.current=void 0},[t]),{scrollTo:s.current,topAnchorKeyRef:o}},y=function(e){var t=e.topThreshold,n=e.onTop,r=(0,u.useRef)(!1),i=(0,u.useRef)(!1);return{handleScroll:function(e,o,a,s){var l=e.y,c=(s||{}).scrollReason;r.current=o&&c!==m.SCROLL_REASON.REQUESTED_BY_API,l<t&&!i.current&&(null==n||n(),i.current=!0),l>t&&i.current&&(i.current=!1)},handleScrollEnd:function(){r.current=!1},isUserScrollingRef:r}},I=function(e){var t=e.listRef,n=e.dataList;return{scrollToBottom:function(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.smooth;void 0!==o&&o?null===(e=t.current)||void 0===e||e.scrollToBottomWithSmooth():null===(r=t.current)||void 0===r||r.scrollToRow({indexPath:{section:n.length+1,row:0}})},scrollToTop:function(){var e;null===(e=t.current)||void 0===e||e.scrollToTop()},disableScroll:function(){var e;null===(e=document.querySelector(".".concat(CSS.escape(k.container))))||void 0===e||e.classList.add(k["disable-scroll"])},enableScroll:function(){var e;null===(e=document.querySelector(".".concat(CSS.escape(k.container))))||void 0===e||e.classList.remove(k["disable-scroll"])},isNearBottom:function(e){var n=t.current;return!!n&&n.isNearBottom(e)},scrollTo:function(e){var n=t.current;if(n){var r=n.getCurrentPosition();n.scrollToPosition((0,o._)((0,i._)({},r),{y:e}))}}}},M=function(e){var t=e.dataList,n=e.listRef,r=e.getId,i=e.isUserScrollingRef,o=e.topAnchorKeyRef,a=e.containerRef,s={indexPath:{section:t.length,row:0}},l=(0,u.useRef)(new Map),d=(0,u.useRef)(),g=(0,u.useRef)(),v=function(){var e,t=null===(e=a.current)||void 0===e?void 0:e.querySelector(".scroller");if(t)return t.scrollHeight-t.clientHeight-t.scrollTop};return{handleRowResize:function(e,a,u){var d=a.section,p=u.height,h=void 0===p?0:p;if(!!n.current){var m=null!==(C=l.current.get(e))&&void 0!==C?C:0;l.current.set(e,h);var _=h-m,x=v(),b=g.current;if(g.current=x,!(0,f.default)(b)&&!(0,f.default)(x)&&b<5&&x>200&&x-b>_+5&&((0,c.flushSync)(function(){var e;null===(e=n.current)||void 0===e||e.scrollToRow(s)}),g.current=0),!(_<0)){if(!i.current&&n.current.isNearBottom(10+_)){(0,c.flushSync)(function(){var e;null===(e=n.current)||void 0===e||e.scrollToRow(s)}),g.current=0;return}var k=t[d-1+1];if(k&&r(k)===o.current){if(!n.current)return;var C,S,w=n.current.getCurrentPosition(),y=w.x,I=w.y;null===(S=n.current)||void 0===S||S.scrollToPosition({x:y,y:I+(_-200)}),g.current=1/0}}}},handleContainerResize:function(e){var t=e.y;try{if((0,f.default)(d.current))return;var r,i=d.current-t;if(i<=0)return;(null===(r=n.current)||void 0===r?void 0:r.isNearBottom(i+5))&&(0,c.flushSync)(function(){var e;null===(e=n.current)||void 0===e||e.scrollToBottom()})}finally{d.current=t}},handleScroll:function(){g.current=v()}}},T=(0,u.forwardRef)(function(e,t){var n,i=e.dataList,o=e.getId,a=e.children,c=e.top,d=e.bottom,f=e.onReachTop,p=e.onScroll,m=e.keepedBottom,T=e.showScrollbar,R=e.autoShowScrollbar,E=e.initAtBottom,j=void 0!==E&&E,B=e.pageHash,L=e.className,N=e.itemClassName,A=e.wrapperClassName,F=e.style,P=(0,u.useRef)(null),O=w({dataList:i,listRef:P,getId:o}),D=O.scrollTo,H=O.topAnchorKeyRef,q=I({listRef:P,dataList:i});(0,u.useImperativeHandle)(t,function(){return q},(0,g.default)(q)),(0,u.useLayoutEffect)(function(){j&&q.scrollToBottom()},[B,j]);var W=y({topThreshold:2e3,onTop:f}),z=W.handleScroll,V=W.handleScrollEnd,U=W.isUserScrollingRef,K=(0,u.useRef)(null),G=M({listRef:P,isUserScrollingRef:U,dataList:i,topAnchorKeyRef:H,getId:o,containerRef:K}),Q=G.handleRowResize,Y=G.handleContainerResize,J=G.handleScroll,X=function(e){var t,n=e.section;if(0===n)return C;if(n===i.length+1)return S;var r=i.at(n-1);return null!==(t=r&&o(r))&&void 0!==t?t:""},Z=(0,b.useIsScrollingWithCallback)(function(e){var t,n=null===(t=K.current)||void 0===t?void 0:t.querySelector(".scroller");n&&(e?n.classList.add(k["show-scrollbar-thumb"]):n.classList.remove(k["show-scrollbar-thumb"]))}).onScroll;return(0,l.jsx)(x.ScrollViewProvider,{containerRef:K,controller:q,children:(0,l.jsx)("div",{className:h()(k.container,A),ref:K,children:(0,l.jsx)(_.LarkVirtualScrollList,{className:h()(k.scroller,L,(n={},(0,r._)(n,k["show-scrollbar"],void 0!==T&&T),(0,r._)(n,k["auto-show-scrollbar"],void 0!==R&&R),n)),style:F,ref:P,estimatedRowHeight:200,variableHeight:!0,numberOfSections:i.length+2,numberOfRows:1,bufferSize:20,keyMapper:X,onContainerResize:Y,renderRow:function(e){if(e===C)return(0,l.jsx)("div",{className:h()(k.top,N),children:(0,v.default)(c)?c():c});if(e===S)return(0,l.jsx)("div",{className:h()(k.bottom,N),children:(0,v.default)(d)?d():d});var t=i.find(function(t){return o(t)===e});return t&&(0,l.jsx)("div",{className:N,children:a(t)})},recordForRowAt:X,onScroll:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];null==p||p(),null==z||z.apply(void 0,(0,s._)(t)),null==J||J.apply(void 0,(0,s._)(t)),Z()},onRowResize:Q,onScrollEnd:V,scrollToRow:D,keepedBottom:(0,v.default)(m)?m():m})})})})},3830:function(e,t,n){"use strict";n.d(t,{checkConversationReady:function(){return l}});var r,i=n("92769"),o=n("88802"),a=n("33434"),s=n("62920");var l=(r=(0,i._)(function(e){var t,n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:if(n=(t=s.useChatStore.getState()).conversationMap[e],!(t.messageListStatusMap[e].loading||!n))return[3,2];return[4,new Promise(function(t){var n=s.useChatStore.subscribe(function(t){return{messageListStatus:t.messageListStatusMap[e],conversation:t.conversationMap[e]}},function(e){var r=e.messageListStatus,i=e.conversation;!r.loading&&i&&(n(),t())},{fireImmediately:!0,equalityFn:a.shallow})})];case 1:r.sent(),r.label=2;case 2:return[2]}})}),function(e){return r.apply(this,arguments)})},46650:function(e,t,n){"use strict";n.d(t,{IMCoreInit:function(){return f}});var r=n("9161"),i=n("16044"),o=n("87382"),a=n("78142"),s=n("31566"),l=n("52420"),c=n("53641"),u=n("76516"),d=n("62920"),f=function(e){var t=e.store,n=e.isEnableDebug,f=e.trackEvent,g=e.loggers,v=e.http,p=v.baseURL,h=v.client,m=v.getCommonHeaders,_=v.getCommonParams,x=v.ApiServiceConstructor,b=v.subApiServiceConstructors,k=e.globalConfig,C=e.botConfig,S=k().localFeatureConfig;return(0,d.initChatStore)((0,i._)((0,r._)({},t),{isEnableDebug:!!n,reduxDevToolsSnapshot:null==S?void 0:S.reduxDevToolsSnapshot})),a.FlowApi.init({httpClient:h,baseURL:p,getCommonHeaders:m,getCommonParams:_,ApiServiceConstructor:x,subApiServiceConstructors:b}),f&&s.FlowTea.init(f),o.logger.init({disableConsole:!n,clients:g}),l.FlowConfig.init(k,n),c.FlowBot.init(C),{eventEmitter:u.FlowEvent}}},84575:function(e,t,n){"use strict";n.d(t,{checkMessageIsSingleReply:function(){return m},createRegenHelper:function(){return h},createReportEventIfNotExist:function(){return p}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("35680"),s=n("41766"),l=n("97176"),c=n("87382"),u=n("68534"),d=n("62920"),f=n("87575"),g=n("46750"),v=n("68602"),p=function(e,t){var n,a=d.useChatStore.getState().regenerateMessageMap[e];if(!a){var s=(0,c.createReportEvent)({eventName:t});return d.useChatStore.setState((0,l.produce)(function(n){return n.regenerateMessageMap[e]={messageMap:{},reportEvents:(0,r._)({},t,s)},n})),s}if(!(null==a?void 0:null===(n=a.reportEvents)||void 0===n?void 0:n[t])){var u=(0,c.createReportEvent)({eventName:t});return d.useChatStore.setState((0,l.produce)(function(n){return n.regenerateMessageMap[e].reportEvents=(0,o._)((0,i._)({},a.reportEvents),(0,r._)({},t,u)),n})),u}return a.reportEvents[t]},h=function(e){return{setRegenMessageInActive:function(t){var n,s=t.messageId,l=e.draftMessageMap[s],c=e.draftRegenerateMessageMap,d=(void 0===c?{}:c).messageMap,g=(void 0===d?{}:d)[s],v=e.draftRegenerateMessageMap,p=null!=g?g:(0,a.default)(l);null==g||null===(n=g.ext)||void 0===n||delete n.regen_active,(null==p?void 0:p.ext)&&(p.ext.regen="1"),v.messageMap=(0,o._)((0,i._)({},v.messageMap),(0,r._)({},s,p)),l.ext&&(l.ext.regen="1"),!(0,f.isImageMessage)(l)&&(l.status=u.PushMessageStatus.InVisible)},setRegenMessageActive:function(t){var n=t.messageId,r=e.draftMessageMap,o=e.draftRegenerateMessageMap.messageMap,s=(void 0===o?{}:o)[n];s&&(r[n]=(0,i._)({},r[n],(0,a.default)(s)),s.ext&&(s.ext.regen_active="1"))}}},m=function(e,t){if(!e||!t.reply_id)return!1;var n=t.reply_id,r=d.useChatStore.getState(),i=r.messageLinkMap[e],o=(0,g.createGetMessage)({messageMap:r.messageMap[e],localMessageMap:r.localMessageMap[e]}),a=(0,v.findAllMessageLinkByMatchEqualId)({messageLinks:i,replyId:n,getMessage:o});return(null==a?void 0:a.length)===1||(0,s.default)(a,function(e){var t=o(e);return t&&(0,f.isRegenerateMessage)(t)})}},44750:function(e,t,n){"use strict";n.d(t,{getSecSceneBySkillType:function(){return d},getSkillTeaName:function(){return l},getSkillTeaNameByType:function(){return c}});var r,i,o=n("83316"),a=n("24815"),s=(r={},(0,o._)(r,a.SkillType.ReadAndSummarize,"read_summarize"),(0,o._)(r,a.SkillType.WriteAssistant,"writing_assistant"),(0,o._)(r,a.SkillType.ImageGeneration,"images_generation"),(0,o._)(r,a.SkillType.Search,"search"),(0,o._)(r,a.SkillType.Translate,"translate"),(0,o._)(r,a.SkillType.ReadPDF,"read_pdf"),(0,o._)(r,a.SkillType.ReadWebsite,"read_url"),(0,o._)(r,a.SkillType.Default,""),r),l=function(e){return c(null==e?void 0:e.skill_type)},c=function(e){var t;return null!==(t=s[null!=e?e:a.SkillType.Default])&&void 0!==t?t:""},u=(i={},(0,o._)(i,a.SkillType.ReadAndSummarize,"chat_action_bar_read_summarize"),(0,o._)(i,a.SkillType.WriteAssistant,"chat_action_bar_compose"),(0,o._)(i,a.SkillType.ImageGeneration,"chat_action_bar_image_creation"),(0,o._)(i,a.SkillType.Search,"chat_action_bar_search"),(0,o._)(i,a.SkillType.Translate,"chat_action_bar_translate"),(0,o._)(i,a.SkillType.ReadPDF,"chat_action_bar_read_pdf"),(0,o._)(i,a.SkillType.ReadWebsite,"chat_action_bar_read_url"),i),d=function(e){var t;return null!==(t=u[e])&&void 0!==t?t:""}},59312:function(e,t,n){"use strict";n.d(t,{useHydration:function(){return u},useLikeFeedbackConfig:function(){return f},useOgfConfig:function(){return v},useReportConfig:function(){return g},useSecUserId:function(){return l},useSystemConfigInfo:function(){return c},useUnlikeFeedbackConfig:function(){return d}});var r=n("40509"),i=n("52983"),o=n("33434"),a=n("45981"),s=n("62920"),l=(0,a.transformSelectorWithArgs)(function(e){var t;return null===(t=e.userInfo)||void 0===t?void 0:t.secUserId}),c=function(){return(0,s.useChatStore)(function(e){return e.systemConfig},o.shallow)},u=function(){var e=(0,r._)((0,i.useState)(s.useChatStore.persist.hasHydrated),2),t=e[0],n=e[1];return(0,i.useEffect)(function(){var e=s.useChatStore.persist.onHydrate(function(){return n(!1)}),t=s.useChatStore.persist.onFinishHydration(function(){return n(!0)});return n(s.useChatStore.persist.hasHydrated()),function(){e(),t()}},[]),t},d=function(){var e=c(),t=e.unlikeFeedbackMeta,n=e.feedbackPlaceholder;return{presetOptions:t.filter(function(e){return Number.isInteger(e.feedback_detail_type)}).map(function(e){return{text:e.feedback_display||"",value:e.feedback_detail_type||0}}),placeholder:n}},f=function(){var e=c(),t=e.likeFeedbackMeta,n=e.feedbackPlaceholder;return{presetOptions:t.filter(function(e){return Number.isInteger(e.feedback_detail_type)}).map(function(e){return{text:e.feedback_display||"",value:e.feedback_detail_type||0}}),placeholder:n}},g=function(){var e=c(),t=e.botReportMeta,n=e.messageReportMeta;return{botPresetOptions:t.filter(function(e){return Number.isInteger(e.id)}).map(function(e){return{text:e.display_content||"",value:e.id||0}}),messagePresetOptions:n.filter(function(e){return Number.isInteger(e.id)}).map(function(e){return{text:e.display_content||"",value:e.id||0}})}};(0,a.transformSelectorWithArgs)(function(e){var t;return null===(t=e.userInfo)||void 0===t?void 0:t.userIdStr});var v=function(){return(0,s.useChatStore)(function(e){return e.userOgfQuota},o.shallow)}},38549:function(e,t,n){"use strict";n.d(t,{useRetryReceiveMessage:function(){return a},useRetrySendMessage:function(){return o}});var r=n("87382"),i=n("53277"),o=function(e){var t=e.sendMessage,n=e.messageLink,i=e.conversationId;return function(){var e=(0,r.createReportEvent)({eventName:"retry_send_message",meta:{conversation_id:i,message_id:null==n?void 0:n.messageId,is_local_message:null==n?void 0:n.isLocalMessage}});try{t({scene:"resend",resend:{messageLink:n}}),e.successIfIdle(3e3)}catch(t){e.error({reason:"send message happen error, retry failed"})}}},a=function(e){var t=e.sendMessage,n=e.messageLink,o=e.conversationId;return function(){var e=(0,i.getMessageFromStore)(o,n),a=(0,r.createReportEvent)({eventName:"retry_receive_message",meta:{conversation_id:o,reply_id:null==e?void 0:e.reply_id,message_id:null==e?void 0:e.message_id}}),s=(e||{}).reply_id;if(!s){a.error({reason:"reply_id is null, retry failed"});return}var l={isLocalMessage:!1,messageId:s},c=(0,i.getMessageFromStore)(o,l);try{t({replace:{messageLink:l},scene:"resend"}),a.successIfIdle(3e3)}catch(e){a.error({reason:"send message happen error, retry failed",error:e,meta:{content_type:null==c?void 0:c.content_type,is_local_message:null==l?void 0:l.isLocalMessage}})}}}},54769:function(e,t,n){"use strict";n.d(t,{useActiveRegenerateMessage:function(){return y},useClearContext:function(){return T},useFeedbackStatus:function(){return x},useLastMessage:function(){return R},useLastSectionId:function(){return M},useLocalMessageMap:function(){return C},useMessage:function(){return S},useMessageAvailableIndex:function(){return b},useMessageLinks:function(){return h},useMessageLinksWithStatus:function(){return _},useMessageListByMessageLinks:function(){return w},useMessageMap:function(){return k},useSuggestMessage:function(){return I}});var r=n("9161"),i=n("16044"),o=n("6462"),a=n("83053"),s=n("66080"),l=n("96988"),c=n("45981"),u=n("10630"),d=n("46750"),f=n("87575"),g=n("68602"),v=n("10173"),p=n("53277"),h=(0,c.transformSelectorWithArgs)(function(e,t){return e.messageLinkMap[t]||[]}),m=(0,c.transformSelectorWithArgs)(function(e,t){return e.messageListStatusMap[t]||{}}),_=(0,c.transformSelectorWithArgs)(function(e,t){var n=m.raw(e,t),r=h.raw(e,t),i=m.raw(e,v.assistantConvIdWithoutCache),o=h.raw(e,v.assistantConvIdWithoutCache),a=u.useConversation.raw(e,t);return(null==a?void 0:a.conversation_type)===s.ConversationType.Coco&&0===r.length?{status:i,messageLinks:o,resolveConversationId:v.assistantConvIdWithoutCache}:{status:n,messageLinks:r,resolveConversationId:t}}),x=(0,c.transformSelectorWithArgs)(function(e,t,n){var r,i=(null===(r=e.messageFeedbackMap[t])||void 0===r?void 0:r[n])||{};return{liked:i.feedback_type===l.FeedbackType.Like,disliked:i.feedback_type===l.FeedbackType.Unlike,detail:i}},a.default),b=(0,c.transformSelectorWithArgs)(function(e,t){var n;return Number(null===(n=e.conversationMap[t])||void 0===n?void 0:n.message_cursor)||0}),k=(0,c.transformSelectorWithArgs)(function(e,t){return e.messageMap[t]||{}}),C=(0,c.transformSelectorWithArgs)(function(e,t){return e.localMessageMap[t]||{}}),S=(0,c.transformSelectorWithArgs)(function(e,t,n){if(n){var r;return null===(r=(n.isLocalMessage?e.localMessageMap:e.messageMap)[t])||void 0===r?void 0:r[n.messageId]}}),w=(0,c.transformSelectorWithArgs)(function(e,t,n){var r=(0,d.createGetMessage)((0,d.getMessageState)(e,t)),i=[],o=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,f=r(u);f&&i.push(f)}}catch(e){a=!0,s=e}finally{try{!o&&null!=c.return&&c.return()}finally{if(a)throw s}}return i});(0,c.transformSelectorWithArgs)(function(e,t,n){var r;return n?null===(r=e.localMessageMap[t])||void 0===r?void 0:r[n]:void 0});var y=(0,c.transformSelectorWithArgs)(function(e,t,n){var a,s,l,c=e.regenerateMessageMap[t],u=e.messageLinkMap[t],v=e.messageMap[t],h=(0,p.getMessageFromStore)(t,n,e),m=function(){if((null==h?void 0:h.reply_id)&&(0,f.isRegenerateMessage)(h))return(0,f.isImageMessage)(h)?(0,g.findAllMessageLinkByMatchEqualId)({messageLinks:u,replyId:h.reply_id,getMessage:(0,d.createGetMessage)({localMessageMap:e.localMessageMap[t],messageMap:e.messageMap[t]})}):n.regen_head?null==u?void 0:u.filter(function(e){return e.regen_head===n.regen_head||e.messageId===n.regen_head}).map(function(e){return(0,i._)((0,r._)({},e),{regen_head:e.regen_head||e.messageId})}):void 0}(),_=null===(a=[n].concat((0,o._)(null!=m?m:[])).map(function(e){return e.messageId in v?v[e.messageId]:null}).find(function(e){return null==e?void 0:e.reply_id}))||void 0===a?void 0:a.reply_id;return{activeRegenerateMessage:(null==m?void 0:m.length)?null===(s=c.messageMap)||void 0===s?void 0:s[n.messageId]:void 0,regenerateActiveIndex:null==m?void 0:m.findIndex(function(e){return e.messageId===n.messageId}),isRegenerateHead:!!(n.regen_head&&n.messageId),isRegenerateTail:!!(n.regen_head&&(null==m?void 0:null===(l=m[m.length-1])||void 0===l?void 0:l.messageId)===n.messageId),regenerateMessageLinks:m,replyFromMessage:_&&v[_]||void 0}}),I=(0,c.transformSelectorWithArgs)(function(e,t,n){var r=e.suggestMessageMap[t];return(null==r?void 0:r.replyId)===n?r:void 0}),M=(0,c.transformSelectorWithArgs)(function(e,t){return e.lastSectionIdMap[t]}),T=(0,c.transformSelectorWithArgs)(function(e){return e.clearContext}),R=(0,c.transformSelectorWithArgs)(function(e,t){return e.lastMessageMap[t]})},15504:function(e,t,n){"use strict";n.d(t,{isRefAttachment:function(){return r},isRefLink:function(){return i}});var r=function(e){return(null==e?void 0:e.type)==="attachment"},i=function(e){return(null==e?void 0:e.type)==="link"}},99138:function(e,t,n){"use strict";n.d(t,{RegenerateType:function(){return i}});var r,i=((r={})[r.RegenerateTypeUnknown=0]="RegenerateTypeUnknown",r[r.RegenerateTypeDefault=1]="RegenerateTypeDefault",r[r.RegenerateTypeSearch=2]="RegenerateTypeSearch",r[r.RegenerateTypeOgf=3]="RegenerateTypeOgf",r)},37026:function(e,t,n){"use strict";n.d(t,{compressImage:function(){return v},getImageSizeLimit:function(){return d}});var r,i=n("92769"),o=n("88802"),a=n("45889"),s=n("87382"),l=n("78597"),c=31457280,u=10485760,d=function(){return(0,l.isAppleWebkit)()?c:u},f=function(e){return"".concat(Number(e/1048576).toFixed(3)," MB")},g={maxSizeMB:10,maxWidthOrHeight:2560,useWebWorker:!0};var v=(r=(0,i._)(function(e){var t,n,r,i,c;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(r=(0,s.createReportEvent)({eventName:"compress_image"}),!(null==e?void 0:null===(t=e.type)||void 0===t?void 0:t.includes("image/gif"))&&((null==e?void 0:null===(n=e.type)||void 0===n?void 0:n.includes("image/svg"))||e.size.valueOf()<u||(0,l.isAppleWebkit)()))return r.success({meta:{skip:1,type:e.type}}),[2,e];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,a.default)(e,g)];case 2:return i=o.sent(),r.success({meta:{skip:0,type:e.type,before_size:f(e.size),after_size:f(i.size)}}),[2,i];case 3:return c=o.sent(),r.error({reason:"compress_image_failed",error:c,meta:{type:e.type}}),[2,e];case 4:return[2]}})}),function(e){return r.apply(this,arguments)})},44130:function(e,t,n){"use strict";n.d(t,{AttachmentArea:function(){return p}});var r=n("97458"),i=n("52983"),o=n("31566"),a=n("75761"),s=n("25946"),l=n("6668"),c=n("92515"),u=n("13740"),d=n("48163"),f=n("82180"),g=n("21879"),v=n("24093"),p=function(e){var t=e.chatId,n=e.config,p=e.onChangeUploadStatus,h=e.onDelete,m=e.ChatInputImageSlot,_=e.ChatInputFileSlot,x=(0,f.useUploadConfig)({config:n}),b=x.image,k=x.fileContent,C=x.upload,S=x.reUpload,w=x.cancel,y=C.percent,I=C.status,M=b.imageList,T=b.uri,R=b.url;(0,i.useEffect)(function(){100===y&&p(!0)},[y]);var E=function(){return S(t)};return(0,r.jsx)("div",{className:"relative flex p-14 gap-8 border-box border-b border-solid border-[var(--s-color-border-secondary)] border-x-0 border-t-0 cursor-pointer overflow-hidden",children:(0,r.jsx)(d.AttachmentBox,{status:I,deleteButton:(0,r.jsx)(u.DeleteButton,{onClick:function(){o.FlowTea.trackEvent("click_attachment_delete",{bot_id:(0,a.getBotIdByConversationId)(t),uri:T,success:100===y?"1":"0"}),h(),w()}}),children:(0,v.isImage)(n)?(0,r.jsx)(m,{url:R||"hack_fallback_url",imageList:M,progressNode:(0,g.isUploading)(I)&&(0,r.jsx)(c.Overlay,{children:(0,r.jsx)(l.CircleProgress,{percent:Math.ceil(y||0)})}),retryNode:(0,g.isRetry)(I)&&(0,r.jsx)(c.Overlay,{onClick:E,children:(0,r.jsx)(s.RegenerateIcon,{})})}):(0,v.isFile)(n)?(0,r.jsx)(_,{fileContent:k,status:I,percent:Math.ceil(y||0),retryNode:(0,g.isRetry)(I)&&(0,r.jsx)(c.Overlay,{onClick:E,children:(0,r.jsx)(s.RegenerateIcon,{})})}):null})})}},48163:function(e,t,n){"use strict";n.d(t,{AttachmentBox:function(){return l}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("21879"),s=n("29889"),l=function(e){var t=e.status,n=e.children,i=e.deleteButton;return(0,r.jsxs)("div",{className:o()("relative",s.box,t&&(0,a.isRetry)(t)&&'after:content-[""] after:absolute after:inset-0 after:border after:border-solid after:border-[var(--conditional-danger-50,#ff3b30)] after:rounded-10 after:pointer-events-none'),children:[n,i]})}},30316:function(e,t,n){"use strict";n.d(t,{ChatInputFile:function(){return v}});var r,i=n("92769"),o=n("88802"),a=n("97458"),s=n("87608"),l=n.n(s),c=n("78597"),u=n("78142"),d=n("32386"),f=n("21879");var g=(r=(0,i._)(function(e){var t,n,r,i;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(!e)return[2];return[4,u.FlowApi.apiService.resource.GetFileURL({uris:[e],type:"file"})];case 1:return(i=null==(r=o.sent().data)?void 0:null===(n=r.file_urls)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.main_url)&&window.open(i),[2]}})}),function(e){return r.apply(this,arguments)}),v=function(e){var t=e.fileContent,n=e.percent,r=void 0===n?0:n,i=e.status,o=e.width,s=e.height,u=e.retryNode;if(!t)return null;var v=t.file_name,p=(0,d.getFileIcon)((0,c.getFileExt)(v),"colorful");return(0,a.jsxs)("div",{onClick:function(){return g(t.key||"")},className:l()("relative flex items-center border-box rounded-10 whitespace-normal cursor-pointer select-none bg-[var(--s-color-bg-trans)] overflow-hidden",(0,f.isUploading)(i)?"text-[var(--s-color-text-tertiary)]":"text-[var(--s-color-text-secondary)]"),style:{width:void 0===o?150:o,height:void 0===s?48:s},children:[(0,a.jsx)(p,{className:l()("flex items-center justify-center w-24 h-24 ml-8 rounded-8",(0,f.isUploading)(i)&&"opacity-[.4]")}),(0,a.jsxs)("div",{className:"ml-8 pr-12 overflow-hidden",children:[(0,a.jsx)("div",{className:"leading-14 h-15 text-12 font-[500] truncate",children:v}),(0,a.jsx)("div",{className:"mt-2 leading-14 text-11 truncate text-[var(--s-color-text-tertiary)]",children:(0,f.isUploading)(i)?"".concat(r,"%"):(0,c.getFileType)((0,c.getFileExt)(v))})]}),(0,f.isUploading)(i)&&0!==r&&(0,a.jsx)("div",{className:"absolute top-0 left-0 bottom-0 bg-[var(--s-color-border-secondary)]",style:{width:"".concat(r,"%")}}),u]})}},81926:function(e,t,n){"use strict";n.d(t,{ChatInputImage:function(){return c}});var r=n("97458");n("52983");var i=n("87608"),o=n.n(i),a=n("96451"),s=n("87681"),l=n("74017"),c=function(e){var t=e.url,n=e.imageList,i=e.width,c=void 0===i?48:i,u=e.height,d=void 0===u?48:u,f=e.progressNode,g=e.retryNode,v=(0,l.useImagePreview)({conversationId:"",messageId:""},n,s.ContentSource.Original),p=v.imageEventCallbacks,h=p.onImageClick,m=p.onImageRender,_=v.renderImagePreview;return(0,r.jsxs)("div",{className:o()("relative overflow-hidden rounded-10",'after:content-[""] after:absolute after:inset-0 after:border after:border-solid after:border-[var(--s-color-border-secondary)] after:rounded-10 after:pointer-events-none'),style:{width:c,height:d},children:[(0,r.jsx)(a.Image,{onImageClick:function(e){return null==h?void 0:h(e,t)},onImageRender:function(e){var t=e.src;return t&&m(t)},src:t,imageOptions:{squareContainer:!0,objectFit:"cover",draggable:!1,width:c,height:d},errorClassName:"bg-[var(--neutral-transparent-2)]"},t),f,g,_()]})}},12087:function(e,t,n){"use strict";n.d(t,{ChatInputPDFLink:function(){return s}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("25946"),s=function(e){var t=e.url,n=e.width,i=e.height;return(0,r.jsxs)("div",{onClick:function(){var e;return t&&(e=t,window.open(e))},className:o()("relative flex items-center border-box rounded-10 whitespace-normal cursor-pointer select-none bg-[var(--s-color-bg-trans)] overflow-hidden text-[var(--s-color-text-secondary)]"),style:{width:void 0===n?150:n,height:void 0===i?48:i},children:[(0,r.jsx)(a.FileTxtIcon,{className:"flex items-center justify-center w-24 h-24 ml-8 rounded-8"}),(0,r.jsxs)("div",{className:"ml-8 pr-12 overflow-hidden",children:[(0,r.jsx)("div",{className:"leading-14 h-15 text-12 font-[500] truncate",children:t}),(0,r.jsx)("div",{className:"mt-2 leading-14 text-11 truncate text-[var(--s-color-text-tertiary)]",children:"PDF Link"})]})]})}},13740:function(e,t,n){"use strict";n.d(t,{DeleteButton:function(){return l}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("8407"),s=n("29889"),l=function(e){var t=e.onClick;return(0,r.jsx)(a.DeleteFileIcon,{className:o()("hidden absolute top-0 right-0 cursor-pointer",s["delete-button"]),onClick:t})}},92515:function(e,t,n){"use strict";n.d(t,{Overlay:function(){return a}});var r=n("97458"),i=n("87608"),o=n.n(i),a=function(e){return(0,r.jsx)("div",{className:o()("absolute inset-0 flex items-center justify-center rounded-10 bg-[var(--s-color-text-tertiary)] cursor-pointer",e.className),onClick:e.onClick,style:{backgroundColor:e.disableBg?"transparent":""},children:e.children})}},6668:function(e,t,n){"use strict";n.d(t,{CircleProgress:function(){return o}});var r=n("97458"),i=n("53268"),o=function(e){var t=e.percent,n=e.width,o=e.strokeWidth;return(0,r.jsx)(i.Progress,{className:"text-[var(--s-color-text-invert-primary)] text-10 font-[700]",type:"circle",width:n||32,strokeWidth:o||2,stroke:"#fff",orbitStroke:"rgba(255,255,255,0.6)",percent:Math.ceil(t),showInfo:!0})}},24093:function(e,t,n){"use strict";n.d(t,{isFile:function(){return i},isImage:function(){return r},isLink:function(){return o}});var r=function(e){return"image"===e.type},i=function(e){return"file"===e.type},o=function(e){return"link"===e.type}},21879:function(e,t,n){"use strict";n.d(t,{AttachmentStatus:function(){return i},isNormal:function(){return o},isRetry:function(){return a},isUploading:function(){return s}});var r,i=((r={}).Uploading="Uploading",r.Retry="Retry",r.Normal="Normal",r),o=function(e){return e===i.Normal},a=function(e){return e===i.Retry},s=function(e){return e===i.Uploading}},9955:function(e,t,n){"use strict";n.d(t,{useAttachmentCon:function(){return a}});var r=n("40509"),i=n("52983"),o=n("62920"),a=function(){var e=(0,r._)((0,i.useState)(),2),t=e[0],n=e[1],a=(0,r._)((0,i.useState)(!1),2),s=a[0],l=a[1],c=o.useChatStore.getState();return{hasAccessoryArea:!!t,attachmentConfig:t,uploadSuccess:s,setUploadSuccess:l,preprocess:function(e,t,r){var i=c.preprocessFile(e,t,r,"file"===t).local_key;n({type:t,file:e,localKey:i,from:r.from})},processLink:function(e){n({type:"link",url:e})},reset:function(){n(void 0),l(!1)}}}},82180:function(e,t,n){"use strict";n.d(t,{useUploadConfig:function(){return s}});var r=n("33434"),i=n("62920"),o=n("75761"),a=n("21879"),s=function(e){var t,n,s,l,c,u=e.config,d=null==u?void 0:u.localKey,f=null==u?void 0:u.file,g=(0,i.useChatStore)(function(e){return d?e.preprocessTaskMap[d]:void 0},r.shallow),v=null==g?void 0:g.key,p=(null==g?void 0:g.failed)?a.AttachmentStatus.Retry:(null==g?void 0:g.loading)?a.AttachmentStatus.Uploading:a.AttachmentStatus.Normal,h=null==g?void 0:g.percent,m=i.useChatStore.getState(),_=v||(null===(t=m.preprocessTaskMap[null!=d?d:""])||void 0===t?void 0:t.key),x={file_name:f&&"name"in f&&(null==f?void 0:f.name)||"",key:_||""};return{image:{imageList:[{key:_||"",image_thumb:{url:null!==(n=null==g?void 0:g.blobUrl)&&void 0!==n?n:"",width:0,height:0},image_ori:{url:null!==(s=null==g?void 0:g.blobUrl)&&void 0!==s?s:"",width:0,height:0}}],uri:null!==(l=null==g?void 0:g.key)&&void 0!==l?l:"",url:null!==(c=null==g?void 0:g.blobUrl)&&void 0!==c?c:""},fileContent:x,upload:{status:p,percent:h},reUpload:function(e){var t;m.reUpload(null!=d?d:"",null!==(t=(0,o.getBotIdByConversationId)(e))&&void 0!==t?t:"")},cancel:function(){g&&m.cancel(g.fileKey)}}}},2989:function(e,t,n){"use strict";n.d(t,{ChatFooterDisclaimer:function(){return a}});var r=n("97458"),i=n("3461"),o=n("10378"),a=function(){var e=(0,i.useChat)().t;return(0,r.jsx)("div",{className:o["footer-text"],children:(0,r.jsx)("span",{className:o["disclaimer-text"],children:e("im_bottom_disclaimer_cn")})})}},49767:function(e,t,n){"use strict";n.d(t,{ChatFooter:function(){return d}});var r,i=n("97458"),o=n("52983"),a=n("87608"),s=n.n(a),l=n("32156"),c=n("27027"),u=n("10378");var d=(r=function(e){var t=e.children,n=e.renderDisableTips,r=e.renderInput,o=e.renderActionBar,a=e.renderFooterAction,c=e.renderDisclaimer,d=e.className;return(0,i.jsx)(l.SamanthaLayout.MaxWidthLayout,{children:(0,i.jsxs)("div",{className:s()(u.footer,d),children:[null==n?void 0:n(),null==a?void 0:a(),null==o?void 0:o(),null==r?void 0:r(),null==c?void 0:c(),t]})})},(0,o.forwardRef)(function(e,t){var n=e.ChatFooterDisableTipSlot,o=e.ChatInputSlot,a=e.ChatTemplateBarSlot,s=e.ChatFooterActionSlot,l=e.ChatFooterDisclaimerSlot,u=e.chatId,d=e.chatType,f=e.children;return(0,i.jsx)(c.ErrorTransmitter,{errorBoundaryName:"chat_input_error",children:(0,i.jsx)(r,{renderDisableTips:function(){return n&&(0,i.jsx)(n,{chatId:u,chatType:d})},renderInput:function(){return o&&(0,i.jsx)(o,{ref:t,chatId:u,chatType:d})},renderActionBar:function(){return a&&(0,i.jsx)(a,{chatId:u,chatType:d})},renderFooterAction:function(){return s&&(0,i.jsx)(s,{})},renderDisclaimer:function(){return l&&(0,i.jsx)(l,{})},children:f})})}))},4608:function(e,t,n){"use strict";n.d(t,{ChatInputRefContent:function(){return d}});var r=n("97458"),i=n("78597"),o=n("19266"),a=n("15504"),s=n("62920"),l=n("32386"),c=n("3461"),u=n("54319"),d=function(e){var t,n,d=e.refContent,f=e.onDelete,g=(0,c.useChat)().chatViewConfig,v=(null==g?void 0:g.chatId)||"";var p=(t=d,(0,a.isRefLink)(t)?t.link:(0,a.isRefAttachment)(t)?t.fileName:"");var h=(0,l.getFileIcon)((n=d,(0,a.isRefLink)(n)?(0,i.getFileExt)(n.link):(0,a.isRefAttachment)(n)?(0,i.getFileExt)(n.fileName):""),"colorful");return(0,r.jsx)("div",{className:u.container,children:(0,r.jsxs)("div",{className:u["ref-content"],children:[(0,r.jsx)("div",{className:u["line-box"],children:(0,r.jsx)("div",{className:u.line})}),(0,r.jsxs)("div",{className:u.info,children:[(0,r.jsx)(h,{className:u.icon}),(0,r.jsx)("div",{className:u.name,children:p})]}),(0,r.jsx)("div",{className:u["close-box"],onClick:f||function(){return s.useChatStore.getState().clearRefContent(v)},children:(0,r.jsx)(o.ReactComponent,{className:u["close-icon"]})})]})})}},72490:function(e,t,n){"use strict";n.d(t,{ChatInput:function(){return z},ChatInputGlueComposer:function(){return W},useChatInputData:function(){return q}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("88802"),l=n("97458"),c=n("52983"),u=n("33434"),d=n("79555"),f=n("78597"),g=n("10630"),v=n("59657"),p=n("87681"),h=n("62920"),m=n("59312"),_=n("37026"),x=n("75761"),b=n("31566"),k=n("52420"),C=n("24815"),S=n("53268"),w=n("14231"),y=n("57785"),I=n("51484"),M=n("71133"),T=n("51340"),R=n("19970"),E=n("10824"),j=n("41648"),B=n("67427"),L=n("34699"),N=n("3461"),A=n("4608"),F=n("9955"),P=n("65241"),O=n("6536"),D=n("27202"),H=n("91342"),q=function(){return{isConversationDisabled:(0,E.useConversationDisabled)().isDisabled}},W=function(e,t){return(0,c.forwardRef)(function(n,H){var q,W,z,V=n.chatId,U=n.chatType,K=n.UploadButtonGroupSlot,G=n.AttachmentAreaSlot,Q=n.OgfButtonSlot,Y=(0,c.useRef)(!1),J=(0,c.useRef)({prompt:"",templateId:"",source:p.ContentSource.Original}),X=function(){J.current={prompt:"",templateId:"",source:p.ContentSource.Original}},Z=(0,N.useChat)(),$=Z.sendMessage,ee=Z.t,et=Z.getPopupContainer,en=Z.enableNewWritingSkill,er=(0,E.useIsSamantha)(V,U),ei=(0,D.useToast)(),eo=(0,a._)((0,h.useChatStore)(function(e){return[e.activeSkillId,e.skillMap]},u.shallow),2),ea=eo[0],es=eo[1],el=null==es?void 0:es[ea],ec=(0,m.useSystemConfigInfo)(),eu=ec.uploadFileMaxSize,ed=ec.uploadFileAllowedTypes,ef=(0,E.useBotSendImageEnabled)(V,U),eg=(0,E.useBotSendFileEnabled)(V,U),ev=(0,E.useBotSendWithAttachmentAreaEnabled)(V,U),ep=t({chatId:V,chatType:U}),eh=ep.isConversationDisabled,em=ep.disabledWrapperClick,e_=(0,F.useAttachmentCon)(),ex=e_.hasAccessoryArea,eb=e_.attachmentConfig,ek=e_.uploadSuccess,eC=e_.setUploadSuccess,eS=e_.preprocess,ew=e_.reset,ey=eh||U===p.ChatType.LocalConversation,eI=U===p.ChatType.NewThread&&null!==(z=null===(W=g.useMainConversationLink.raw(h.useChatStore.getState()))||void 0===W?void 0:W.conversationId)&&void 0!==z?z:V,eM=(0,v.useRefContent)(V),eT=(0,c.useCallback)(function(e){var t=(0,f.getFileExt)(e.name);return(er?(0,O.uploadFileAllowedTypesInSamantha):ed).includes(t)},[er,ed]),eR=(0,c.useCallback)(function(e){var t=J.current.source;J.current.source===p.ContentSource.UseTemplate&&J.current.prompt!==e&&(t=p.ContentSource.ChangeTemplate),(0,w.sendMessageInChatInput)({chatId:V,text:e,attachment:eb,source:t,templateSource:J,activeSkill:el,originalSendMessage:$,isSamantha:er}),ew(),X(),en||(0,j.closeSkillPanel)()},[V,eb,el,er]);var eE=(0,c.useCallback)((q=(0,r._)(function(e,t){var n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(!ef)return[2];return[4,(0,_.compressImage)(e)];case 1:if(n=r.sent(),!eT(e))return ei.error(ee("file_not_supported")),[2];if(n.size>(0,_.getImageSizeLimit)())return[2,ei.error(ee("image_oversize"))];return ev?("click"!==t&&ew(),eS(n,"image",{moduleActionId:"",conversationId:U===p.ChatType.NewThread?"":eI,chatType:(U===p.ChatType.NewThread?"default_new":(0,x.getChatTypeForTea)(eI))||"other_default",skillType:0,skillId:"",uploadFrom:"upload_pinbutton",botId:(0,x.getBotIdByConversationId)(eI)||"",from:t})):$({scene:"album",image:n,from:t}),[2]}})}),function(e,t){return q.apply(this,arguments)}),[V,ef,ev,eT]),ej=(0,c.useCallback)(function(e,t){if(!!eg){if(e.size>(0,d.default)(eu)){ei.error(ee("file_size_exceeds_limit"));return}if(!eT(e)){ei.error(ee("file_not_supported"));return}ev?("click"!==t&&ew(),eS(e,"file",{moduleActionId:"",conversationId:U===p.ChatType.NewThread?"":eI,chatType:(U===p.ChatType.NewThread?"default_new":(0,x.getChatTypeForTea)(eI))||"other_default",skillType:0,skillId:"",uploadFrom:"upload_pinbutton",botId:(0,x.getBotIdByConversationId)(eI)||"",from:t})):$({scene:"file",file:e,from:t})}},[V,eg,ev,eT]);(0,c.useEffect)(function(){Y.current=!1},[V]);var eB=(0,c.useRef)(null),eL=(0,f.useSize)(eB),eN=(0,a._)((0,c.useState)(0),2),eA=eN[0],eF=eN[1];(0,c.useEffect)(function(){return eF(Date.now())},[el]);var eP=(0,h.useChatStore)(function(e){var t,n=null===(t=g.useMainConversationLink.raw(e))||void 0===t?void 0:t.conversationId,r=g.useConversation.raw(e,n);return{conversation_id:V,bot_id:null==r?void 0:r.bot_id,conversation_type:null==r?void 0:r.conversation_type,current_page:"chat"}},u.shallow),eO=(0,h.useChatStore)(function(){return(0,o._)((0,i._)({module_actionid:eA},eP),{chat_type:U,is_gpt4_switch_show:0,is_gpt4:0,skill_id:null==el?void 0:el.skill_id,skill_name:null==el?void 0:el.show_name})},u.shallow),eD=(0,L.useChatSkillPopover)(null==eL?void 0:eL.width,"input_dropdown",eP),eH=eD.enabled,eq=eD.setMoreVis,eW=eD.popoverProps,ez=(0,c.useCallback)(function(){return h.useChatStore.getState().clearRefContent(V)},[V]);return(0,l.jsxs)(l.Fragment,{children:[eH&&!el&&(0,l.jsx)(S.Popover,(0,o._)((0,i._)({},eW),{getPopupContainer:et,spacing:1,children:(0,l.jsx)("div",{ref:eB,className:"w-full h-0","aria-label":"skill-at-anchor"})})),(0,l.jsx)(e,{ref:H,disabled:ey,OgfButtonSlot:Q||void 0,renderTools:function(e,t){return(0,l.jsx)(K,{onClick:function(e){var n,r;"file"===e?b.FlowTea.trackEvent("click_upload_file_entrance",{bot_id:(0,x.getBotIdByConversationId)(V),current_page:"chat"}):"image"===e&&b.FlowTea.trackEvent("click_upload_entrance",{bot_id:(0,x.getBotIdByConversationId)(V)}),null===(r=t.current)||void 0===r||null===(n=r.blur)||void 0===n||n.call(r)},disabled:e,onSubmitImage:eE,onSubmitFile:ej,hasAccessoryArea:ex})},onSubmit:eR,onPaste:function(e){var t,n,r=e.clipboardData.files;if(r.length>1){ei.warning(ee("multiple_files_not_supported"));return}var i=r[0];if(ef&&(0,P.fileIsImage)(i))null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),eE(i,"paste");else if(eg&&i)null==e||null===(n=e.preventDefault)||void 0===n||n.call(e),ej(i,"paste");else if("clipboardData"in e){var o=e.clipboardData.getData("text");o&&o.length>20&&(J.current.source=p.ContentSource.Paste,J.current.templateId="")}},onAutoTransValue:function(e,t){J.current={prompt:e,templateId:t,source:p.ContentSource.UseTemplate}},onKeyDown:function(){!Y.current&&(b.FlowTea.trackEvent("message_editing",{edit_method:"text"}),Y.current=!0)},skillTrackParams:eO,placeholder:er?(null===k.FlowConfig||void 0===k.FlowConfig?void 0:k.FlowConfig.isGuest)&&ey?ee("homepage_chatbox_diabled_desc"):(null==el?void 0:el.skill_type)===C.SkillType.Search?ee("skill_search_input_placeholder"):ee("default_input_placeholder"):ee("send_message"),sendMessageHoverText:ee("send_button_hover_text"),unableToSend:!ek&&ex,renderInputTop:function(){return(0,l.jsxs)(l.Fragment,{children:[!!el&&(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)(B.SkillHeader,{background:"normal",skill:el,closeEvent:function(){return b.FlowTea.trackEvent("skill_module_close",eO)}})}),eb&&(0,l.jsx)(G,{config:eb,onDelete:ew,chatId:V,onChangeUploadStatus:eC})]})},renderRefContent:function(){return el||ex||!eM?null:(0,l.jsx)(A.ChatInputRefContent,{refContent:eM})},allowEmptySubmit:!!ex&&ek,hasAccessoryArea:ex,resetAccessoryArea:ew,WritingAssistantChatInputSlot:y.WritingAssistantChatInput,TranslateChatInputSlot:I.TranslateChatInput,ReadDocChatInputSlot:M.ReadDocChatInput,ReadUrlChatInputSlot:T.ReadUrlChatInput,ImageCreationChatInputSlot:R.ImageCreationChatInput,onEmptyAt:eq,activeSkill:el,clearRefContent:ez,disabledWrapperClick:em})]})})},z=W(H.ChatInputUI,q)},14231:function(e,t,n){"use strict";n.d(t,{sendMessageInChatInput:function(){return f}});var r=n("9161"),i=n("16044"),o=n("80610"),a=n("62920"),s=n("44750"),l=function(e){return{blob:e.file,local_key:e.localKey,from:e.from}},c=function(e){return{text:e,scene:"keyboard"}},u=function(e){return{scene:"album",image:e.file,local_key:e.localKey,from:e.from}},d=function(e){return{scene:"file",file:e.file,local_key:e.localKey,from:e.from}},f=function(e){var t=e.chatId,n=e.text,f=e.attachment,g=e.source,v=e.templateSource,p=e.activeSkill,h=e.isSamantha,m=e.originalSendMessage;n=n.trim();var _=function(e){return(0,i._)((0,r._)({},e),{content_source:{source:g,templateId:v.current.templateId}})};if(f){if("image"===f.type){if(n){if(h)m(_({compositeContent:{text:n,images:[l(f)]},scene:"keyboard"}));else m([u(f),_(c(n))])}else m(u(f))}else if("file"===f.type){if(n){if(h)m(_({compositeContent:{text:n,files:[l(f)]},scene:"keyboard"}));else m([d(f),_(c(n))])}else m(d(f))}else n&&m(_(c(n)))}else if(n){var x={},b={};p&&(a.useChatStore.getState().clearRefContent(t),(0,o.default)(x,{input_skill:JSON.stringify({skill_id:p.skill_id,skill_type:p.skill_type,variables:{}})}),b={use_skill:!0,skill_id:p.skill_id,skill_name:(0,s.getSkillTeaName)(p)}),m((0,r._)((0,i._)((0,r._)({},_(c(n))),{extraExt:x}),b))}}},49545:function(e,t,n){"use strict";n.d(t,{ChatPage:function(){return b}});var r,i,o,a=n("83316"),s=n("9161"),l=n("16044"),c=n("89334"),u=n("97458"),d=n("52983"),f=n("87608"),g=n.n(f),v=n("87382"),p=n("78597"),h=n("3461"),m=n("65241"),_=n("21939"),x=(0,d.forwardRef)(function(e,t){var n,r,i=e.children,o=e.renderChatHeader,c=e.renderChatFooter,f=(0,h.useChat)(),v=f.scrollRef,x=f.chatViewRef,b=f.chatInputRef,k=f.chatViewConfig,C=f.chatPageTargetRef,S=f.chatDropTargetRef,w=f.sendMessage,y=(0,m.useDragOver)({conversationId:null!==(n=null==k?void 0:k.chatId)&&void 0!==n?n:""}),I=y.isOver,M=y.divProps;return(0,d.useImperativeHandle)(t,function(){return{scrollRef:v,chatViewRef:x,chatInputRef:b,chatPageTargetRef:C,chatDropTargetRef:S,sendMessage:w}},[]),(0,u.jsxs)("div",(0,l._)((0,s._)({ref:C},M),{className:g()(_.container,"flex-1 min-w-0",(r={},(0,a._)(r,_.dragover,I),(0,a._)(r,_.ipad,(0,p.getIsIPad)()),r)),children:[(0,u.jsx)("div",{className:_.header,children:null==o?void 0:o()}),(0,u.jsx)("div",{className:_.inter,children:i({chatViewRef:x})}),(0,u.jsx)("div",{className:_.footer,children:null==c?void 0:c({chatInputRef:b})}),(0,u.jsx)("div",{ref:S,className:_["drop-area"]})]}))});var b=(r=x,i=0,o=(0,d.forwardRef)(function(e,t){var n=e.ChatViewSlot,i=e.ChatFooterSlot,o=e.ChatHeaderSlot,a=e.ChatPageEmptySkeletonSlot,d=e.children,f=(0,c._)(e,["ChatViewSlot","ChatFooterSlot","ChatHeaderSlot","ChatPageEmptySkeletonSlot","children"]),g=(0,h.useChat)().chatViewConfig;return g?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r,(0,l._)((0,s._)({ref:t},g,f),{renderChatHeader:function(){return o&&(0,u.jsx)(o,(0,s._)({},g))},renderChatFooter:function(e){var t=e.chatInputRef;return i&&(0,u.jsx)(i,(0,s._)({ref:t},g))},children:function(e){var t=e.chatViewRef;return(0,u.jsx)(n,(0,s._)({ref:t},g))}})),d]}):a&&(0,u.jsx)(a,{})}),(0,d.forwardRef)(function(e,t){var n=e.ErrorFallbackSlot,r=(0,c._)(e,["ErrorFallbackSlot"]);return(0,u.jsx)(v.ErrorBoundary,{errorBoundaryName:"conversation_error",FallbackComponent:n,children:(0,u.jsx)(o,(0,s._)({ref:t},r))})}))},3461:function(e,t,n){"use strict";n.d(t,{ChatContext:function(){return v},ChatProvider:function(){return p},useChat:function(){return h}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("88802"),l=n("97458"),c=n("52983"),u=n("50013"),d=n("10824"),f={chatViewConfig:null,showBotHeat:!1,enableBotProfileOpenJump:!1,showBotHandleName:!1,enableSendImageMessage:!1,enableSendFileMessage:!1,enableSendWithAttachmentArea:!1,alwaysShowLargeAvatar:!1,enableNewWritingSkill:!1,enableMessageListVirtualScroll:!1,enableMessageDebug:!1},g=(0,o._)((0,i._)({},f),{sendMessage:function(e){throw Error("Except ChatContext when calling sendMessage('".concat(e,"')"))},t:function(e){throw Error("Except ChatContext when calling t('".concat(e,"')"))},scrollRef:(0,c.createRef)(),chatInputRef:(0,c.createRef)(),chatViewRef:(0,c.createRef)(),chatDropTargetRef:(0,c.createRef)(),chatPageTargetRef:(0,c.createRef)()}),v=(0,c.createContext)(null),p=function(e){var t,n,g,p=e.children,h=(0,a._)(e,["children"]),m=(0,c.useRef)();m.current=h.beforeSendMessage;var _=(0,c.useRef)();_.current=h.afterSendMessage;var x=(0,c.useCallback)(function(){var e;return null===(e=m.current)||void 0===e?void 0:e.call(m)},[]),b=(0,c.useCallback)(function(){var e;return null===(e=_.current)||void 0===e?void 0:e.call(_)},[]),k=(null===(n=h.chatViewConfig)||void 0===n?void 0:n.chatId)||"",C=null===(g=h.chatViewConfig)||void 0===g?void 0:g.chatType,S=(0,d.useIsSamantha)(k,C);var w=(0,c.useCallback)((t=(0,r._)(function(e){var t,n,r,i,o,a;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return r=h.scrollRef,null==(i=h.chatViewRef)||null===(n=i.current)||void 0===n||null===(t=n.onBeforeSendMessage)||void 0===t||t.call(n),[4,x()];case 1:if(!1===s.sent())return[2];s.label=2;case 2:if(s.trys.push([2,,4,6]),!r.current)return[2];return[4,(0,r.current.scrollToBottom)()];case 3:return s.sent(),[3,6];case 4:return null===(a=i.current)||void 0===a||null===(o=a.sendMessage)||void 0===o||o.call(a,e),[4,b()];case 5:return s.sent(),[7];case 6:return[2]}})}),function(e){return t.apply(this,arguments)}),[k,S]),y=(0,u.default)((0,o._)((0,i._)({sendMessage:w},h),{beforeSendMessage:x,afterSendMessage:b}),f);return(0,l.jsx)(v.Provider,{value:y,children:p})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.optionalProvider,n=e.overrideValueWithoutProvider,r=(0,c.useContext)(v);return r?r:(void 0!==t,(0,u.default)(n,g))}},83127:function(e,t,n){"use strict";n.d(t,{ActionButton:function(){return v}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("97458"),l=n("28377"),c=n("52983"),u=n("87608"),d=n.n(u),f=n("5601"),g=n("92650"),v=(0,c.forwardRef)(function(e,t){var n,u=e.text,v=e.className,p=e.icon,h=e.onShow,m=e.onClick,_=e.type,x=void 0===_?"default":_,b=e.testId,k=(0,l.useInView)(),C=k.ref,S=k.inView,w=(0,a._)((0,c.useState)(!0),2),y=w[0],I=w[1];return(0,c.useEffect)(function(){S&&(null==h||h())},[S]),(0,c.useLayoutEffect)(function(){if(y){var e=setTimeout(function(){return I(!1)},150);return function(){return clearTimeout(e)}}},[y]),(0,s.jsx)("div",{ref:t,className:d()("skill-bar-item-wrap",v),children:(0,s.jsxs)("div",(0,o._)((0,i._)({ref:C,className:d()(g["skill-bar-item"],(n={},(0,r._)(n,g["skill-bar-item__primary"],"primary"===x),(0,r._)(n,g["skill-bar-item__primary-active-back"],"primary"===x&&y),(0,r._)(n,g["skill-bar-item__primary-active"],"primary-active"===x),n)),onClick:function(){I(!0),null==m||m()}},(0,f.getTestIdProps)(b)),{children:[p&&(0,s.jsx)("div",{className:g.icon,children:p}),(0,s.jsx)("div",{className:g.text,children:void 0===u?"":u})]}))})})},33206:function(e,t,n){"use strict";n.d(t,{MoreSkillsContent:function(){return S}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("97458"),l=n("52983"),c=n("33434"),u=n("6139"),d=n("87608"),f=n.n(d),g=n("62920"),v=n("59657"),p=n("18876"),h=n("31566"),m=n("44750"),_=n("53268"),x=n("28377"),b=n("3461"),k=n("25332"),C=function(e){var t=e.skill,n=e.isSelected,i=e.onClick,o=e.keyword,a=e.isNarrowMode,c=e.keydownDirection,u=(0,x.useInView)({initialInView:!1,threshold:1}),d=u.ref,g=u.inView,v=(0,l.useRef)(null),p=(0,l.useCallback)(function(e){v.current=e,d(e)},[d]);return(0,l.useEffect)(function(){if(n&&!g){var e,t,r,i;"ArrowDown"===c?null==v||null===(t=v.current)||void 0===t||null===(e=t.scrollIntoView)||void 0===e||e.call(t,{block:"end",inline:"nearest",behavior:"smooth"}):"ArrowUp"===c&&(null==v||null===(i=v.current)||void 0===i||null===(r=i.scrollIntoView)||void 0===r||r.call(i,{block:"start",inline:"nearest",behavior:"smooth"}))}},[n]),(0,s.jsxs)("div",{ref:p,className:f()(k["skill-item"],(0,r._)({},k["skill-item-selected"],n)),onClick:i,children:[(0,s.jsx)("img",{src:null==t?void 0:t.icon_url,className:k["skill-item-icon"]}),(0,s.jsx)("div",{className:k["skill-item-name"],children:(0,s.jsx)(_.Highlight,{sourceString:(a?t.show_name_short:t.show_name)||t.show_name,searchWords:o?[o]:[],highlightStyle:{color:"var(--s-color-text-primary, #000)",background:"transparent"}})}),(0,s.jsx)("div",{className:k["skill-item-desc"],children:(0,s.jsx)(_.Highlight,{sourceString:t.description,searchWords:o?[o]:[],highlightStyle:{fontWeight:"400",color:"var(--s-color-text-tertiary, rgba(0, 0, 0, 0.4))",background:"transparent"}})})]},t.skill_id)},S=function(e){var t,n=e.width,r=e.onSelect,d=e.initialFocusRef,x=e.scene,S=e.skillExposureParams,w=(0,g.useChatStore)(function(e){var t;return null===(t=e.skills)||void 0===t?void 0:t.allSkills},c.shallow),y=(0,v.useSkillMode)()===p.SkillMode.Narrow,I=(0,b.useChat)(),M=I.t,T=I.chatViewConfig,R=(0,a._)((0,l.useState)(""),2),E=R[0],j=R[1],B=(0,l.useRef)(!1),L=(0,l.useRef)(!1),N=(0,a._)((0,l.useState)(""),2),A=N[0],F=N[1],P=(0,l.useMemo)(function(){var e;return null!==(e=null==w?void 0:w.filter(function(e){var t,n,r,i;return!E||(null===(n=e.show_name)||void 0===n?void 0:null===(t=n.toLocaleLowerCase())||void 0===t?void 0:t.includes(E.toLocaleLowerCase()))||(null===(i=e.description)||void 0===i?void 0:null===(r=i.toLocaleLowerCase())||void 0===r?void 0:r.includes(E.toLocaleLowerCase()))}))&&void 0!==e?e:[]},[w,E]),O=(0,a._)((0,l.useState)("skills_menu"===x?0:-1),2),D=O[0],H=O[1];(0,l.useEffect)(function(){return g.useChatStore.setState({skill_drop_down_visible:x}),function(){return g.useChatStore.setState({skill_drop_down_visible:void 0})}},[]),(0,l.useEffect)(function(){var e=setTimeout(function(){return P.forEach(function(e){return h.FlowTea.trackEvent("chat_action_bar_show",(0,o._)((0,i._)({},S),{skill_name:(0,m.getSkillTeaName)(e),skill_id:null==e?void 0:e.skill_id,show_scene:E?"search_skills":"skills"}))})},500);return function(){return clearTimeout(e)}},[P,E]);var q=(0,l.useMemo)(function(){return(0,u.default)(function(){return h.FlowTea.trackEvent("input_bar_enter",(0,o._)((0,i._)({click_scene:"skills_search_bar"},S),{chat_type:null==T?void 0:T.chatType}))},1e3,{leading:!0,trailing:!1})},[S]);return(0,s.jsxs)("div",{className:k["more-skills-content-container"],style:{width:"".concat(n,"px")},onClick:function(){var e;return null==d?void 0:null===(e=d.current)||void 0===e?void 0:e.focus()},"data-testid":"chat_input_more_skill_menu",children:[(0,s.jsx)("div",{className:k["more-skill-input"],children:(0,s.jsx)(_.Input,{onFocus:q,onChange:function(e){!B.current&&(j(e),H(0))},onCompositionStart:function(){return B.current=!0},onCompositionEnd:function(e){return B.current=!1,j(e.currentTarget.value)},onKeyDown:function(e){if("Enter"===e.key)L.current=B.current},onKeyUp:function(e){switch(e.key){case"ArrowDown":F("ArrowDown"),H(function(e){return(e+1)%(null==P?void 0:P.length)});break;case"ArrowUp":F("ArrowUp"),H(function(e){return(e-1+(null==P?void 0:P.length))%(null==P?void 0:P.length)});break;case"Enter":L.current||null==r||r(null==P?void 0:P[D],E?"search_skills":"skills");break;case"Escape":case"Tab":null==r||r()}},ref:d,placeholder:M("search_skills_input_placeholder"),borderless:!0})}),(0,s.jsx)("div",{className:"py-8",children:(0,s.jsx)("div",{className:f()(k["skill-item-list"],"flow-scrollbar"),children:(null==P?void 0:P.length)?null==P?void 0:null===(t=P.map)||void 0===t?void 0:t.call(P,function(e,t){return(null==e?void 0:e.skill_id)?(0,s.jsx)(C,{skill:e,isSelected:t===D,keyword:E,isNarrowMode:y,keydownDirection:A,onClick:function(){return null==r?void 0:r(e,E?"search_skills":"skills")}}):null}):(0,s.jsx)("div",{className:k["skill-item-list-empty"],children:M("search_skills_empty_info")})})})]})}},67427:function(e,t,n){"use strict";n.d(t,{ExpandBtnStatus:function(){return k},SkillHeader:function(){return C}});var r,i=n("83316"),o=n("97458"),a=n("52983"),s=n("87608"),l=n.n(s),c=n("87644"),u=n("68681"),d=n("19266"),f=n("59657"),g=n("18876"),v=n("62920"),p=n("33573"),h=n("41648"),m=n("3461"),_=n("78004"),x=n("6490"),b=n("24676");var k=((r={}).Collapse="collapse",r.Expand="Expand",r.Invisible="Invisible",r),C=function(e){var t,n=e.skill,r=e.background,s=e.closeEvent,C=e.expandBtnStatus,S=void 0===C?k.Invisible:C,w=e.onClickCollapseBtn,y=e.onClickExpandBtn,I=e.onClick,M=(0,_.useOptionalBaseSlots)().Tooltip,T=void 0===M?x.UIKitTooltip:M,R=(0,m.useChat)().t,E=(0,a.useRef)(s);E.current=s;var j=(0,f.useSkillMode)()===g.SkillMode.Narrow,B=function(){var e;(0,h.closeSkillPanel)(),null===(e=E.current)||void 0===e||e.call(E)};(0,a.useEffect)(function(){if(null==n?void 0:n.skill_type){var e;null===(e=v.useChatStore.getState().getSkillReportEvent({skillType:null==n?void 0:n.skill_type,eventName:"skill_input_panel"}))||void 0===e||e.success()}},[n]),(0,a.useEffect)(function(){var e=function(e){"Escape"===e.key&&!e.shiftKey&&!e.altKey&&B()};return document.addEventListener("keyup",e,!0),function(){return document.removeEventListener("keyup",e,!0)}},[]);var L=(0,a.useMemo)(function(){return S===k.Expand?(0,o.jsx)("div",{className:l()(b["action-btn-wrapper"]),onClick:function(e){e.stopPropagation(),null==w||w()},children:(0,o.jsx)(c.ReactComponent,{className:b["expand-btn-svg"]})}):S===k.Collapse?(0,o.jsx)("div",{className:l()(b["action-btn-wrapper"]),onClick:function(e){e.stopPropagation(),null==y||y()},children:(0,o.jsx)(u.ReactComponent,{className:b["collapse-btn-svg"]})}):null},[S,w,y]);return(0,o.jsx)("div",{className:l()(b["skill-title-container"],(t={},(0,i._)(t,b["skill-title-container-normal"],r),(0,i._)(t,b["skill-title-container-blue"],"blue"===r),(0,i._)(t,b["skill-title-container-gray"],"gray"===r),t)),onClick:I,children:(0,o.jsxs)("div",{className:b["skill-title-content"],children:[(0,o.jsx)(p.SkillIcon,{skill_type:null==n?void 0:n.skill_type,icon_url:null==n?void 0:n.icon_url,className:b.icon}),(0,o.jsx)("div",{className:b.title,children:(j?null==n?void 0:n.show_name_short:null==n?void 0:n.show_name)||(null==n?void 0:n.show_name)}),(0,o.jsxs)("div",{className:b.right,children:[L,(0,o.jsx)("div",{children:(0,o.jsx)(T,{trigger:"hover",position:"top",content:(0,o.jsxs)("div",{className:b.shortcut,children:[(0,o.jsx)("div",{className:b["shortcut-name"],children:R("exit_skill_tooltip")}),(0,o.jsx)("div",{className:b["shortcut-key"],children:"ESC"})]}),children:(0,o.jsx)("div",{className:l()(b["action-btn-wrapper"]),onMouseDown:B,children:(0,o.jsx)(d.ReactComponent,{className:b["close-btn-svg"]})})})})]})]})})}},33573:function(e,t,n){"use strict";n.d(t,{SkillIcon:function(){return v}});var r=n("9161"),i=n("89334"),o=n("97458"),a=n("95795"),s=n("8379"),l=n("52619"),c=n("92270"),u=n("9275"),d=n("22314"),f=n("18824"),g=n("24815"),v=function(e){var t=e.skill_type,n=e.icon_url,v=(0,i._)(e,["skill_type","icon_url"]);if(g.SkillType.ImageGeneration===t)return(0,o.jsx)(f.ReactComponent,(0,r._)({},v));if(g.SkillType.ReadAndSummarize===t||g.SkillType.ReadPDF===t)return(0,o.jsx)(d.ReactComponent,(0,r._)({},v));if(g.SkillType.WriteAssistant===t)return(0,o.jsx)(a.ReactComponent,(0,r._)({},v));else if(g.SkillType.ReadWebsite===t)return(0,o.jsx)(u.ReactComponent,(0,r._)({},v));else if(g.SkillType.Search===t)return(0,o.jsx)(c.ReactComponent,(0,r._)({},v));else if(g.SkillType.Translate===t)return(0,o.jsx)(s.ReactComponent,(0,r._)({},v));else if(n)return(0,o.jsx)("img",(0,r._)({src:n,draggable:!1},v));return(0,o.jsx)(l.ReactComponent,(0,r._)({},v))}},34699:function(e,t,n){"use strict";n.d(t,{ChatSkillBarGlueComposer:function(){return F},ChatTemplateBar:function(){return D},useChatSkillBarData:function(){return P},useChatSkillPopover:function(){return O}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("88802"),l=n("97458"),c=n("63730"),u=n("52983"),d=n("33434"),f=n("83053"),g=n("83911"),v=n("78493"),p=n("51445"),h=n("59574"),m=n("1107"),_=n("87382"),x=n("78597"),b=n("10630"),k=n("62920"),C=n("18876"),S=n("59657"),w=n("31566"),y=n("44750"),I=n("78142"),M=n("53268"),T=n("33573"),R=n("33206"),E=n("83127"),j=n("10824"),B=n("41648"),L=n("3461"),N=n("17780"),A=n("37931"),F=function(e,t){return(0,u.forwardRef)(function(n,r){var o=t(n),a=(0,u.useCallback)(function(e){(0,c.flushSync)(function(){e<600?k.useChatStore.getState().updateSkillMode(C.SkillMode.Narrow):k.useChatStore.getState().updateSkillMode(C.SkillMode.Wide)})},[]);return(0,l.jsx)(e,(0,i._)({ref:r,onContainerWidthChange:a},o))})},P=function(e){var t=e.chatId,n=e.chatType,a=(0,S.useSkillMode)(),l=(0,j.useIsSamantha)(t,n),c=(0,L.useChat)().language,C=(0,k.useChatStore)(function(e){return e.skills},f.default),M=(0,k.useChatStore)(function(e){return!!e.activeSkillId},d.shallow),T=(0,x.useRequest)((0,r._)(function(){var e,t,n,r,i,o,a,l,c;return(0,s.__generator)(this,function(s){switch(s.label){case 0:return i=function(e){return!(!e||(0,g.default)(null==e?void 0:e.skill_type))&&N.supportedSkillType.includes(e.skill_type)},o=(0,_.createReportEvent)({eventName:"load_samantha_skill"}),[4,I.FlowApi.apiService.samantha.GetRecommendSkills({}).catch(function(e){throw o.error({reason:"get_recommend_skill_fail",error:e}),e})];case 1:return a=s.sent(),l=(0,v.default)((0,p.default)(null===(t=a.data)||void 0===t?void 0:null===(e=t.groups)||void 0===e?void 0:e.map(function(e){var t,n;return null!==(n=null===(t=e.skills)||void 0===t?void 0:t.filter(function(e){return!!(null==e?void 0:e.skill_id)}))&&void 0!==n?n:[]})),"skill_id").filter(i),c=((null===(n=a.data)||void 0===n?void 0:n.latest_skills)||[]).filter(i),o.addDurationPoint("success"),o.success({meta:{is_empty:l.length?"0":"1"}}),[2,{allSkills:l,input_config:null===(r=a.data)||void 0===r?void 0:r.input_config,latestSkills:c}]}})}),{ready:l,refreshDeps:[t,c]}),R=T.data,E=T.loading,A=(0,h.default)(C)?R:C,F=!!(0,h.default)(A)&&E;(0,u.useEffect)(function(){!E&&!(0,f.default)(R,C)&&!(0,h.default)(R)&&k.useChatStore.setState({skills:R,skillMap:(0,m.default)(R.allSkills,"skill_id")})},[R,E,C]),(0,u.useEffect)(function(){if(M)return function(){return(0,B.closeSkillPanel)()}},[t,M]);var P=(0,x.useCompareMemo)(l&&(null==C?void 0:C.latestSkills)||[],d.shallow),O=!M&&l&&!F,D=(0,k.useChatStore)(function(e){var n,r=null===(n=b.useMainConversationLink.raw(e))||void 0===n?void 0:n.conversationId,i=b.useConversation.raw(e,r);return{conversation_id:t,bot_id:null==i?void 0:i.bot_id,conversation_type:null==i?void 0:i.conversation_type,current_page:"chat"}},d.shallow);return(0,x.useDeepCompareEffect)(function(){P.length&&O&&(P.forEach(function(e){return w.FlowTea.trackEvent("chat_action_bar_show",(0,o._)((0,i._)({},D),{skill_id:null==e?void 0:e.skill_id,skill_name:(0,y.getSkillTeaName)(e),show_scene:"bottom_bar"}))}),w.FlowTea.trackEvent("chat_action_bar_show",(0,o._)((0,i._)({},D),{skill_name:"skills",show_scene:"bottom_bar"})))},[O,t,P]),{skillExposureParams:D,hasActiveSkill:M,visible:!M&&l&&!F,displaySkills:P,loading:F,mode:a}},O=function(e,t,n){var r=(0,L.useChat)(),s=r.chatInputRef,c=r.chatViewConfig,d=(0,a._)((0,u.useState)(!1),2),f=d[0],g=d[1],v=(0,u.useCallback)(function(e,t){var r,a;if(null==e?void 0:e.skill_id){if((null===(l=s.current)||void 0===l?void 0:l.getText())==="@"&&(null===(c=s.current)||void 0===c||c.clear()),w.FlowTea.trackEvent("chat_action_bar_click",(0,o._)((0,i._)({},n),{skill_name:(0,y.getSkillTeaName)(e),skill_id:null==e?void 0:e.skill_id,click_scene:t})),e.skill_type){var l,c,u=k.useChatStore.getState().createSkillReportEvent({skillType:e.skill_type,eventName:"skill_input_panel_open",meta:{panel_name:(0,y.getSkillTeaNameByType)(e.skill_type)}});null==u||u.errorIfIdle(1e3,{reason:"click_skill_failed"})}k.useChatStore.getState().updateActiveSkillId((null==e?void 0:e.skill_id)||"")}null==s||null===(a=s.current)||void 0===a||null===(r=a.focus)||void 0===r||r.call(a),g(!1)},[n]);return{moreVis:f,setMoreVis:g,enabled:(0,j.useIsSamantha)((null==c?void 0:c.chatId)||"",null==c?void 0:c.chatType),handleSelect:v,popoverProps:{spacing:0,visible:f,onVisibleChange:g,content:function(r){var i=r.initialFocusRef;return(0,l.jsx)(R.MoreSkillsContent,{scene:t,initialFocusRef:i,width:e,onSelect:v,skillExposureParams:n})},onClickOutSide:function(){return v()},onEscKeyDown:function(){return v()},contentClassName:A["more-skills-popover"],trigger:"custom",position:"topLeft",style:{borderRadius:"16px",boxShadow:"0px 30px 100px 0px rgba(0, 0, 0, 0.15)"}}}},D=F((0,u.forwardRef)(function(e,t){var n=e.displaySkills,r=e.visible,s=e.hasActiveSkill,c=e.skillExposureParams,d=e.onContainerWidthChange,f=e.mode,g=(0,L.useChat)(),v=g.t,p=g.getPopupContainer,h=void 0===p?function(){var e;return null!==(e=_.current)&&void 0!==e?e:document.body}:p;(0,u.useImperativeHandle)(t,function(){return{}},[]);var m=f===C.SkillMode.Narrow,_=(0,u.useRef)(null),b=(0,a._)((0,u.useState)(),2),k=b[0],S=b[1];(0,x.useResizeObserver)({ref:_,onResize:function(e){var t=e.width;t&&(S(t),null==d||d(t))}});var w=O(k,"skills_menu",c),y=w.setMoreVis,I=w.popoverProps,R=w.handleSelect;if((0,u.useEffect)(function(){y(!1)},[r,k]),!r)return s?null:null;return(0,l.jsx)("div",{ref:_,className:A["chat-footer-action-wrapper"],"data-testid":"chat_footer_skill_bar",children:(0,l.jsx)(M.Popover,(0,o._)((0,i._)({},I),{getPopupContainer:h,children:(0,l.jsx)("div",{className:"flex-1 min-w-0 pt-10 pl-8",children:(0,l.jsx)(M.OverflowList,{items:n,minVisibleItems:1,overflowRenderer:function(){if(k)return(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)(E.ActionButton,{className:"pr-8",text:v("skills_more_button_title"),icon:(0,l.jsx)(T.SkillIcon,{}),onClick:function(){return y(function(e){return!e})},testId:"skill_bar_button_main"})})},visibleItemRenderer:function(e){return(0,l.jsx)(E.ActionButton,{className:"pr-8",text:(m?e.show_name_short:e.show_name)||e.show_name,icon:(0,l.jsx)(T.SkillIcon,{skill_type:e.skill_type,icon_url:e.icon_url}),onClick:function(){return R(e,"bottom_bar")},testId:"skill_bar_button_".concat(e.skill_type)},e.skill_id)}})})}))})}),P)},56090:function(e,t,n){"use strict";n.d(t,{useChatView:function(){return T}});var r=n("92769"),i=n("83316"),o=n("9161"),a=n("16044"),s=n("40509"),l=n("88802"),c=n("52983"),u=n("33434"),d=n("59391"),f=n("3820"),g=n("59574"),v=n("83911"),p=n("87382"),h=n("78597"),m=n("10630"),_=n("62920"),x=n("3830"),b=n("48022"),k=n("75761"),C=n("87681"),S=n("98897"),w=n("31759"),y=n("10824"),I=n("3461"),M=n("27202"),T=function(e,t){var n,T=t.conversationId,R=(0,p.useErrorBoundary)().showBoundary,E=(0,c.useRef)(!0),j=(0,I.useChat)(),B=j.scrollRef,L=j.chatInputRef,N=j.chatViewRef,A=j.chatPageTargetRef,F=j.chatDropTargetRef,P=j.toChatPage,O=j.t,D=j.onChatPageInit,H=j.onChatPageLoaded,q=j.onChatPageDestroy,W=j.idInParams,z=j.locationKey,V=j.onConversationChatPageVisibilityChange,U=j.locationState,K=j.sendMessageExts,G={scrollRef:B,chatInputRef:L,chatViewRef:N,chatPageTargetRef:A,chatDropTargetRef:F},Q=(0,y.useLoadConversationMessage)(),Y=Q.conversationInfoRef,J=Q.initLoadMessageInChatPage;(0,m.useConversationRecorder)(T);var X=(0,c.useRef)(!1),Z=(0,M.useToast)(),$=(0,s._)((0,_.useChatStore)(function(e){return[e.loadMoreMessageList,e.fetchUpdateConversationInfo,e.insertConversationToLinks,e.removeConversationFromLinks,e.removeConversationFromMap]},u.shallow),5),ee=$[0],et=$[1],en=$[2],er=$[3],ei=$[4];(0,c.useImperativeHandle)(e,function(){var e;return{onLoadMore:(0,r._)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:if(X.current)return[2];X.current=!0,t.label=1;case 1:if(t.trys.push([1,,4,5]),!(null===(e=_.useChatStore.getState().messageListStatusMap[T])||void 0===e?void 0:e.hasMore))return[3,3];return[4,ee(T)];case 2:return[2,t.sent()];case 3:return[3,5];case 4:return X.current=!1,[7];case 5:return[2]}})}),sendMessage:(e=(0,r._)(function(e){var t,n;return(0,l.__generator)(this,function(r){switch(r.label){case 0:return n=(t=(0,d.default)(e)).map(function(e){return(0,o._)({},e.extraExt,(0,f.default)(K)?K():K)}),[4,(0,x.checkConversationReady)(T)];case 1:return r.sent(),(0,b.sendSupportedMessage)(t.map(function(e,t){return(0,a._)((0,o._)({},e,(0,g.default)(n[t])?{}:{extraExt:n[t]}),{ctx:{conversationId:T,enterFrom:null==U?void 0:U.enter_from,botId:(0,k.getBotIdByConversationId)(T)}})}),C.ChatType.Conversation),en({conversationId:T,index:1}),[2]}})}),function(t){return e.apply(this,arguments)}),syncData:function(){eo({toastWhenFailed:!1,navigateWhenFailed:!1,showErrorWhenFailed:!1})}}},[T]);var eo=(n=(0,r._)(function(e){var t,n,r,i,a,s,c,u,d,f,g;return(0,l.__generator)(this,function(l){switch(l.label){case 0:if(t=e.toastWhenFailed,n=e.navigateWhenFailed,r=e.showErrorWhenFailed,a=void 0!==(i=e.init)&&i,c=void 0!==(s=e.reportFirstView)&&s,d=void 0!==(u=e.skipWhenIdEmpty)&&u,(void 0===T||0===T.length)&&d)return[2];l.label=1;case 1:return l.trys.push([1,4,,5]),[4,et(T)];case 2:return(null==(f=l.sent())?void 0:f.deleted)&&(er({conversationId:T}),ei({conversationId:T}),null==P||P()),Y.current=f||null,a&&(null==D||D((0,o._)({conversationId:T,botId:null==f?void 0:f.bot_id},G))),[4,J(c)];case 3:return l.sent(),null==H||H((0,o._)({conversationId:T,botId:null==f?void 0:f.bot_id},G)),[3,5];case 4:return g=l.sent(),t&&Z.error(O("system_error_toast")),n&&((0,v.default)(W)?R(g):null==P||P()),r&&R(g),[3,5];case 5:return[2]}})}),function(e){return n.apply(this,arguments)});(0,c.useEffect)(function(){var e,t,n,r,s;return!(0,h.getIsMobileOrIPad)()&&(null===(e=L.current)||void 0===e||e.focus()),E.current?(E.current=!1,_.useChatStore.setState(function(e){var t=e.flowChatPageShowTracingParams;return{flowChatPageShowTracingParams:(0,a._)((0,o._)({},t),(0,i._)({},"duration.load_cache_end",performance.now()))}}),eo({toastWhenFailed:!1,navigateWhenFailed:!0,showErrorWhenFailed:!1,init:!0,reportFirstView:z===(null===(t=_.useChatStore.getState().tracingParams)||void 0===t?void 0:t.chatLayoutEnterPageKey),skipWhenIdEmpty:!0})):(null===(n=B.current)||void 0===n||n.scrollToBottom(),null===(r=L.current)||void 0===r||r.clear(),null===(s=B.current)||void 0===s||s.enableScroll(),eo({toastWhenFailed:!1,navigateWhenFailed:!1,showErrorWhenFailed:!1}),w.writingAssistantSkillFacade.reset()),function(){null==q||q((0,o._)({conversationId:T},G))}},[T]),(0,c.useEffect)(function(){if((0,h.isAppleWebkit)()){var e=_.useChatStore.subscribe(function(e){return[e.messageLinkMap[T],e.messageMap[T],e.localMessageMap[T]]},function(e){var t,n;e&&(null===(n=B.current)||void 0===n||null===(t=n.refreshAnchor)||void 0===t||t.call(n))});return function(){e()}}},[]),(0,c.useEffect)(function(){var e=function(){null==V||V((0,o._)({visible:"visible"===document.visibilityState},G)),"visible"===document.visibilityState?(eo({toastWhenFailed:!1,navigateWhenFailed:!1,showErrorWhenFailed:!1}),(0,S.sendEnterConversationCmd)(T)):(0,S.sendLeaveConversationCmd)(T)};return window.addEventListener("visibilitychange",e),(0,S.sendEnterConversationCmd)(T),function(){window.removeEventListener("visibilitychange",e),(0,S.sendLeaveConversationCmd)(T)}},[T])}},65720:function(e,t,n){"use strict";n.d(t,{ChatView:function(){return c}});var r=n("97458"),i=n("52983"),o=n("78597"),a=n("56090"),s=n("3461"),l=n("21503"),c=(0,i.forwardRef)(function(e,t){var n=e.chatId,i=e.MessageListSlot,c=(0,s.useChat)().idInParams;return((0,a.useChatView)(t,{conversationId:n}),c&&!(0,o.isNumeric)(c))?(0,r.jsx)(l.NavigateToFirstChat,{}):(0,r.jsx)(i,{conversationId:n,enableLoadMore:!0})})},65128:function(e,t,n){"use strict";n.d(t,{DebugMessageProvider:function(){return g},useDebugMessage:function(){return f}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("83911"),s=n("3820"),l=n("53277"),c=n("3461"),u="You are not able to invoke open returned by useDebugMessage, because DebugMessageProvider needed.",d=(0,o.createContext)({open:function(){throw Error(u)},close:function(){throw Error(u)}}),f=function(){return(0,o.useContext)(d)},g=function(e){var t=e.children,n=e.getMessage,u=void 0===n?l.getMessageFromStore:n,f=(0,r._)((0,o.useState)(),2),g=(f[0],f[1]),v=(0,c.useChat)().enableMessageDebug,p=function(){g(void 0)},h=function(e){var t=e.conversationId,n=e.messageLink,r=e.showPrompt,i=u(t,n);i&&g({messageLink:n,message:i,showPrompt:(0,a.default)(r)?void 0:(0,s.default)(r)?r:function(){return r}})},m=(0,o.useMemo)(function(){return{open:h,close:p}},[v]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Provider,{value:m,children:t}),!1]})}},76542:function(e,t,n){"use strict";n.d(t,{DisabledInputTips:function(){return d}});var r,i=n("97458"),o=n("10630"),a=n("53641"),s=n("87681"),l=n("26689"),c=n("10824"),u=n("99012");var d=(r=function(e){var t,n=e.chatId,r=(0,o.useConversation)(n),i=(null==r?void 0:r.bot_id)||n,u=a.FlowBot.useBotInfo(i)||{},d=(0,c.useConversationDisabled)();return(t=(null==u?void 0:u.bot_mode)===l.BotMode.subject,u.disabled_tag===s.DisabledTag.Ban||u.disabled_tag===s.DisabledTag.Rollback&&t)?{isDisabled:!1}:d},function(e){var t=r({chatId:e.chatId,chatType:e.chatType}),n=t.isDisabled,o=t.disabledText;return n?(0,i.jsx)("div",{className:u["disabled-tips"],children:o}):null})},71979:function(e,t,n){"use strict";n.d(t,{useEditNickNameModal:function(){return x}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("88802"),s=n("97458"),l=n("42623"),c=n("87382"),u=n("75761"),d=n("53641"),f=n("31566"),g=n("78142"),v=n("11068"),p=n("51719"),h=n("53268"),m=n("3461"),_=n("93499"),x=function(){var e=(0,m.useChat)(),t=e.t,n=e.userProfile,x=e.onUpdateNickName;return{showModal:function(e){var m,b,k=e.botId,C=e.conversationId,S=e.shouldSendMessage,w=void 0===S||S,y=e.sendMessage,I=e.isCocoConversation,M=e.currentPage,T=e.onSuccess;if(!!x){var R=(0,u.getInfoByConversationId)(C),E=k?d.FlowBot.actions.getBot(k):R.botInfo,j=null!=n?n:{},B=j.nickname,L=j.is_default_nickname,N=null,A=null!==(b=null==E?void 0:E.caller_name)&&void 0!==b?b:L?void 0:B,F=function(e){var t=e.success,n=e.is_update_profile_name;f.FlowTea.trackEvent("change_user_nickname",{current_page:M,success:t?1:0,nickname:null==N?void 0:N.getValue("caller_name"),conversation_id:C,overall_change:n?1:0,bot_id:k,bot_type:(0,u.getChatTypeForTea)(C,E)})};var P=(m=(0,r._)(function(e){var n,r,s,u,f,p,m,_;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(n=(0,c.createReportEvent)({eventName:"edit_nick_name_result"}),!k)return n.error({error:Error("botId is required"),reason:"bot_id_empty"}),[2];if(e.caller_name===(null==N?void 0:N.getInitValue("caller_name")))return n.success({meta:{is_modified:!1}}),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,g.FlowApi.apiService.bot.UpdateCallerName({bot_id:k,caller_name:e.caller_name})];case 2:return u=(s=void 0===(r=a.sent().data)?{}:r).is_update_profile_name,f=s.first_message,n.addDurationPoint("request_success"),u?(x(e.caller_name),n.addDurationPoint("local_update_nick_name_success")):n.addDurationPoint("local_update_nick_name_skip"),p=(0,o._)((0,i._)({},null!=E?E:{}),{caller_name:e.caller_name}),d.FlowBot.actions.updateBot(p),n.addDurationPoint("update_bot_success"),F({success:!0,is_update_profile_name:!!u}),w&&f&&y?(y({text:f,scene:"change_user_nickname"}),n.addDurationPoint("send_message_success")):n.addDurationPoint("send_message_skip"),n.success(),null==T||T(),[3,4];case 3:throw m=a.sent(),F({success:!1,is_update_profile_name:!1}),_="EDIT_NICK_NAME_TOAST",(0,l.isAxiosError)(m)?(h.Toast.error({content:t("log_in_internet_error"),showClose:!1,id:_}),n.error({error:m,reason:"axios_error"})):(0,v.isApiErrorWithI18n)(m)?(h.Toast.error({content:m.errorOption.message,showClose:!1,id:_}),n.error({error:m,reason:"api_error"})):(h.Toast.error({content:t("notification_system_error_toast"),showClose:!1,id:_}),n.error({error:m,reason:"unknown"})),m;case 4:return[2]}})}),function(e){return m.apply(this,arguments)}),O=t("user_name_setting_for_bot",{postProcess:"sprintf",sprintf:[null==E?void 0:E.name]}),D=I?t("user_name_setting_for_bot_desc",{postProcess:"sprintf",sprintf:[_.brandName]}):t("user_name_setting_for_other_bot_desc"),H={title:O,icon:null,content:(0,s.jsx)(function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"mt-16 mb-20 text-16",style:{color:"var(--color-neutral-70, #666)"},children:D}),(0,s.jsx)(h.Form,{getFormApi:function(e){return N=e},initValues:{caller_name:null!=A?A:""},children:(0,s.jsx)(p.FormInputI18n,{noLabel:!0,allowEmptyString:!0,field:"caller_name",autoFocus:!0,minLength:2,maxLength:40,className:"border-[var(--semi-color-focus-border)]",autoComplete:"off",placeholder:t("registration_set_nickname_input_placeholder"),trigger:"custom",stopValidateWithError:!0,rules:[{required:!0,message:t("setting_profile_nickname_error")},{min:2,max:40,message:t("setting_profile_nickname_error")}]})})]})},{}),centered:!0,preventScroll:!0,cancelText:t("edit_chat_name_cancel"),okText:t("edit_chat_name_done"),onOk:(0,r._)(function(){return(0,a.__generator)(this,function(e){switch(e.label){case 0:if(!(null==N?void 0:N.validate))return[3,3];return[4,N.validate()];case 1:return e.sent(),[4,P(N.getValues())];case 2:e.sent(),e.label=3;case 3:return[2]}})}),onCancel:function(){c.logger.persist.info({eventName:"edit_nick_name_cancel"})}};c.logger.persist.info({eventName:"edit_nick_name_show"}),(null==E?void 0:E.name)!==void 0&&(f.FlowTea.trackEvent("popup_changename",{current_page:M,conversation_id:C,bot_id:k,bot_type:(0,u.getChatTypeForTea)(C,E)}),h.Modal.confirm(H))}}}}},27027:function(e,t,n){"use strict";n.d(t,{ErrorTransmitter:function(){return a}});var r=n("97458"),i=n("52983"),o=n("87382"),a=function(e){var t=e.children,n=e.errorBoundaryName,a=(0,o.useErrorBoundary)().showBoundary,s=(0,i.useMemo)(function(){return function(e){var t=e.error;return(0,i.useEffect)(function(){return a(t)},[]),null}},[a]);return(0,r.jsx)(o.ErrorBoundary,{errorBoundaryName:n,FallbackComponent:s,children:t})}},72537:function(e,t,n){"use strict";n.d(t,{FeedbackCard:function(){return u}});var r=n("97458"),i=n("87382"),o=n("59312"),a=n("62920"),s=n("96988"),l=n("7324"),c=n("3461"),u=function(e){var t=e.className,n=e.style,u=e.onClose,d=e.onSatisfiedChecked,f=e.defaultFeedbackChecked,g=e.conversationId,v=e.messageId,p=(0,c.useChat)().t,h=(0,o.useUnlikeFeedbackConfig)().presetOptions,m=(0,o.useLikeFeedbackConfig)().presetOptions,_=a.useChatStore.getState().updateMessageFeedback,x=function(e,t){var n=t.options,r=t.text,o=(0,i.createReportEvent)({eventName:"message_report_new"});_({conversationId:g,messageId:v,detail:{feedback_type:e?s.FeedbackType.Like:s.FeedbackType.Unlike,feedback_detail_content:r,feedback_detail_types:n},reportEvent:o})};return(0,r.jsx)(l.MessageFeedback,{className:t,style:n,checkTitle:p("answer_feedback_title"),satisfiedText:p("message_long_press_like"),unsatisfiedText:p("message_long_press_dislike"),satisfyingTitle:p("answer_feedback_like_title"),unsatisfyingTitle:p("answer_feedback_dislike_title"),submitText:p("feedback_submit_button"),textInputPlaceholder:p("answer_feedback_input_placeholder"),feedbackFinishTitle:p("answer_feedback_submitted_info"),defaultFeedbackChecked:f,satisfiedOptions:m.map(function(e){var t=e.text,n=e.value;return{title:t,key:n,showInputWhenSelected:8===n}}),unsatisfiedOptions:h.map(function(e){var t=e.text,n=e.value;return{title:t,key:n,showInputWhenSelected:4===n}}),onSatisfiedChecked:d,onSatisfiedFeedback:function(e){return x(!0,e)},onUnsatisfiedFeedback:function(e){return x(!1,e)},onClose:u})}},84555:function(e,t,n){"use strict";n.d(t,{FeedbackDialog:function(){return h}});var r=n("92769"),i=n("40509"),o=n("88802"),a=n("97458"),s=n("33434"),l=n("87382"),c=n("59312"),u=n("62920"),d=n("31566"),f=n("75761"),g=n("96988"),v=n("3461"),p=n("27202"),h=function(e){var t,n=e.exts,h=e.onHide,m=e.messageId,_=e.conversationId,x=e.FeedbackModalBaseSlot,b=(0,v.useChat)().t,k=(0,p.useToast)(),C=(0,c.useUnlikeFeedbackConfig)(),S=C.presetOptions,w=C.placeholder,y=(0,i._)((0,u.useChatStore)(function(e){return[e.updateMessageFeedback]},s.shallow),1)[0];var I=(t=(0,r._)(function(e){var t,r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:return t=(0,l.createReportEvent)({eventName:"message_report"}),r={feedback_type:g.FeedbackType.Unlike,feedback_detail_content:e.content,feedback_detail_type:e.type},d.FlowTea.trackEvent("complete_dislike_reason",{bot_id:(0,f.getBotIdByConversationId)(_),message_id:m,if_regenerated:n.if_regenerated,click_from:n.click_from}),[4,y({detail:r,messageId:m,conversationId:_,reportEvent:t})];case 1:return i.sent(),k.success(b("dislike_feedback_submit_toast")),h(),[2]}})}),function(e){return t.apply(this,arguments)});return(0,a.jsx)(x,{visible:n.visible,title:b("dislike_feedback_title"),okText:b("dislike_feedback_submit"),hasCancel:!1,presetOptions:S,maxTextCount:1e3,onHide:function(){return h()},onSubmit:I,placeholder:w})}},38972:function(e,t,n){"use strict";n.d(t,{useFeedback:function(){return S}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("83911"),s=n("37903"),l=n("87382"),c=n("62920"),u=n("53277"),d=n("54769"),f=n("75761"),g=n("31566"),v=n("52420"),p=n("53641"),h=n("96988"),m=n("84555"),_=n("72537"),x=n("92493"),b=n("3461"),k=n("38861"),C=n("70800"),S=function(e){var t=e.messageLink,n=e.conversationId,S=e.botId,w=e.isLastAvailableMessage,y=e.regenerateActiveIndex,I=e.isLastAnswer,M=e.FeedbackModalBaseSlot,T=void 0===M?k.FeedbackModalBase:M,R=e.ReportModalSlot,E=void 0===R?C.ReportModal:R,j=(0,b.useChat)(),B=j.onFeedbackLike,L=j.onFeedbackDislike,N=j.locationState,A=t.messageId,F=w&&!(0,a.default)(y)&&y>0,P=F?1:0,O=(0,r._)((0,o.useState)({visible:!1,click_from:void 0,if_regenerated:P}),2),D=O[0],H=O[1],q=(0,r._)((0,o.useState)({visible:!1,click_from:void 0,if_regenerated:P,isLastAnswer:I}),2),W=q[0],z=q[1],V=(0,c.useChatStore)(function(e){var r=(0,u.getMessageFromStore)(n,t,e);return!!r&&!(0,s.default)(r.feedback)&&r.feedback!==h.FeedbackType.Default}),U=(0,r._)((0,o.useState)(),2),K=U[0],G=U[1],Q=c.useChatStore.getState().updateMessageFeedback,Y=(0,d.useFeedbackStatus)(n,A),J=Y.liked,X=Y.disliked,Z=Y.detail.hasCanceledFeedback,$=(0,f.getInfoByConversationId)(n).botInfo,ee=(0,r._)((0,o.useState)(!V&&!(void 0!==Z&&Z)),2),et=ee[0],en=ee[1],er=(null==N?void 0:N.enter_from)==="bot_discover",ei=S||(0,f.getBotIdByConversationId)(n),eo=function(){Q({conversationId:n,messageId:A,detail:{hasCanceledFeedback:!0},onlyLocal:!0}),en(!1)},ea=function(e){var t=(0,l.createReportEvent)({eventName:"feedback_like"}),r=!J,i=(e||{}).click_from,o={feedback_type:r?h.FeedbackType.Like:h.FeedbackType.Default};en(!0),G(!0),null==B||B(r),r&&g.FlowTea.trackEvent("like",{bot_id:ei,message_id:A,if_regenerated:P,click_from:i,user_id:er?v.FlowConfig.userId:void 0,req_id:er&&ei?p.FlowBot.actions.getBotIdToRequestIdMap()[ei]:void 0,chat_type:(0,f.getChatTypeForTea)(n,$),recommend_from:er?"bot_list_discover":void 0}),Q({detail:o,messageId:A,conversationId:n,reportEvent:t})},es=function(e){var t=(0,l.createReportEvent)({eventName:"feedback_disLike"}),r=!X,i=(e||{}).click_from;en(!0),G(!1),null==L||L(r),!X&&H({visible:!0,click_from:i,if_regenerated:P});var o={feedback_type:r?h.FeedbackType.Unlike:h.FeedbackType.Default};r&&g.FlowTea.trackEvent("dislike",{bot_id:ei,if_regenerated:P,message_id:A,click_from:i,user_id:er?v.FlowConfig.userId:void 0,req_id:er&&ei?p.FlowBot.actions.getBotIdToRequestIdMap()[ei]:void 0,chat_type:(0,f.getChatTypeForTea)(n,$),recommend_from:er?"bot_list_discover":void 0}),Q({detail:o,messageId:A,conversationId:n,reportEvent:t})};return{liked:J,disliked:X,onLikeClick:ea,onDislikeClick:es,onBotOrMessageReportClick:function(e){var t=(e||{}).click_from;A?g.FlowTea.trackEvent("report",{message_id:A,click_from:I?"answer":"long_press_answer",bot_id:ei,user_id:er?v.FlowConfig.userId:void 0,req_id:er&&ei?p.FlowBot.actions.getBotIdToRequestIdMap()[ei]:void 0,chat_type:(0,f.getChatTypeForTea)(n,$),recommend_from:er?"bot_list_discover":void 0}):g.FlowTea.trackEvent("report_bot",{bot_id:ei,user_id:er?v.FlowConfig.userId:void 0,req_id:er&&ei?p.FlowBot.actions.getBotIdToRequestIdMap()[ei]:void 0,recommend_from:er?"bot_list_discover":void 0}),z({visible:!0,click_from:t,if_regenerated:P,isLastAnswer:I})},renderFeedbackDialog:function(){return D.visible?(0,i.jsx)(m.FeedbackDialog,{FeedbackModalBaseSlot:T,messageId:A,conversationId:n,exts:D,onHide:function(){return H({visible:!1})}}):null},renderFeedbackCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className;return et&&(0,i.jsx)(_.FeedbackCard,{className:t,onClose:eo,onSatisfiedChecked:function(e){e?ea():es()},defaultFeedbackChecked:K,conversationId:n,messageId:A})},renderReportDialog:function(){return W.visible?(0,i.jsx)(x.ReportDialog,{ReportModalSlot:E,FeedbackModalBaseSlot:T,entityId:A||S,messageId:A,conversationId:n,exts:W,onHide:function(){return z({visible:!1})}}):null},isNotFirstRegenerated:F}}},41648:function(e,t,n){"use strict";n.d(t,{checkKeydownEventTriggerSubmit:function(){return o},closeSkillPanel:function(){return i}});var r=n("62920"),i=function(){return r.useChatStore.getState().updateActiveSkillId("")},o=function(e){return 13===e.keyCode&&!e.shiftKey&&!e.altKey}},9947:function(e,t,n){"use strict";n.d(t,{useIsNarrowMode:function(){return o}});var r=n("52983"),i=n("78597");function o(){var e=(0,r.useRef)(null),t=(0,i.useSize)(e);return{ref:e,isNarrowMode:(0,r.useMemo)(function(){return!!t&&!!(t.width<600)||!1},[t])}}},84029:function(e,t,n){"use strict";n.d(t,{useCurrentChatBotId:function(){return a}});var r=n("87575"),i=n("75761"),o=n("3461"),a=function(){var e=(0,o.useChat)().chatViewConfig||{},t=e.chatId,n=e.chatType;return(0,r.isBotChat)(n)?t:(0,i.getBotIdByConversationId)(t)}},10824:function(e,t,n){"use strict";n.d(t,{useBotConfigByConversationId:function(){return G},useBotSendFileEnabled:function(){return V},useBotSendImageEnabled:function(){return U},useBotSendWithAttachmentAreaEnabled:function(){return K},useBotSupportLanguages:function(){return q},useCheckLocalMessageFailedExpired:function(){return F},useCheckLocalSendMessageNeedToShowLoading:function(){return P},useConversationDisabled:function(){return D},useExcludeMsgActions:function(){return Q},useIsSamantha:function(){return z},useLoadConversationMessage:function(){return H}});var r=n("92769"),i=n("83316"),o=n("9161"),a=n("16044"),s=n("40509"),l=n("88802"),c=n("52983"),u=n("33434"),d=n("83911"),f=n("90396"),g=n("87382"),v=n("78597"),p=n("37519"),h=n("10630"),m=n("53277"),_=n("87575"),x=n("62920"),b=n("94661"),k=n("50289"),C=n("2322"),S=n("72951"),w=n("52420"),y=n("75761"),I=n("31566"),M=n("87681"),T=n("53641"),R=n("12270"),E=n("46750"),j=n("68534"),B=n("78142"),L=n("39798"),N=n("3461"),A=n("96974"),F=function(e,t){var n=(0,v.useTimeoutWithExpired)(function(){var n=(0,m.getMessageFromStore)(e,t);if(n&&(0,_.isLocalMessage)(n)&&(0,_.isOnBoardingMessage)(n)){x.useChatStore.getState().cancelOnboarding({conversationId:e,reason:"onboarding timeout"});return}(null==n?void 0:n.local_message_id)&&(0,b.finishSendMessageTask)(n.local_message_id),(null==n?void 0:n.reply_id)&&!(0,_.isOnBoardingMessage)(n)&&(0,k.abortPullMessage)(n.reply_id),x.useChatStore.getState().updateMessageList({conversationId:e,immerUpdate:function(t){if(null==n?void 0:n.local_message_id){var r=t.draftLocalMessageMap[n.local_message_id],i=x.useChatStore.getState().getReportEvents(e,n.local_message_id),s=(0,_.isMessageSending)(r),l=(0,_.isMessageReceivingStream)(r),c=r.local.enterFrom;if(r.local=(0,a._)((0,o._)({},r.local),{status:l?C.LocalMessageStatus.StreamingTimeout:C.LocalMessageStatus.Timeout,failed:!0,failedExpired:void 0}),(0,S.deleteMockReplyMessage)(t,n.local_message_id),null===p.reportEventsHelper||void 0===p.reportEventsHelper||p.reportEventsHelper.addDuration(i,"failed"),null===p.reportEventsHelper||void 0===p.reportEventsHelper||p.reportEventsHelper.error(i,{reason:l?"stream-timeout":"timeout",meta:(0,a._)((0,o._)({},(0,m.getLocalMessageReportMeta)(n)),{content_length:(0,m.getMessageLength)(n),from:(0,m.messageFrom)(n)})}),s){var u,d,f,g,v,h,b,k,R,E,B=w.FlowConfig.loginSource,L=w.FlowConfig.enterChatMethod,N=(0,y.getInfoByConversationId)(null==n?void 0:n.conversation_id).botInfo,A=(0,y.getChatTypeForTea)(null==n?void 0:n.conversation_id),F=i.send_message;I.FlowTea.trackEvent("send_message_status",(0,o._)((0,a._)((0,o._)((0,a._)((0,o._)({duration:null==F?void 0:null===(u=F.getDuration())||void 0===u?void 0:u.failed,from:C.MessageFrom.Socket,success:0,result:"ack_timeout",chat_type:(0,y.getChatTypeForTea)(null==n?void 0:n.conversation_id,N),conversation_id:null==n?void 0:n.conversation_id,bot_id:A,message_id:null==n?void 0:n.message_id,section_id:null==n?void 0:n.section_id,sec_scene:null==F?void 0:null===(d=F.getMeta())||void 0===d?void 0:d.sec_scene,is_gpt4:null==F?void 0:null===(f=F.getMeta())||void 0===f?void 0:f.is_ogf,use_skill:null==F?void 0:null===(g=F.getMeta())||void 0===g?void 0:g.use_skill,skill_name:null==F?void 0:null===(v=F.getMeta())||void 0===v?void 0:v.skill_name,skill_id:null==F?void 0:null===(h=F.getMeta())||void 0===h?void 0:h.skill_name},(null==F?void 0:null===(b=F.getMeta())||void 0===b?void 0:b.reportParams)||{}),{conversation_type:null==F?void 0:null===(k=F.getMeta())||void 0===k?void 0:k.conversation_type,scene:null==F?void 0:null===(R=F.getMeta())||void 0===R?void 0:R.scene}),B?{previous_page:B}:{}),{enter_chat_method:L}),n.content_type===j.ContentType.Text?{original_content_source:n.content_source||M.ContentSource.Other}:{},c&&"bot_discover"===c?{user_id:w.FlowConfig.userId,req_id:A?T.FlowBot.actions.getBotIdToRequestIdMap()[A]:"",recommend_from:"bot_list_discover"}:{},(null===(E=n.ext)||void 0===E?void 0:E.collection_id)?{collection_id:n.ext.collection_id}:{}))}else{var P,O,D,H,q,W=i.receive_message;I.FlowTea.trackEvent("receive_stream",{duration:null==W?void 0:null===(P=W.getDuration())||void 0===P?void 0:P.failed,type:n.message_type,from:null===(O=n.localInfo)||void 0===O?void 0:O.from,next_connection_type:n.next_connection_type,content_type:n.content_type,success:0,result:l?"stream-timeout":"stream_error",conversation_id:null==n?void 0:n.conversation_id,bot_id:(0,y.getBotIdByConversationId)(null==n?void 0:n.conversation_id),message_id:null==n?void 0:n.message_id,reply_id:null==n?void 0:n.reply_id,section_id:null==n?void 0:n.section_id,scene:null==W?void 0:W.getMeta().scene,is_onboarding:(0,_.isOnBoardingMessage)(n)?1:0,is_soft_link:(0,m.getIsSoftLinkForTea)(n),message_type:(0,m.getMessageTypeForTea)(n),is_cache:"1"===String(null==n?void 0:null===(D=n.ext)||void 0===D?void 0:D.is_from_cache)?1:0}),I.FlowTea.trackEvent("message_answer_end",{type:null==n?void 0:n.message_type,from:null===(H=n.localInfo)||void 0===H?void 0:H.from,next_connection_type:n.next_connection_type,content_type:n.content_type,success:0,stream:1,section_id:null==n?void 0:n.section_id,result:l?"stream-timeout":"stream_error",reply_id:null==n?void 0:n.reply_id,message_id:null==n?void 0:n.message_id,duration:null==W?void 0:null===(q=W.getDuration())||void 0===q?void 0:q.failed,conversation_id:null==n?void 0:n.conversation_id})}}}})}).setExpired;(0,c.useEffect)(function(){return x.useChatStore.subscribe(function(n){var r=(0,m.getMessageFromStore)(e,t,n);return{expired:r&&(0,R.isImageSafetyError)(r)?void 0:function(){if(!!r&&!!(0,_.isLocalMessage)(r)){var e=r.local.failedExpired,t=r.local_message_id;if(e&&t)return r.local.failedExpired}}()}},function(e){n(e.expired)},{equalityFn:u.shallow,fireImmediately:!0})})},P=function(e,t){var n=(0,v.useTimeoutWithExpired)(function(){var n=(0,m.getMessageFromStore)(e,t);x.useChatStore.getState().updateMessageList({conversationId:e,immerUpdate:function(e){if(null==n?void 0:n.local_message_id){var t=e.draftLocalMessageMap[n.local_message_id];t.local=(0,a._)((0,o._)({},t.local),{sendLoadingExpired:void 0})}}})}).setExpired;(0,c.useEffect)(function(){return x.useChatStore.subscribe(function(n){var r=(0,m.getMessageFromStore)(e,t,n);return{expired:function(){if(!!r&&!!(0,_.isLocalMessage)(r)&&!!(0,_.isMessageSending)(r)){var e=r.local.sendLoadingExpired,t=r.local_message_id;if(e&&t)return r.local.sendLoadingExpired}}()}},function(e){n(e.expired)},{equalityFn:u.shallow})})},O=function(){var e=(0,x.useChatStore)(function(e){return e.rateLimitConfig},u.shallow),t=e.limitExpired,n=e.limitTips,r=e.isLimited;(0,c.useEffect)(function(){i(t)},[t]);var i=(0,v.useTimeoutWithExpired)(function(){x.useChatStore.getState().updateRateLimitConfig({isLimited:!1,limitExpired:void 0,limitTips:""})}).setExpired;return{limitTips:n,isLimited:r}},D=function(){var e=(0,N.useChat)().conversationDisabledParams,t=O(),n=t.isLimited,r=t.limitTips;return(null==e?void 0:e.isDisabled)?(0,o._)({},e):{disabledText:n?r:void 0,isDisabled:!!n}},H=function(){var e,t,n=(0,c.useRef)(null),a=(0,s._)((0,x.useChatStore)(function(e){return[e.initMessageList]},u.shallow),1)[0],d=(null!==(t=x.useChatStore.getState().tracingParams)&&void 0!==t?t:{}).canReport,f=(0,c.useRef)(null!=d&&d),v=(0,N.useChat)().onAllConversationMessageRead;var p=(e=(0,r._)(function(){var e,t,r,s,c,u,d,p,h,_,b,k,C,S,y,I,M,T,R,E,j,B,L,N,A,F,P,O,D,H,q,z=arguments;return(0,l.__generator)(this,function(l){switch(l.label){case 0:if(e=z.length>0&&void 0!==z[0]&&z[0],!(t=n.current)||!t.conversation_id)return[2];if(r=t.message_cursor,s=t.message_index,c=t.read_message_index,u=a({conversationId:t.conversation_id,messageIndex:Number(s),messageCursor:Number(r),range:{start:Number(r),end:Number(s)}}),(d=localStorage.getItem("isFromLogin"))&&1===Number(d)&&localStorage.setItem("isFromLogin","0"),p=localStorage.getItem("hasEnterGuest"),!(e&&f.current&&!w.FlowConfig.isGuest&&(!d||1!==Number(d))))return[3,2];return f.current=!1,p&&1===Number(p)&&localStorage.setItem("hasEnterGuest","0"),y=void 0===(S=(C=null!==(k=x.useChatStore.getState().tracingParams)&&void 0!==k?k:{}).chatLayoutCreateTime)?0:S,M=void 0===(I=C.chatLaunchSuccessTime)?0:I,R=void 0===(T=C.flowWebScriptJsFinish)?0:T,j=null!==(E=x.useChatStore.getState().chatPageShowTracingCommonParams)&&void 0!==E?E:{},L=null!==(B=x.useChatStore.getState().flowChatPageShowTracingParams)&&void 0!==B?B:{},N=null===(_=x.useChatStore.getState().messageLinkMap)||void 0===_?void 0:null===(h=_[t.conversation_id])||void 0===h?void 0:h.length,P=(0,g.createReportEvent)({eventName:"init_chat_app_first_conversation",meta:(F={cached:N?"1":"0"},(0,i._)(F,"page_time.origin",-y),(0,i._)(F,"page_time.dom_interactive",R-y),(0,i._)(F,"page_time.launch_success",M-y),(0,i._)(F,"page_time.start",(null!==(A=null===(b=window)||void 0===b?void 0:b.performance)&&void 0!==A?A:Date).now()-y),F)}),O=[,,],["init_app","init_app_v2"].forEach(function(e,t){O[t]=(0,g.createReportEvent)({eventName:e,meta:(0,o._)({chat_cached:N?"1":"0",page:"chat",isFromLogin:p||"0",user_is_login:!!w.FlowConfig.storedUserId},j,L)})}),D=performance.now(),[4,u.then(function(e){if(null==e?void 0:e.length){P.addDurationPoint("success"),P.success({meta:(0,i._)({},"page_time.success",(null!==(o=null===(t=window)||void 0===t?void 0:t.performance)&&void 0!==o?o:Date).now()-y)});var t,n,r,o,a,s=null===(r=window)||void 0===r?void 0:null===(n=r.performance)||void 0===n?void 0:n.now(),l={meta:(a={},(0,i._)(a,"duration.fetch_chat_start",D),(0,i._)(a,"duration.fetch_chat_success",s),(0,i._)(a,"duration.chat_page_show",N?L["duration.load_cache_end"]:s),a)};O[0].success(l);var c=function(){O[1].getFinishStatus()||O[1].success(l)};window.addEventListener("keydown",c,{once:!0}),window.addEventListener("click",c,{once:!0})}else P.error({reason:"init_msg_list_empty"}),O.forEach(function(e){e.error({reason:"init_msg_list_empty"})})},function(e){throw P.error({error:e,reason:"init_msg_inner_error"}),O.forEach(function(t){t.error({error:e,reason:"init_msg_inner_error"})}),e})];case 1:return l.sent(),[3,4];case 2:return[4,u];case 3:l.sent(),l.label=4;case 4:if(H=t.conversation_id,setTimeout(function(){try{W(H)}catch(e){}},1e3),q=(0,m.getLastMessageIndexFromMessageLinksStore)(t.conversation_id),Number(c)===q)return[2];return Number(c)<Number(s)&&(null==v||v(t)),[2]}})}),function(){return e.apply(this,arguments)});return{conversationInfoRef:n,initLoadMessageInChatPage:p}},q=function(e){var t=(0,s._)((0,c.useState)(null),2),n=t[0],r=t[1],i=(0,s._)((0,c.useState)(!0),2),o=i[0],a=i[1];return(0,c.useEffect)(function(){a(!0),void 0!==e&&B.FlowApi.apiService.bot.LanguageList({bot_id:e}).then(function(e){var t=e.data;(null==t?void 0:t.support_language_list)!==void 0&&r(t.support_language_list),a(!1)}).catch(function(){a(!1)})},[]),{languages:n,loading:o}},W=function(e){var t=x.useChatStore.getState(),n=t.messageLinkMap[e];if(n&&!(n.length<2)){var r=(0,E.createGetMessage)({localMessageMap:t.localMessageMap[e],messageMap:t.messageMap[e]}),i=!1,l=-1,c=!0,u=!1,v=void 0;try{for(var p,h,m,_,b=n.entries()[Symbol.iterator]();!(c=(_=b.next()).done);c=!0){var k=(0,s._)(_.value,2),C=k[0],S=k[1];if(h=r(S),p&&!(0,d.default)(p.index)&&Number(null==p?void 0:p.index)+1!==Number(null==h?void 0:h.index)){i=!0,l=C,m=n[C+1]?r(n[C+1]):void 0;break}p=h}}catch(e){u=!0,v=e}finally{try{!c&&null!=b.return&&b.return()}finally{if(u)throw v}}i&&(null==h?void 0:h.message_id)&&(null==p?void 0:p.message_id)&&g.logger.persist.info({eventName:"check_msg_list_index",meta:{success:0,conversation_id:e,prev_message_id:null==p?void 0:p.message_id,message_id:null==h?void 0:h.message_id,after_message_id:null==m?void 0:m.message_id,prev_message_index:null==p?void 0:p.index,message_index:null==h?void 0:h.index,after_message_index:null==m?void 0:m.index,near_messages:JSON.stringify({list:n.slice(l-2<0?0:l-2,l+2).map(function(e){return(0,a._)((0,o._)({},e),{message:(0,f.default)(r(e),["message_id","local_message_id","message_index","reply_id","message_type","local.prevRemoteMessageId","status"])})})})}})}},z=function(e,t){var n=(0,h.useConversation)(e),r=(0,_.isCocoConversation)(n),i=(0,_.isCocoSubConversation)(n);return r||i||t===M.ChatType.NewThread},V=function(e,t){var n,r=(0,N.useChat)().enableSendFileMessage,i=null===(n=(0,h.useMainConversationLink)())||void 0===n?void 0:n.conversationId,o=G(t===M.ChatType.NewThread?null!=i?i:"":e),a=z(e,t),s=(0,c.useMemo)(function(){return null==o?void 0:o.some(function(e){return"show_icon"===e.conf_group_key&&"show_file_icon"===e.conf_key&&"1"===e.conf_value})},[o]);return!!a||s&&void 0!==r&&r},U=function(e,t){var n,r=(0,N.useChat)().enableSendImageMessage,i=null===(n=(0,h.useMainConversationLink)())||void 0===n?void 0:n.conversationId,o=G(t===M.ChatType.NewThread?null!=i?i:"":e),a=z(e,t),s=(0,c.useMemo)(function(){return null==o?void 0:o.some(function(e){return"show_icon"===e.conf_group_key&&"show_image_icon"===e.conf_key&&"1"===e.conf_value})},[o]);return!!a&&!!A.isBetaCiciEnv||!a&&s&&void 0!==r&&r},K=function(e,t){var n=(0,N.useChat)().enableSendWithAttachmentArea,r=G(e),i=z(e,t),o=(0,c.useMemo)(function(){return null==r?void 0:r.some(function(e){return"disable_function"===e.conf_group_key&&"disable_attachment_area"===e.conf_key&&"1"===e.conf_value})},[r]);return!!i||!o&&void 0!==n&&n},G=function(e){var t=((0,h.useConversation)(e)||{}).bot_id;return(T.FlowBot.actions.getBot(void 0===t?"":t)||{}).bot_conf},Q=function(e,t){var n=(0,N.useChat)().excludeMsgActions,r=(0,x.useChatStore)(function(r){var i=(0,m.getMessageFromStore)(e,t,r);return"function"==typeof n?i&&n(i):n}),i=r===L.ActionKeyAll;return{excludeActions:r,filterOutExcludeActions:function(e){var t=e.key;return!i&&(!r||!r.includes(t))},allActionsExcluded:i}}},33919:function(e,t,n){"use strict";n.d(t,{AvatarMovie:function(){return c}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("87608"),s=n.n(a),l="w-120 h-120 rounded-full bg-[rgba(0,0,0,0.06)] object-cover cursor-pointer",c=function(e){var t=e.iconUrl,n=e.videoUrl,a=e.isMainBot,c=e.onClick,u=e.className,d=(0,r._)((0,o.useState)(!1),2),f=d[0],g=d[1];return(0,i.jsx)(i.Fragment,{children:a&&!f?(0,i.jsx)("video",{src:n,playsInline:!0,autoPlay:!0,muted:!0,loop:!0,className:l,onError:function(){return g(!0)},onClick:c}):(0,i.jsx)("img",{src:t,className:s()(l,u),onClick:c})})}},46849:function(e,t,n){"use strict";n.d(t,{LargeAvatarUI:function(){return x}});var r=n("92769"),i=n("40509"),o=n("88802"),a=n("97458"),s=n("14670"),l=n("52983"),c=n("87608"),u=n.n(c),d=n("87382"),f=n("87575"),g=n("53268"),v=n("33919"),p=n("3461"),h=n("32416"),m=n("87399"),_=n("34753"),x=function(e){var t,n=e.botInfo,c=e.enableBotHeat,x=e.enableOpenJump,b=e.enableShowHandleName,k=e.hideButton,C=e.localConversationId,S=e.largeAvatarVideoUrl,w=null!=n?n:{},y=w.icon_url,I=w.name,M=w.bot_stats,T=(w.creator_info||{}).creator_handle,R=(0,p.useChat)(),E=R.onOpenUserProfile,j=R.onOpenCurrentBotSideBar,B=R.t,L=R.onCreateConversationByBot,N=(0,i._)((0,l.useState)(!1),2),A=N[0],F=N[1],P=(0,f.isCocoBotType)(null==n?void 0:n.bot_type),O=function(){null==j||j({enterFrom:"click_onboarding_head_bot_name"})};var D=(t=(0,r._)(function(){var e,t;return(0,o.__generator)(this,function(r){switch(r.label){case 0:F(!0),r.label=1;case 1:if(r.trys.push([1,4,5,6]),!(null==n?void 0:n.id))return[3,3];return[4,null==L?void 0:L({botId:n.id,localConversationId:C,createFrom:"click_plus_chat"})];case 2:r.sent(),r.label=3;case 3:return[3,6];case 4:return e=r.sent(),d.logger.persist.warning({eventName:"create_conversation_by_bot_error",meta:{bot_id:null==n?void 0:n.id,error_str:null==e?void 0:null===(t=e.toString)||void 0===t?void 0:t.call(e)}}),[3,6];case 5:return F(!1),[7];case 6:return[2]}})}),function(){return t.apply(this,arguments)});return P?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)("div",{className:u()("flex items-center mb-26","sm:block sm:text-center",k?"mt-24":"md:mt-84 lg:mt-84 sm:mt-24"),children:[(0,a.jsx)(v.AvatarMovie,{className:"shrink-0 align-bottom",isMainBot:P,videoUrl:P&&S||"",iconUrl:y||m,onClick:O}),(0,a.jsxs)("div",{className:u()("ml-20 shrink overflow-hidden","sm:ml-0 sm:mt-20 sm:text-center"),children:[(0,a.jsx)("div",{className:u()("md:truncate lg:truncate cursor-pointer font-[Montserrat]","sm:line-clamp-2 sm:text-22 sm:leading-30",_["font-h1"]),onClick:O,children:I}),(0,a.jsxs)("div",{className:u()("h-24 mt-8 text-[var(--s-color-text-tertiary)] truncate",_["font-footnote"]),children:[c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.ReactComponent,{className:"align-[-7px]"}),(0,a.jsx)("span",{className:"ml-4",children:null==M?void 0:M.display_heat_score})]}),c&&b&&!!T&&(0,a.jsx)("span",{className:"inline-block text-center w-8 ml-4 mr-6",children:"\xb7"}),b&&!!T&&(0,a.jsx)("span",{className:u()("cursor-pointer",x&&"hover:text-[#1c1f23]"),onClick:function(){if(x){var e,t;(null==n?void 0:null===(e=n.creator_info)||void 0===e?void 0:e.creator_id)?null==E||E({userId:null==n?void 0:null===(t=n.creator_info)||void 0===t?void 0:t.creator_id,enterFrom:"click_onboarding_head_name"}):d.logger.warning({eventName:"message_box_open_user_profile_error"})}},children:B("created_by_username",{postProcess:"sprintf",sprintf:[T]})})]}),(0,a.jsx)(s.default,{in:!P&&!k,timeout:200,children:function(e){return(0,a.jsx)(g.Button,{theme:"solid",loading:A,onClick:D,className:u()("px-10 py-8 rounded-10 mt-8",_["add-button"],_["add-button-".concat(e)]),children:B("add_bot_hover")})}})]})]})}},54030:function(e,t,n){"use strict";n.d(t,{ChatLargeAvatarComposer:function(){return k},LargeAvatar:function(){return C},useLargeAvatarData:function(){return b},useLargeAvatarStore:function(){return x}});var r=n("97458"),i=n("14670"),o=n("52983"),a=n("85205"),s=n("2945"),l=n("87608"),c=n.n(l),u=n("10630"),d=n("87575"),f=n("53641"),g=n("62920"),v=n("87681"),p=n("53268"),h=n("46849"),m=n("3461"),_=n("34753"),x=(0,a.create)(function(e){return{isLargeAvatarClosed:!1,hideAvatar:function(){return e({isLargeAvatarClosed:!0}),new Promise(function(t){e({resolve:t})})},resolve:s.default,resetIsLargeAvatarClosed:function(){e({isLargeAvatarClosed:!1,resolve:s.default})}}}),b=function(e){var t,n=e.conversationId,r=e.botId,i=(0,m.useChat)(),a=i.showBotHeat,s=i.enableBotProfileOpenJump,l=i.showBotHandleName,c=i.alwaysShowLargeAvatar,p=(0,u.useIsFirstChat)(n),h=(0,u.useConversation)(n),_=(0,d.isCocoConversation)(h)||(0,d.isCocoSubConversation)(h),b=f.FlowBot.actions.getBot(null!==(t=null==h?void 0:h.bot_id)&&void 0!==t?t:r),k=_?n:null==b?void 0:b.id,C=(0,g.useChatStore)(function(e){var t;return(null===(t=e.messageListStatusMap[n])||void 0===t?void 0:t.hasMore)||!1}),S=x(function(e){return{isLargeAvatarClosed:e.isLargeAvatarClosed,resetIsLargeAvatarClosed:e.resetIsLargeAvatarClosed,resolve:e.resolve}}),w=S.isLargeAvatarClosed,y=S.resetIsLargeAvatarClosed,I=S.resolve,M=(0,m.useChat)().chatViewConfig,T=(0,o.useMemo)(function(){return(!!(0,d.isBotConversation)(h)||(null==M?void 0:M.chatType)===v.ChatType.Bot||(null==M?void 0:M.chatType)===v.ChatType.ProfileBot)&&(null==M?void 0:M.chatType)!==v.ChatType.NewThread&&(c?!C:!w&&p)},[C,w,p,k,null==M?void 0:M.chatType]);return(0,o.useEffect)(function(){y()},[p,k]),{hideButton:!1,enableShowHandleName:l,enableOpenJump:s,enableBotHeat:a,showLargeAvatar:T,isCocoOrCocoSub:_,botInfo:b,onExited:function(){I()}}},k=function(e,t){return function(){var n,o,a,s,l,u=(0,m.useChat)(),g=u.chatViewConfig,h=u.locationState,x=null!==(n=null==g?void 0:g.chatId)&&void 0!==n?n:"",b=(0,d.isBotChat)(null==g?void 0:g.chatType),k=t({conversationId:o=b?f.FlowBot.actions.getBotIdToLocalConversationMap()[x]:x,botId:x}),C=k.botInfo,S=k.enableBotHeat,w=k.enableOpenJump,y=k.enableShowHandleName,I=k.hideButton,M=k.isCocoOrCocoSub,T=k.showLargeAvatar,R=k.largeAvatarVideoUrl,E=k.onExited,j=M?o:null==C?void 0:C.id;a=C?(null===(s=C.onboarding)||void 0===s?void 0:s.message_list)&&(null===(l=C.onboarding)||void 0===l?void 0:l.message_list.length)>=2:!!(null==h?void 0:h.showSkeleton);var B=(null==g?void 0:g.chatType)===v.ChatType.LocalConversation,L=(0,r.jsx)(r.Fragment,{children:!a&&(0,r.jsxs)("div",{className:c()("flex items-center mb-26","sm:flex-col",I?"mt-24":"md:mt-84 lg:mt-84 sm:mt-24"),children:[(0,r.jsx)(p.Skeleton.Avatar,{className:"w-120 h-120 shrink-0"}),!M&&!B&&(0,r.jsxs)("div",{className:"ml-20 shrink sm:ml-0 sm:mt-20 sm:flex sm:flex-col sm:items-center",children:[(0,r.jsx)(p.Skeleton.Title,{className:"w-209 h-36"}),(0,r.jsx)(p.Skeleton.Title,{className:"w-220 h-24 mt-8"}),b?(0,r.jsx)(p.Skeleton.Button,{className:"w-97 h-32 mt-8 rounded-10"}):null]})]})});return(0,r.jsx)(i.default,{in:T,timeout:200,unmountOnExit:!0,onExited:E,children:function(t){return(0,r.jsx)(p.Skeleton,{loading:!(null==C?void 0:C.id),placeholder:L,active:!0,children:(0,r.jsx)("div",{className:_["fade-".concat(t)],children:(0,r.jsx)(e,{localConversationId:o,enableBotHeat:S,enableOpenJump:w,enableShowHandleName:y,largeAvatarVideoUrl:R,hideButton:I,botInfo:C})})})}},"avatar-".concat(j))}},C=k(h.LargeAvatarUI,b)},47232:function(e,t,n){"use strict";n.d(t,{MessageBlock:function(){return y}});var r,i,o,a=n("9161"),s=n("16044"),l=n("89334"),c=n("97458"),u=n("28377"),d=n("33434"),f=n("87608"),g=n.n(f),v=n("87382"),p=n("59312"),h=n("62920"),m=n("54769"),_=n("87575"),x=n("10630"),b=n("53641"),k=n("53277"),C=n("3461"),S=n("65886");var w=((r={}).Normal="Normal",r.CrowdTest="CrowdTest",r);var y=(i=function(e){var t=e.conversationId,n=e.blockType,r=e.messageLinks,i=e.lastSendMessageLink,o=e.lastAvailableMessageLink,d=e.isShowActionsAndSuggests,f=void 0!==d&&d,v=e.isLastBlock,p=e.isThreadConversation,h=void 0!==p&&p,m=e.MessageBoxSlot,x=e.CrowdTestBlockSlot,b=(0,l._)(e,["conversationId","blockType","messageLinks","lastSendMessageLink","lastAvailableMessageLink","isShowActionsAndSuggests","isLastBlock","isThreadConversation","MessageBoxSlot","CrowdTestBlockSlot"]),C=(0,u.useInView)(),y=C.ref,I=C.inView,M=function(e){return e&&(0,k.getMessageFromStore)(t,e)?m?(0,c.jsx)(m,{messageLink:e,conversationId:t,isLastSendMessage:(null==i?void 0:i.messageId)===e.messageId,isLastAvailableMessage:(null==o?void 0:o.messageId)===e.messageId,isShowActionsAndSuggests:f,isThreadConversation:h}):null:null},T=function(){var e=r.find(function(e){var n=(0,k.getMessageFromStore)(t,e);return!(0,_.isUnselectedCrowdTestMessage)(n)});return r.some(function(e){var n=(0,k.getMessageFromStore)(t,e);return!(0,_.isMessageAvailable)(n)})?null:e?M(e):v?x?(0,c.jsx)(x,{inView:I,conversationId:t,messageLinks:r}):null:M(r[0])},R=n===w.CrowdTest?T():M(r[0]);return R?(0,c.jsx)("div",(0,s._)((0,a._)({"data-testid":"message-block-container",className:g()(S["message-block-container"]),ref:y},b),{children:R})):null},o=function(e){var t=e.messageLinks,n=e.conversationId,r=e.lastAvailableMessageLink,i=(0,C.useChat)().chatViewConfig,o=(0,p.useSecUserId)(),a=(0,h.useChatStore)(function(e){var i=m.useMessageListByMessageLinks.raw(e,n,t);return{isLastBlock:i.some(function(e){return e.message_id===(null==r?void 0:r.messageId)}),isCrowdTest:i.every(function(e){return(0,_.isCrowdTestMessage)(e)}),isSend:i.every(function(e){return(0,_.isSendMessage)(e,o)})}},d.shallow),s=a.isLastBlock,l=a.isCrowdTest,c=a.isSend,u=(0,x.useConversation)(n),f=b.FlowBot.actions.getBot((null==i?void 0:i.chatType)&&(0,_.isBotChat)(null==i?void 0:i.chatType)?(null==i?void 0:i.chatId)||"":(null==u?void 0:u.bot_id)||"");return{blockType:l?w.CrowdTest:w.Normal,botInfo:f,isSend:c,isLastBlock:s,isThreadConversation:(0,_.isCocoConversation)(u)||(0,_.isCocoSubConversation)(u)}},function(e){var t=e.conversationId,n=e.messageLinks,r=e.lastAvailableMessageLink,s=e.MessageBlockErrorFallbackSlot,u=(0,l._)(e,["conversationId","messageLinks","lastAvailableMessageLink","MessageBlockErrorFallbackSlot"]),d=o({messageLinks:n,conversationId:t,lastAvailableMessageLink:r}),f=d.blockType,g=d.isLastBlock,p=d.isThreadConversation;return(0,c.jsx)(v.ErrorBoundary,{errorBoundaryName:"message_block_error",FallbackComponent:s,onError:function(e,r){n.forEach(function(n){var i;v.logger.persist.error({eventName:"message_block_error",error:e,meta:{info:r,conversation_id:t,message_id:n.messageId,content_type:null===(i=(0,k.getMessageFromStore)(t,n))||void 0===i?void 0:i.content_type}})})},children:(0,c.jsx)(i,(0,a._)({conversationId:t,messageLinks:n,blockType:f,lastAvailableMessageLink:r,isLastBlock:g,isThreadConversation:p},u))})})},54051:function(e,t,n){"use strict";n.d(t,{MessageListLoadMore:function(){return d}});var r,i,o=n("97458"),a=n("28377"),s=n("52983"),l=n("62920"),c=n("75643"),u=n("3461");var d=(r=function(e){var t=e.hasMore,n=(0,a.useInView)(),r=n.inView,i=n.ref,l=(0,u.useChat)().chatViewRef;return((0,s.useEffect)(function(){if(r&&t){var e,n;null===(n=l.current)||void 0===n||null===(e=n.onLoadMore)||void 0===e||e.call(n)}},[r]),t)?(0,o.jsx)(c.LoadMorePure,{ref:i}):null},i=function(e){var t=e.conversationId;return{hasMore:(0,l.useChatStore)(function(e){var n;return(null===(n=e.messageListStatusMap[t])||void 0===n?void 0:n.hasMore)||!1})}},function(e){var t=e.className,n=e.style,a=i(e).hasMore;return(0,o.jsx)(r,{hasMore:a,className:t,style:n})})},45818:function(e,t,n){"use strict";n.d(t,{MessageListClassicScroller:function(){return a}});var r=n("97458"),i=n("55792"),o=n("3461"),a=function(e){var t=e.dataList,n=e.children,a=e.top,s=e.bottom,l=e.keepedBottom,c=e.className,u=e.style,d=(0,o.useChat)(),f=d.onScroll,g=d.chatViewRef,v=d.scrollRef;return(0,r.jsx)(i.ClassicScrollView,{dataList:t,getId:function(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},top:a,bottom:s,keepedBottom:l,onReachTop:function(){var e,t;null===(t=g.current)||void 0===t||null===(e=t.onLoadMore)||void 0===e||e.call(t)},ref:v,onScroll:f,className:c,style:u,children:n})}},54477:function(e,t,n){"use strict";n.d(t,{MessageListVirtualScroller:function(){return u}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("78597"),s=n("88125"),l=n("3461"),c=n("33049"),u=function(e){var t=e.dataList,n=e.children,i=e.top,u=e.bottom,d=e.keepedBottom,f=e.className,g=e.style,v=(0,l.useChat)(),p=v.scrollRef,h=v.chatViewRef,m=v.chatViewConfig,_=v.onScroll,x=null!=m?m:{},b=x.chatId,k=x.chatType;return(0,r.jsx)(s.VirtualScrollView,{className:o()(c.container,f),style:g,itemClassName:c.item,showScrollbar:!(0,a.isMacosSafari)(),dataList:t,getId:function(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""},ref:p,onReachTop:function(){var e,t;null===(t=h.current)||void 0===t||null===(e=t.onLoadMore)||void 0===e||e.call(t)},onScroll:_,top:i,bottom:u,keepedBottom:d,initAtBottom:!0,pageHash:"".concat(k,"_").concat(b),children:n})}},74832:function(e,t,n){"use strict";n.d(t,{SectionDivider:function(){return l}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("3461"),s=n("82640"),l=function(e){var t=(0,a.useChat)().t,n=e.className,i=e.dividerCenter,l=void 0===i?t("context_cleared"):i;return(0,r.jsxs)("div",{className:o()(s["section-divider"],n),style:{willChange:"transform"},"data-testid":"message_section_divider",children:[(0,r.jsx)("span",{className:s.line}),(0,r.jsx)("span",{className:s.text,children:l}),(0,r.jsx)("span",{className:s.line})]})}},98057:function(e,t,n){"use strict";n.d(t,{isBlockMessageItem:function(){return p},isDividerMessageItem:function(){return v},isSingleMessageItem:function(){return g},useUnionMessageList:function(){return x}});var r=n("6462"),i=n("23898"),o=n("43875"),a=n("98199"),s=n("83053"),l=n("54769"),c=n("53277"),u=n("87575"),d=n("62920"),f=n("82480"),g=function(e){return"single"===e.type},v=function(e){return"divider"===e.type},p=function(e){return"block"===e.type},h=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t.at(r),o=t.at(r+1);if(!!i&&!!g(i)){var a=[];(0,f.judgeIsCrowdTestByMessageLink)(e,i.data)&&o&&g(o)&&(0,f.judgeIsCrowdTestByMessageLink)(e,o.data)?(a.push(i.data,o.data),r++):a.push(i.data),a.length&&n.push({type:"block",data:a,showActionsAndSuggests:i.showActionsAndSuggests,id:"block_".concat(i.data.messageKey||i.data.messageId)})}}return n},m=function(e,t){var n,r=(null!==(n=t.messageLinkMap[e])&&void 0!==n?n:[]).map(function(e){return{type:"single",data:e,showActionsAndSuggests:!0,id:"single_".concat(e.messageKey||e.messageId)}});return h(e,r)},_=function(e,t){var n,s=null!==(n=t.messageLinkMap[e])&&void 0!==n?n:[],d=l.useMessageAvailableIndex.raw(t,e),f=(0,i.default)(s,function(n,r){var i=(0,c.getMessageFromStore)(e,r,t),a=(0,u.isMessageVisible)(i,d)?1:0,s=(0,o.default)(n,function(e){return e.sectionId===(null==i?void 0:i.section_id)});return~s?(n[s].messageLinks.push(r),n[s].visibleMessageCount+=a):n.push({sectionId:null==i?void 0:i.section_id,visibleMessageCount:a,messageLinks:[r]}),n},[]),g=l.useLastSectionId.raw(t,e),p=[];return f.forEach(function(t,n){var i,o=t.sectionId,s=t.visibleMessageCount,l=t.messageLinks,d=null===(i=f.at(n+1))||void 0===i?void 0:i.messageLinks[0],m=!1;if(d){var _=(0,c.getMessageFromStore)(e,d);m=(0,u.isTemplateMessage)(_)}var x=!!o&&s>0,b=n===f.length-1,k=!!g,C=b?x&&k&&o!==g&&!m:x&&!m,S=b?k:x,w=l.map(function(e){return{type:"single",data:e,showActionsAndSuggests:!C&&S,id:"real_".concat(e.messageId)}});p.push.apply(p,(0,r._)(h(e,w)));var y=(0,a.default)(p);C&&!(y&&v(y))&&p.push({type:"divider",id:"divider_".concat(o)})}),p},x=function(e){var t=e.conversationId,n=e.segmented;return{messageList:(0,d.useChatStore)(function(e){return n?_(t,e):m(t,e)},s.default)}}},27857:function(e,t,n){"use strict";n.d(t,{MessageList:function(){return R}});var r,i,o=n("83316"),a=n("9161"),s=n("16044"),l=n("89334"),c=n("40509"),u=n("97458"),d=n("52983"),f=n("3820"),g=n("87608"),v=n.n(g),p=n("78597"),h=n("32156"),m=n("59312"),_=n("54769"),x=n("53277"),b=n("87575"),k=n("53268"),C=n("98057"),S=n("54477"),w=n("45818"),y=n("39246"),I=n("33652"),M=n("3461"),T=n("89405");var R=(r=function(e){var t,n=e.loading,r=e.dataList,i=e.children,a=e.top,s=e.bottom,l=e.className,g=(0,M.useChat)(),m=g.scrollRef,_=g.enableMessageListVirtualScroll,x=(0,c._)((0,d.useState)(!1),2),b=x[0],C=x[1],R=_?S.MessageListVirtualScroller:w.MessageListClassicScroller;if(n)return(0,u.jsx)(h.SamanthaLayout.MaxWidthLayout,{children:(0,u.jsx)(k.Spin,{size:"middle",wrapperClassName:T["msg-list-loading"]})});var E=.8*window.innerHeight;return(0,u.jsxs)("div",{className:v()(T["message-list"],l),children:[(0,u.jsx)(R,{dataList:r,top:(0,u.jsx)(h.SamanthaLayout.MaxWidthLayout,{className:T["inner-item"],children:(0,f.default)(a)?a():a}),bottom:(0,u.jsx)(h.SamanthaLayout.MaxWidthLayout,{className:T["inner-item"],children:(0,f.default)(s)?s():s}),keepedBottom:(0,u.jsx)(y.BottomReachIndicator,{onShow:function(){C(!1)},onHide:function(){C(!0)},bottomThreshold:_?E:"min(100%, ".concat(E,"px)")}),children:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.jsx)(h.SamanthaLayout.MaxWidthLayout,{className:T["inner-item"],ref:t.anchorTopRef,"data-testid":"union_message",children:i(e)})}}),(0,u.jsx)(h.SamanthaLayout.MaxWidthLayout,{children:(0,u.jsx)(I.ToBottomButton,{className:v()(T["to-bottom-button"],(t={},(0,o._)(t,T.hidden,!b),(0,o._)(t,T.mobile,(0,p.getIsMobile)()),t)),onClick:function(){var e;null==m||null===(e=m.current)||void 0===e||e.scrollToBottom({smooth:!0})}})})]})},i=function(e){var t=e.conversationId,n=e.segmented,r=(0,m.useSecUserId)(),i=(0,_.useMessageLinksWithStatus)(t),o=i.status.loading,a=i.messageLinks,s=i.resolveConversationId;return{lastSendMessageLink:(0,x.findLastMessageFromStore)(s,a,function(e){var t=(0,e.getMessage)();return(0,b.isSendMessage)(t,r)&&(0,b.isMessageAvailable)(t)}).messageLink,lastAvailableMessageLink:(0,x.findLastAvailableMessageLinkFromStore)(s,a),unionMessageList:(0,C.useUnionMessageList)({conversationId:t,segmented:n}).messageList,loading:void 0!==o&&o,resolveConversationId:s,rawMessageLinks:a}},function(e){var t=e.section,n=e.MessageBlockSlot,o=e.LoadMoreSlot,c=e.InnerAfterMessageListSlot,d=e.SectionDividerSlot,f=e.MessageBeforeSlot,g=e.LargeAvatarSlot,v=e.enableLoadMore,p=void 0!==v&&v,h=e.className,m=(0,l._)(e,["section","MessageBlockSlot","LoadMoreSlot","InnerAfterMessageListSlot","SectionDividerSlot","MessageBeforeSlot","LargeAvatarSlot","enableLoadMore","className"]),_=i((0,s._)((0,a._)({},m),{segmented:void 0===t||t})),x=_.lastSendMessageLink,b=_.lastAvailableMessageLink,k=_.loading,S=_.unionMessageList,w=_.renderTailNodes,y=_.resolveConversationId;return(0,u.jsx)(r,{loading:k,enableLoadMore:p,dataList:S,bottom:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-full h-30"})," ",null==w?void 0:w(),c&&(0,u.jsx)(c,{})]}),top:(0,u.jsxs)(u.Fragment,{children:[p&&o&&(0,u.jsx)(o,{conversationId:y}),(0,u.jsx)("div",{className:"w-full h-12"}),f&&(0,u.jsx)(f,{}),g&&(0,u.jsx)(g,{})]}),className:h,children:function(e){if((0,C.isBlockMessageItem)(e)){var t=e.id,r=e.data,i=e.showActionsAndSuggests;return n&&(0,u.jsx)(n,{messageLinks:r,conversationId:y,lastSendMessageLink:x,lastAvailableMessageLink:b,isShowActionsAndSuggests:i},t)}if((0,C.isSingleMessageItem)(e))return null;if((0,C.isDividerMessageItem)(e)){var o=e.id;return d&&(0,u.jsx)(d,{},o&&"section-divider-".concat(o))}return null}})})},91605:function(e,t,n){"use strict";n.d(t,{MessageBoxLoading:function(){return f}});var r=n("97458"),i=n("53641"),o=n("62920"),a=n("54769"),s=n("10630"),l=n("87575"),c=n("41249"),u=n("3461"),d=function(e){var t,n=null===(t=i.FlowBot.useBotInfo)||void 0===t?void 0:t.call(i.FlowBot,null!=e?e:""),r=(0,o.useChatStore)(function(e){var t;return null===(t=e.userOgfQuota)||void 0===t?void 0:t.placeholder});return(null==r?void 0:r.showPlaceholder)&&(null==n?void 0:n.bot_type)!==void 0&&(null==r?void 0:r.enabledBotTypes.includes(null==n?void 0:n.bot_type))&&e&&!(null==r?void 0:r.botIdsBlackList.includes(e))},f=function(e){var t=e.conversationId,n=e.messageLink,i=(0,u.useChat)(),o=i.chatViewConfig,f=i.t,g=(0,a.useMessage)(t,n),v=(0,s.useConversation)(null==g?void 0:g.conversation_id);d((null==o?void 0:o.chatType)&&(0,l.isBotChat)(null==o?void 0:o.chatType)?null==o?void 0:o.chatId:null==v?void 0:v.bot_id);var p=void 0;return(0,r.jsxs)("span",{className:"flex items-baseline","data-testid":"message_loading",children:[p&&(0,r.jsx)("span",{className:"mr-4",children:p}),(0,r.jsx)(c.DotFlashing,{})]})}},57482:function(e,t,n){"use strict";n.d(t,{CustomAnswerActionIcon:function(){return s}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("84712"),s=function(e){var t=e.iconURL,n=e.theme;return(0,r.jsx)("div",{className:o()("bg-center bg-no-repeat bg-contain",a.image,a[void 0===n?"primary":n]),style:{backgroundImage:"url(".concat(t,")")}})}},49176:function(e,t,n){"use strict";n.d(t,{CustomAnswerActionModelContent:function(){return _},useCustomAnswerActionModal:function(){return b}});var r=n("9161"),i=n("40509"),o=n("97458"),a=n("52983"),s=n("87382"),l=n("78597"),c=n("53277"),u=n("10630"),d=n("41095"),f=n("8407"),g=n("16269"),v=n("3461"),p=n("48601"),h={},m=function(e,t,n,r,i){if(r){var o=(0,c.getMessageFromStore)(t,n);return{messageInfo:{bot_id:r,action_key:e.key,msg_id:null==n?void 0:n.messageId,conversation_id:t,section_id:(null==o?void 0:o.section_id)||""},type:"web",request:d.httpClient,closeModal:i,language:(0,l.getUnreactiveLanguage)()}}},_=function(e){var t=e.FallbackComponent,n=e.action,i=e.flowContext,a=n.trigger_url?h[n.trigger_url]:void 0;return a?(0,o.jsx)(a,(0,r._)({},i)):(0,o.jsx)(t,{})},x=function(e){var t=e.onClick;return(0,o.jsx)(f.CustomAnswerActionModalCloseIcon,{onClick:t})},b=function(e,t,n){var r=(0,v.useChat)(),l=r.t,c=r.getPopupContainer,d=(0,u.useConversation)(e),f=null==d?void 0:d.bot_id,h=(0,i._)((0,a.useState)(!1),2),_=h[0],b=h[1],k=(0,i._)((0,a.useState)(),2),C=k[0],S=k[1],w=(0,i._)((0,a.useState)(!0),2),y=w[0],I=w[1];(0,a.useEffect)(function(){var e=!y&&setTimeout(function(){return I(!0)},100);return function(){e&&clearTimeout(e)}},[y]);var M=(0,a.useCallback)(function(e){S(e),b(!0)},[S,b]),T=(0,a.useCallback)(function(){b(!1),S(void 0)},[b,S]),R=(0,a.useCallback)(function(){return(0,o.jsxs)("div",{className:"flex flex-col items-center",style:{height:200},children:[(0,o.jsxs)("div",{className:"flex items-center justify-center text-18 font-semibold basis-68",children:[(0,o.jsx)("span",{children:null==C?void 0:C.name}),(0,o.jsx)("div",{className:"absolute top-19 right-19 cursor-pointer",children:(0,o.jsx)(x,{onClick:T})})]}),y&&(0,o.jsx)("div",{className:"flex flex-col items-center mt-40 text-[#0066FF] cursor-pointer",onClick:function(){return I(!1)},children:l("chat_list_load_failed")})]})},[null==C?void 0:C.name,T,y,I]);return{openModal:M,renderModal:function(){if(!C||!_)return null;var r=m(C,e,t,f,T);return(0,o.jsx)(g.UIKitModal,{className:p.modal,visible:!0,onOk:T,onCancel:T,closeOnEsc:!0,header:null,footer:null,centered:!0,getPopupContainer:c,children:n&&r?(0,o.jsx)(s.ErrorBoundary,{errorBoundaryName:"custom_answer_action_modal",FallbackComponent:R,children:(0,o.jsx)(n,{flowContext:r,action:C,FallbackComponent:R})}):(0,o.jsx)(R,{})})},modalOpend:_,activeActionKey:null==C?void 0:C.key}}},93424:function(e,t,n){"use strict";n.d(t,{DEFAULT_ACTIONS_ORDER_BY_KEYS:function(){return i},FALLBACK_VALID_ANSWER_ACTIONS:function(){return o},getDefaultAction:function(){return a}});var r=n("39798"),i=[r.AnswerActionKey.Edit,r.AnswerActionKey.Copy,r.AnswerActionKey.Regenerate,r.AnswerActionKey.SkillModify,r.AnswerActionKey.PreMsg,r.AnswerActionKey.NextMsg,r.AnswerActionKey.Like,r.AnswerActionKey.Dislike],o=[{key:r.AnswerActionKey.Copy,name:r.AnswerActionKey.Copy,icon:{},position:0},{key:r.AnswerActionKey.CreateConversation,name:r.AnswerActionKey.CreateConversation,icon:{},position:1},{key:r.AnswerActionKey.Like,name:r.AnswerActionKey.Like,icon:{},position:2},{key:r.AnswerActionKey.Dislike,name:r.AnswerActionKey.Dislike,icon:{},position:3},{key:r.AnswerActionKey.Report,name:r.AnswerActionKey.Report,icon:{},position:5},{key:r.AnswerActionKey.Regenerate,name:r.AnswerActionKey.Regenerate,icon:{},position:-1}],a=function(e){return{key:e,name:e,icon:{},position:0}}},34531:function(e,t,n){"use strict";n.d(t,{useRenderAnswerActionButton:function(){return O}});var r,i=n("83316"),o=n("9161"),a=n("16044"),s=n("40509"),l=n("97458"),c=n("52983"),u=n("33434"),d=n("2945"),f=n("49647"),g=n("87608"),v=n.n(g),p=n("78597"),h=n("94154"),m=n("87575"),_=n("54769"),x=n("75761"),b=n("59312"),k=n("99138");n("31566");var C=n("62920"),S=n("53277"),w=n("59657"),y=n("53268"),I=n("37933"),M=n("39798"),T=n("57482"),R=n("3461"),E=n("95133"),j=n("8407"),B=n("78004"),L=n("15930");var N=((r=N||{}).askOgf="ask_ogf",r.searchWeb="search_web",r.regenerate="regenerate",r),A=function(e){var t=(0,s._)((0,c.useState)(!1),2),n=t[0],r=t[1],i=(0,s._)((0,c.useState)(!1),2),o=i[0],a=i[1],l=(0,c.useRef)(-1);return((0,c.useEffect)(function(){n&&(l.current=Number(setTimeout(function(){r(!1)},3e3)))},[n]),e)?{onCopyClick:function(){e(),r(!0)},onMouseLeave:function(){a(!0)},onMouseEnter:function(){a(!1),o&&(r(!1),clearTimeout(l.current))},checked:n}:{onCopyClick:void 0,onHover:void 0,checked:n}},F=function(e){var t,n=e.actions,r=e.conversationId,o=e.messageLink,a=(0,B.useBaseSlots)(),u=a.RegenerateIcon,d=a.SearchWebIcon,f=a.BlackLightningIcon;a.RegenerateSwitchUpIcon,a.RegenerateSwitchDownIcon;var g=(0,R.useChat)().t;(0,_.useActiveRegenerateMessage)(r,o).regenerateMessageLinks;var v=(0,s._)((0,c.useState)(!1),2);v[0],v[1],(0,x.getBotIdByConversationId)(r);var p=n.onRegenerateMessageClick,h=n.onAskOgfMessageClick,m=n.onSearchWebMessageClick;return(0,b.useOgfConfig)(),t={},(0,i._)(t,k.RegenerateType.RegenerateTypeUnknown,{icon:(0,l.jsx)(u,{}),onClick:p}),(0,i._)(t,k.RegenerateType.RegenerateTypeDefault,{icon:(0,l.jsx)(u,{}),onClick:p}),(0,i._)(t,k.RegenerateType.RegenerateTypeSearch,{name:g("search_web_btn"),showTitle:!0,icon:(0,l.jsx)(d,{}),onClick:m}),(0,i._)(t,k.RegenerateType.RegenerateTypeOgf,{name:g("ask_gpt_btn"),showTitle:!0,icon:(0,l.jsx)(f,{}),onClick:h}),{icon:(0,l.jsx)(u,{}),name:g("regenerate_button_hover_text"),showTitle:!0,onClick:p}},P=function(e){var t,n,r,i,o=e.actions.onSkillModifySend,a=e.conversationId,f=e.messageLink,g=(0,R.useChat)(),v=g.t,p=g.getPopupContainer,_=(0,B.useBaseSlots)(),x=_.SkillModifyIcon,b=_.SkillIcon_Translate,k=(0,C.useChatStore)(function(e){var t=(0,S.getMessageFromStore)(a,f,e);return{show:(0,m.isWritingSkillAnswer)(t)}},u.shallow).show,I=(0,w.useWritingAssistantFormConfig)(),M={makeShorter:{name:v("modify_make_shorter"),icon:(0,l.jsx)(j.MakeShorterIcon,{className:"!mr-8"}),onClick:function(){return null==o?void 0:o(v("modify_make_shorter"),{scene:"edit_shorten"})}},makeLonger:{name:v("modify_make_longer"),icon:(0,l.jsx)(j.MakeLongerIcon,{className:"!mr-8"}),onClick:function(){return null==o?void 0:o(v("modify_make_longer"),{scene:"edit_elaborate"})}},changeTone:{name:v("modify_change_tone"),showTitle:!0,icon:(0,l.jsx)(j.ChangeToneIcon,{className:"!mr-8"}),onClick:d.default,children:null==I?void 0:null===(n=I.compose)||void 0===n?void 0:null===(t=n.tone)||void 0===t?void 0:t.map(function(e){return{name:e.show_name,onClick:function(){return null==o?void 0:o("".concat(v("modify_change_tone"),": ").concat(e.show_name),{scene:"edit_changeTone"})}}})},changeLanguage:{name:v("skill_writing_config_language"),showTitle:!0,icon:(0,l.jsx)(b,{className:"text-20 !mr-8"}),children:null==I?void 0:null===(i=I.compose)||void 0===i?void 0:null===(r=i.language)||void 0===r?void 0:r.map(function(e){return{name:e.language_loc,onClick:function(){return null==o?void 0:o("".concat(v("modify_change_language"),": ").concat(e.language_loc),{scene:"edit_changeLanguage"})}}}),onClick:d.default}},T=(0,s._)((0,c.useState)(!1),2),L=T[0],N=T[1],A=(0,c.useRef)(""),F=function(e){var t="string"==typeof e?M[e]:e,n=t.icon,r=t.name,i=t.onClick,o=t.children,a="string"==typeof e?e:"",s=null!=r?r:v("regenerate_button_hover_text");if(void 0===i)return null;var c=(0,l.jsxs)("div",{className:"w-full pl-10 py-8 pr-8 flex items-center",children:[n,(0,l.jsx)("div",{className:"flex-1 min-w-0",children:s}),(null==o?void 0:o.length)&&(0,l.jsx)(h.ReactComponent,{className:"ml-8 text-20 text-black opacity-25"})]});return(0,l.jsx)(y.Dropdown.Item,{className:"p-0 min-w-140 max-w-180 rounded-10 s-font-small text-s-color-text-primary",onClick:function(){null==i||i(E.ClickFromAction.regenerateBoard),N(!L)},hover:(null==o?void 0:o.length)?A.current===a:void 0,children:(null==o?void 0:o.length)?(0,l.jsx)("div",{className:"w-full flex items-center",onClick:function(e){return e.stopPropagation(),e.preventDefault()},children:(0,l.jsx)(y.Popover,{getPopupContainer:p,position:"rightTop",trigger:"hover",onVisibleChange:function(e){return a&&(A.current===a||!A)&&(A.current=e?a:"")},spacing:13,style:{borderRadius:"10px",padding:"4px 0"},content:(0,l.jsx)("div",{className:"max-h-400 flow-scrollbar overflow-y-scroll pl-8",style:{paddingRight:"calc(8px - var(--scrollbar-width))"},children:(0,l.jsx)(y.Dropdown.Menu,{children:o.map(function(e){return F(e)})})}),children:c})}):c},s)};if(k)return{showTitle:!0,icon:(0,l.jsx)(x,{}),name:v("modify_action_title"),onClick:function(){return N(!0)},renderWrapper:function(e){return(0,l.jsx)("div",{className:"mr-12 flex",children:(0,l.jsx)(y.Popover,{getPopupContainer:p,position:"topLeft",clickToHide:!0,trigger:"click",onClickOutSide:function(){return N(!L)},visible:L,style:{borderRadius:"10px",padding:"4px 8px"},content:(0,l.jsx)(y.Dropdown.Menu,{children:Object.keys(M).map(F)}),children:(0,l.jsx)("div",{className:"flex items-center",onClick:function(){return N(function(e){return!e})},children:e})})})},extraProps:{style:{marginRight:"2px",fontSize:"14px",fontWeight:"500"}}}},O=function(e){var t,n=e.actions,r=e.liked,s=e.disliked,u=e.conversationId,d=e.messageLink,g=e.activeCustomActionKey,h=e.FlowAnswerActionButtonSlot,m=(0,R.useChat)().t,x=(0,B.useBaseSlots)(),b=x.NewConversationIcon,k=x.ThumbUpIcon,C=x.ThumbUpSolidIcon,S=x.ThumbDownIcon,w=x.ThumbDownSolidIcon,y=x.AlertTriangleIcon,E=x.EditMessageButtonIcon,j=x.DebugIcon,N=x.DeleteIcon,O=x.OkIcon,D=x.CopyIcon,H=x.RegenerateLeftIcon,q=x.RegenerateRightIcon,W=n.onEditClick,z=n.onDebugMessageClick,V=n.onCopyClick,U=n.onCreateConversation,K=n.onLikeClick,G=n.onDislikeClick,Q=n.onBotOrMessageReportClick,Y=n.onDeleteClick,J=n.onPrevMessageClick,X=n.onNextMessageClick,Z=n.onCustomActionClick,$=A(V),ee=$.onCopyClick,et=$.checked,en=(0,_.useActiveRegenerateMessage)(u,d),er=en.regenerateMessageLinks,ei=en.isRegenerateTail,eo=en.regenerateActiveIndex,ea=F({actions:n,conversationId:u,messageLink:d}),es=P({actions:n,conversationId:u,messageLink:d}),el=(t={},(0,i._)(t,M.AnswerActionKey.Edit,{icon:(0,l.jsx)(E,{}),name:m("message_long_press_edit"),showTitle:!0,onClick:W}),(0,i._)(t,M.AnswerActionKey.Debug,{icon:(0,l.jsx)(j,{}),name:"Debug Message",onClick:z}),(0,i._)(t,M.AnswerActionKey.Copy,{name:m("message_long_press_copy"),showTitle:!0,icon:et?(0,l.jsx)(O,{"data-testid":"message_action_icon_checked"}):(0,l.jsx)(D,{}),onClick:ee}),(0,i._)(t,M.AnswerActionKey.CreateConversation,{icon:(0,l.jsx)(b,{}),name:m("create_new_chat"),onClick:U}),(0,i._)(t,M.AnswerActionKey.Like,{icon:r?(0,l.jsx)(C,{"data-testid":"message_action_icon_checked"}):(0,l.jsx)(k,{}),name:m("message_long_press_like"),onClick:K&&function(){return null==K?void 0:K({click_from:"long_press_answer"})}}),(0,i._)(t,M.AnswerActionKey.Dislike,{icon:s?(0,l.jsx)(w,{"data-testid":"message_action_icon_checked"}):(0,l.jsx)(S,{}),name:m("message_long_press_dislike"),onClick:G&&function(){return null==G?void 0:G({click_from:"long_press_answer"})}}),(0,i._)(t,M.AnswerActionKey.Report,{icon:(0,l.jsx)(y,{}),name:m("bot_response_report"),onClick:Q&&function(){return null==Q?void 0:Q({click_from:"long_press_answer"})}}),(0,i._)(t,M.AnswerActionKey.Delete,{icon:(0,l.jsx)(N,{className:L["delete-icon"]}),name:m("long_press_delete_message"),onClick:Y&&function(){return null==Y?void 0:Y()},extraProps:{color:"danger"}}),(0,i._)(t,M.AnswerActionKey.Regenerate,ea),(0,i._)(t,M.AnswerActionKey.SkillModify,es),(0,i._)(t,M.AnswerActionKey.PreMsg,{icon:(0,l.jsx)(H,{className:"block"}),name:m("regenerate_previous_button_hover_text"),onClick:J,titleFallback:"".concat((eo||0)+1),extraProps:{disabled:d.messageId===d.regen_head,noHorizontalPadding:!0,style:{marginInlineEnd:0}}}),(0,i._)(t,M.AnswerActionKey.NextMsg,{icon:(0,l.jsx)(q,{className:"block"}),name:m("regenerate_next_button_hover_text"),onClick:X,titleFallback:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"mx-1",children:"/"}),(0,l.jsx)("span",{children:(null==er?void 0:er.length)||0})]}),extraProps:{iconPosition:"right",disabled:!er||ei,textContent:String(null==er?void 0:er.length),noHorizontalPadding:!0}}),t),ec=function(e){var t=e.icon,n=t.default_url,r=t.active_url,i=t.type,o=e.key===g,a=(0,I.processIconURL)(i,o?r:n);return Z?{icon:(0,l.jsx)(T.CustomAnswerActionIcon,{iconURL:a}),name:e.name,onClick:function(){return null==Z?void 0:Z(e)},extraProps:{className:v()(L.button,o&&L.active)}}:null},eu=(0,f.default)(n).filter(function(e){return n[e]}).sort();return(0,p.useDeepCompareMemo)(function(){return function(e){var t,n=null!==(t=el[e.key])&&void 0!==t?t:ec(e);if(null==n?void 0:n.onClick){var r=n.icon,i=n.name,s=n.showTitle,l=void 0!==s&&s,u=n.onClick,d=n.renderWrapper,f=n.extraProps,g=n.titleFallback,v=(0,c.createElement)(h,(0,a._)((0,o._)({},f),{key:e.key,icon:r,tooltipText:l?void 0:i,textContent:l?i:g,onClick:u,tooltipProps:{position:"top",mouseEnterDelay:500,mouseLeaveDelay:500,spacing:12},size:"small","data-testid":"message_action_".concat(e.key)}));return d?d(v):v}}},[et,r,s,u,d,g,h,eu])}},45325:function(e,t,n){"use strict";n.d(t,{AnswerActionsBar:function(){return y}});var r,i,o=n("97458"),a=n("33434"),s=n("15890"),l=n("87608"),c=n.n(l),u=n("78597"),d=n("10630"),f=n("53641"),g=n("59312"),v=n("62920"),p=n("53277"),h=n("87575"),m=n("54769"),_=n("37933"),x=n("39798"),b=n("34531"),k=n("93424"),C=n("40158"),S=n("10824"),w=n("15930");var y=(r=C.AnswerActionsWrapper,i=function(e){var t=e.dataSourceField,n=e.conversationId,r=e.messageLink,i=e.enableSkillModify,o=e.enableRegenerate,s=void 0!==o&&o,l=e.enableDebug,c=e.enableEdit,_=(0,d.useConversation)(n),b=f.FlowBot.actions.getBot((null==_?void 0:_.bot_id)||""),C=(0,g.useSecUserId)(),w=(0,v.useChatStore)(function(e){var t=(0,p.getMessageFromStore)(n,r,e);return{isSend:(0,h.isSendMessage)(t,C),isImage:(0,h.isImageMessage)(t)}},a.shallow),y=w.isSend,I=w.isImage,M=(0,S.useExcludeMsgActions)(n,r).filterOutExcludeActions,T=(0,m.useActiveRegenerateMessage)(n,r).regenerateMessageLinks,R=((null==b?void 0:b[t])||k.FALLBACK_VALID_ANSWER_ACTIONS).filter(function(e){var t=e.key;return!!((0,x.isValidAnswerAction)(e)&&M(e))&&t!==x.AnswerActionKey.Tts&&(t!==x.AnswerActionKey.Translate||"ar"!==(0,u.getUnreactiveLanguage)())&&(e.key!==x.AnswerActionKey.Regenerate||!!s)||!1}),E=R.find(function(e){return e.key===x.AnswerActionKey.Regenerate});I&&s&&!E&&R.push((0,k.getDefaultAction)(x.AnswerActionKey.Regenerate)),!I&&T&&E&&R.push((0,k.getDefaultAction)(x.AnswerActionKey.PreMsg),(0,k.getDefaultAction)(x.AnswerActionKey.NextMsg));var j=R.some(function(e){return e.key===x.AnswerActionKey.SkillModify});return void 0!==i&&i&&!j&&R.push((0,k.getDefaultAction)(x.AnswerActionKey.SkillModify)),void 0!==l&&l&&R.push((0,k.getDefaultAction)(x.AnswerActionKey.Debug)),void 0!==c&&c&&R.push((0,k.getDefaultAction)(x.AnswerActionKey.Edit)),{leftActions:y?[]:R,rightActions:y?R:[]}},function(e){var t=e.className,n=e.actions,a=e.liked,l=e.disliked,u=e.activeCustomActionKey,d=e.conversationId,f=e.messageLink,g=e.dataSourceField,v=e.FlowAnswerActionButtonSlot,p=e.MoreActionButtonSlot,h=i({dataSourceField:g,conversationId:d,messageLink:f,enableRegenerate:!!n.onRegenerateMessageClick,enableDebug:!!n.onDebugMessageClick,enableEdit:!!n.onEditClick,enableSkillModify:!!n.onSkillModifySend}),m=h.leftActions,x=h.rightActions,C=(0,b.useRenderAnswerActionButton)({actions:n,liked:a,disliked:l,conversationId:d,messageLink:f,activeCustomActionKey:u,FlowAnswerActionButtonSlot:v});return(0,o.jsx)(r,{MoreActionButtonSlot:p,className:c()(w.container,t),leftItems:m,rightItems:x,renderItem:C,sortItems:_.sortActions,isDefaultExposedItems:function(e){return(0,s.default)(k.DEFAULT_ACTIONS_ORDER_BY_KEYS,e.key)}})})},39798:function(e,t,n){"use strict";n.d(t,{ActionKeyAll:function(){return l},AnswerActionKey:function(){return s},isValidAnswerAction:function(){return u}});var r,i=n("69581"),o=n("24682"),a=n("77590");var s=((r={}).Copy="copy",r.CreateConversation="create-conversation",r.Like="like",r.Dislike="dislike",r.Translate="translate",r.Tips="tips",r.Tts="tts",r.PreMsg="preMsg",r.NextMsg="nextMsg",r.Regenerate="regenerate",r.SkillModify="skill-modify",r.Report="report",r.Debug="debug",r.Edit="edit",r.Delete="delete",r),l=Symbol("answer-action-key-all"),c=function(e){return""!==e},u=function(e){return(0,i.default)(e.icon)&&(0,o.default)(e.key)&&c(e.key)&&(0,o.default)(e.name)&&c(e.name)&&(0,a.default)(e.position)}},37933:function(e,t,n){"use strict";n.d(t,{processIconURL:function(){return c},sortActions:function(){return s}});var r=n("81667"),i=n("79555"),o=n("21711"),a=n("93424"),s=function(e){var t=(0,r.default)(e,function(e){var t=(0,i.default)(e.position);return t<0?1e4+t:t});return(0,r.default)(t,function(e){return(0,o.default)(a.DEFAULT_ACTIONS_ORDER_BY_KEYS,e.key)})},l=new Map,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t?(!l.has(e)&&l.set(e,t),l.get(e)||t):t}},65023:function(e,t,n){"use strict";n.d(t,{MoreActionButton:function(){return f}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("87608"),l=n.n(s),c=n("53268"),u=n("78004"),d=n("85471"),f=function(e){var t=e.children,n=e.FlowAnswerActionButtonSlot,s=(0,o._)(e,["children","FlowAnswerActionButtonSlot"]),f=(0,u.useBaseSlots)(),g=f.Popover,v=f.MoreAutoColorIcon;return(0,a.jsx)(g,{position:"bottomLeft",clickToHide:!0,trigger:"click",className:l()(d["popover-more-item"],"rounded-12"),content:(0,a.jsx)(c.Dropdown.Menu,{children:t}),children:(0,a.jsx)(n,(0,i._)((0,r._)({},s),{icon:(0,a.jsx)(v,{}),type:"button"}))})}},40158:function(e,t,n){"use strict";n.d(t,{AnswerActionsWrapper:function(){return h}});var r=n("83316"),i=n("6462"),o=n("97458"),a=n("52983"),s=n("23813"),l=n("87608"),c=n.n(l),u=n("78597"),d=n("41152"),f=n("97369"),g=n("21247"),v="expanded_more_item",p=function(e){var t=e.items,n=e.isDefaultExposedItems,r=e.sortItems,l=e.itemKey,c=e.renderItem,f=e.renderMoreAction,p=(0,u.useDeepCompareMemo)(function(){var e=n?t.filter(n):t,o=r?r(e):e;return(0,i._)(o).concat([v])},[t]),h=(0,u.useDeepCompareMemo)(function(){return n?t.filter(function(e){return e!==v&&!n(e)}):[]},[t]),m=(0,a.useCallback)(function(e,t){return e===v?(0,o.jsx)(a.Fragment,{children:f(h)},v):(0,o.jsx)(a.Fragment,{children:c(e,t)},l?l(e):t)},[f,h,l,c]),_=(0,a.useCallback)(function(e){var t=(0,s.default)((0,i._)(h).concat((0,i._)(e))).filter(function(e){return e!==v});return f(r?r(t):t)},[h,f,r]);return(0,o.jsx)(d.OverflowList,{className:g["overflow-list"],items:p,minVisibleItems:1,visibleItemRenderer:m,collapseFrom:"end",overflowRenderer:_})},h=function(e){var t=e.className,n=e.style,i=e.leftItems,s=void 0===i?[]:i,l=e.rightItems,u=void 0===l?[]:l,d=e.isDefaultExposedItems,v=e.sortItems,h=e.renderItem,m=e.itemKey,_=e.visible,x=e.MoreActionButtonSlot,b=e.children,k=(0,a.useCallback)(function(e){var t=e.map(function(e,t){var n=h(e,t);return n&&(0,o.jsx)(a.Fragment,{children:n},m?m(e):t)}).filter(Boolean);return(0,o.jsx)(o.Fragment,{children:t.length?(0,o.jsx)(f.IsOverflowContext.Provider,{value:!0,children:(0,o.jsx)(x,{size:"small","data-testid":"message_action_more",children:t})}):null})},[x,h,m]);return(0,o.jsxs)("div",{className:c()(g.container,t,(0,r._)({},g.hide,!(void 0===_||_))),style:n,children:[!!s.length&&(0,o.jsx)("div",{className:g.left,children:(0,o.jsx)(p,{items:s,isDefaultExposedItems:d,sortItems:v,itemKey:m,renderItem:h,renderMoreAction:k})}),!!u.length&&(0,o.jsx)("div",{className:g.right,children:(0,o.jsx)(p,{items:u,isDefaultExposedItems:d,sortItems:v,itemKey:m,renderItem:h,renderMoreAction:k})}),b]})}},39067:function(e,t,n){"use strict";n.d(t,{useHasBeLocalMessage:function(){return h},useMessageAction:function(){return p}});var r=n("52983"),i=n("24682"),o=n("86724"),a=n.n(o),s=n("78597"),l=n("75761"),c=n("53277"),u=n("4899"),d=n("31566"),f=n("52420"),g=n("53641"),v=n("3461"),p=function(e){var t=e.conversationId,n=e.messageLink,r=e.isSend,o=e.showAnswerAction,p=(0,v.useChat)(),h=p.chatInputRef,m=p.onCreateConversation,_=p.locationState,x=(0,l.getInfoByConversationId)(t).botInfo,b=(null==_?void 0:_.enter_from)==="bot_discover";return{onCopyClick:function(){var e,v=(0,c.getMessageFromStore)(t,n),p=v&&(0,u.getMessageText)(v);a()((null==v?void 0:v.tts_content)||((0,i.default)(p)?p:"")||""),!(0,s.getIsMobileOrIPad)()&&(null===(e=h.current)||void 0===e||e.focus());var m=(0,l.getBotIdByConversationId)(t);r||d.FlowTea.trackEvent("copy",{message_id:null==v?void 0:v.message_id,click_from:o?"answer":"long_press_answer",bot_id:m,user_id:b?f.FlowConfig.userId:void 0,req_id:b&&m?g.FlowBot.actions.getBotIdToRequestIdMap()[m]:void 0,chat_type:(0,l.getChatTypeForTea)(t,x),recommend_from:b?"bot_list_discover":void 0})},onCreateConversation:m&&function(){var e=(0,c.getMessageFromStore)(t,n);e&&(null==m||m({message:e,conversationId:t,isSend:r}))}}},h=function(e){var t=(0,r.useRef)(e);return e&&!t.current&&(t.current=e),t}},97523:function(e,t,n){"use strict";n.d(t,{BaseMessageBox:function(){return O}});var r,i,o,a,s=n("83316"),l=n("9161"),c=n("16044"),u=n("89334"),d=n("97458"),f=n("33434"),g=n("50002"),v=n("90396"),p=n("80610"),h=n("59574"),m=n("87608"),_=n.n(m),x=n("78597"),b=n("87575"),k=n("12270"),C=n("10630"),S=n("53641"),w=n("62920"),y=n("53277"),I=n("52420"),M=n("4899"),T=n("31566"),R=n("45474"),E=n("39067"),j=n("49176"),B=n("10824"),L=n("3461"),N=n("65128"),A=n("38972"),F=n("9206"),P=n("28267");var O=(r=R.BaseMessageBoxUI,i=function(e){var t=e.conversationId,n=(0,L.useChat)().chatViewConfig,r=(0,B.useConversationDisabled)().isDisabled,i=(0,C.useConversation)(t),o=S.FlowBot.actions.getBot((null==n?void 0:n.chatType)&&(0,b.isBotChat)(null==n?void 0:n.chatType)?(null==n?void 0:n.chatId)||"":(null==i?void 0:i.bot_id)||"");return{isConversationDisabled:r,conversation:i,botInfo:o}},o=function(e){var t,n=e.messageLink,o=e.conversationId,a=e.isSend,m=e.isLastAvailableMessage,C=e.isShowActionsAndSuggests,S=e.lastMessageProps,R=e.onEditClick,O=e.renderContent,D=e.showOuterBox,H=e.contentWrapperClassName,q=e.onFailedRetry,W=e.contentClassName,z=e.AnswerActionsBarSlot,V=e.LoadingSlot,U=e.ThinkingSlot,K=e.SuggestMessageListSlot,G=e.FeedbackModalBaseSlot,Q=e.CustomAnswerActionModelContentSlot,Y=(0,u._)(e,["messageLink","conversationId","isSend","isLastAvailableMessage","isShowActionsAndSuggests","lastMessageProps","onEditClick","renderContent","showOuterBox","contentWrapperClassName","onFailedRetry","contentClassName","AnswerActionsBarSlot","LoadingSlot","ThinkingSlot","SuggestMessageListSlot","FeedbackModalBaseSlot","CustomAnswerActionModelContentSlot"]),J=(0,L.useChat)(),X=J.t,Z=J.enableMessageDebug,$=J.sendMessage,ee=J.getPopupContainer,et=(0,N.useDebugMessage)().open,en=i({conversationId:o}),er=en.conversation,ei=en.isConversationDisabled,eo=en.botInfo,ea=(0,B.useExcludeMsgActions)(o,n).allActionsExcluded,es=(0,w.useChatStore)(function(e){var t=(0,y.getMessageFromStore)(o,n,e),r=(0,b.isMessageLoading)(t),i=(0,b.isMessageFailed)(t),s=(0,b.isMessageFinished)(t),l=a?(0,b.isSupportedSendMessage)(t):(0,b.isSupportedReceiveMessage)(t),c=(0,b.isBrokenMessage)(t),u=(0,b.isOnBoardingMessage)(t),d=(0,b.isImageMessage)(t),f=(0,b.isTextMessage)(t),v=a&&d,p=(0,b.isLocalMessage)(t),h=(0,b.isThinkingMessage)(t),_=(0,b.isSearchMessage)(t),x=C&&m&&!a&&s&&(!!I.FlowConfig.isGuest||!ei),S=m&&(0,b.isWritingSkillAnswer)(t)&&s,w=!i&&!r&&s&&l&&!v,T=w&&!a&&!p,R=(f&&!!(0,M.getMessageText)(t,Z,X("chat_unsupported_message_type"))||d&&!v)&&!(0,b.isDisableActionViewMessage)(t)&&!ea&&!(0,b.isTemplateMessage)(t)&&C&&m&&T&&!u&&l&&!c,E=f&&w&&(0,b.isCocoConversation)(er);return{isLoading:r,isFailed:i,isFinished:s,isSupported:l,isBroken:c,isOnBoarding:u,isLocal:p,isThinking:h,isRemoteMessageStable:T,isText:f,isImage:d,isSearch:_,isSafetyErrored:(0,k.isImageSafetyError)(t)||(0,k.isFileSafetyError)(t),showSuggest:x,canDelete:!i&&!r&&s&&!p,canSkillModify:S,isMessageStable:w,showTextAnswerAction:R,showCreateConversationAction:E,showCopyAction:f&&w,showFeedbackAction:f&&T&&!u,showReportAction:f&&T,originExtSkill:(0,g.default)(t,"ext.input_skill")}},f.shallow),el=es.isLoading,ec=es.isFailed,eu=es.isOnBoarding,ed=es.isRemoteMessageStable,ef=es.isText,eg=es.isImage,ev=es.isSearch,ep=es.isSafetyErrored,eh=es.isThinking,em=es.showSuggest,e_=es.canDelete,ex=es.canSkillModify,eb=es.isMessageStable,ek=es.showTextAnswerAction,eC=es.showCreateConversationAction,eS=es.showCopyAction,ew=es.showFeedbackAction,ey=es.showReportAction,eI=es.originExtSkill,eM=ec&&!ep,eT=S||{},eR=eT.regenerateAction,eE=eT.suggestMessageListWithStatus,ej=(0,E.useMessageAction)({conversationId:o,messageLink:n,isSend:a,showAnswerAction:ek}),eB=ej.onCopyClick,eL=ej.onCreateConversation,eN=(0,A.useFeedback)({messageLink:n,conversationId:o,isLastAvailableMessage:m,regenerateActiveIndex:null==S?void 0:S.regenerateActiveIndex,isLastAnswer:ek,FeedbackModalBaseSlot:G}),eA=eN.liked,eF=eN.disliked,eP=eN.onLikeClick,eO=eN.onDislikeClick,eD=eN.onBotOrMessageReportClick,eH=eN.renderReportDialog,eq=eN.renderFeedbackCard,eW=(0,F.useMessageDelete)({botId:null==eo?void 0:eo.id,conversationId:o,messageLink:n}).onDeleteClick,ez=(0,j.useCustomAnswerActionModal)(o,n,Q),eV=ez.openModal,eU=ez.renderModal,eK=ez.activeActionKey,eG=function(){et({conversationId:o,messageLink:n})};var eQ=(t={},Z&&(t.onDebugMessageClick=eG),eS&&(t.onCopyClick=eB),ey&&(t.onBotOrMessageReportClick=eD),eC&&(t.onCreateConversation=eL),ew&&(t.onLikeClick=eP,t.onDislikeClick=eO),eb&&!ei&&(t.onEditClick=R),e_&&(t.onDeleteClick=eW),ex&&(t.onSkillModifySend=function(e,t){var n=(t||{}).scene;$({text:null==e?void 0:e.trim(),scene:void 0===n?"":n,extraExt:{input_skill:JSON.stringify((0,v.default)((0,x.parseJSON)(eI),["skill_id","skill_type"]))||""}})}),ef&&ed&&!eu&&(t.onCustomActionClick=eV),(0,p.default)(t,eR),t);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r,(0,c._)((0,l._)({},Y),{contentClassName:W,contentWrapperClassName:_()(H,(0,s._)({},P["onboarding-mb"],eu)),isFailed:ec,showFailedNode:eM,isSend:a,onFailedRetry:q,full:eg,onActionFloatOpen:function(){T.FlowTea.trackEvent("long_press_message",{message_id:n.messageId,message_from:a?"user":"assistant"})},isEmptyAction:(0,h.default)(eQ),after:(0,d.jsxs)(d.Fragment,{children:[ek&&eq({className:P["feedback-card"]}),em&&eE&&K&&(0,d.jsx)(K,{conversationId:o,messageLink:n,suggestMessageListWithStatus:eE})]}),answerActionWrapperClassName:_()(P["bottom-action-bar-wrapper"],(0,s._)({},P["large-space"],ek)),answerActionNode:I.FlowConfig.isGuest?null:z&&!eu&&!ev&&(0,d.jsx)(z,{className:_()(P["bottom-action-bar"]),conversationId:o,messageLink:n,dataSourceField:ek?"answer_actions":"hover_answer_actions",actions:eQ,liked:eA,disliked:eF,activeCustomActionKey:eK}),getPopupContainer:ee,autoHideActionNode:!ek,renderContent:function(e){return eh?U&&(0,d.jsx)(U,{conversationId:o,messageLink:n}):el?V&&(0,d.jsx)(V,{conversationId:o,messageLink:n}):O(e)},showOuterBox:void 0===D||D})),eH(),eU()]})},a=function(e){var t=e.conversationId,n=e.messageLink;return(0,B.useCheckLocalMessageFailedExpired)(t,n),(0,B.useCheckLocalSendMessageNeedToShowLoading)(t,n),(0,d.jsx)(o,(0,l._)({},e))},function(e){return(0,E.useHasBeLocalMessage)(e.messageLink.isLocalMessage).current?(0,d.jsx)(a,(0,l._)({},e)):(0,d.jsx)(o,(0,l._)({},e))})},45474:function(e,t,n){"use strict";n.d(t,{BaseMessageBoxUI:function(){return m}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458"),l=n("52983"),c=n("87608"),u=n.n(c),d=n("16566"),f=n("98765"),g=n("8407"),v=n("7914"),p=n("28267"),h=function(e){var t=e.floatingActionConfig,n=e.floatActionNode,r=e.getPopupContainer,a=e.onActionFloatOpen,c=(0,v.useFloatAction)(void 0===t?"auto":t),d=c.floatRefs,g=c.floatingStyles,h=c.isFloatOpen,m=c.getFloatReferenceProps,_=c.getFloatingProps;return(0,l.useEffect)(function(){h&&(null==a||a())},[h]),{setReference:d.setReference,floatingReferenceProps:m(),node:h&&n&&(0,s.jsx)(f.FloatingPortal,{root:null==r?void 0:r(),children:(0,s.jsx)("div",(0,o._)((0,i._)({ref:d.setFloating,className:u()(p["message-box-extra"],"flow-dark-theme"),style:g},_()),{children:n}))})}},m=(0,l.forwardRef)(function(e,t){var n,c=e.onFailedRetry,f=e.isFailed,v=e.showFailedNode,m=e.isSend,_=e.hint,x=e.after,b=e.answerActionNode,k=e.answerActionWrapperClassName,C=e.autoHideActionNode,S=void 0!==C&&C,w=e.renderContent,y=e.showOuterBox,I=e.contentWrapperClassName,M=e.contentClassName,T=e.isEmptyAction,R=(e.showSendLoading,e.floatActionNode),E=e.onActionFloatOpen,j=e.getPopupContainer,B=e.floatingActionConfig,L=(0,a._)(e,["onFailedRetry","isFailed","showFailedNode","isSend","hint","after","answerActionNode","answerActionWrapperClassName","autoHideActionNode","renderContent","showOuterBox","contentWrapperClassName","contentClassName","isEmptyAction","showSendLoading","floatActionNode","onActionFloatOpen","getPopupContainer","floatingActionConfig"]),N=h({floatActionNode:R,floatingActionConfig:void 0===B?"auto":B,getPopupContainer:j,onActionFloatOpen:E}),A=N.node,F=N.floatingReferenceProps,P=N.setReference,O=(void 0===v?f:v)?(0,s.jsx)(g.MessageFailedIcon,{className:u()(p["message-box-failed-icon"],(0,r._)({},p.interactive,!!c||!T)),onClick:c}):null,D=(0,l.useCallback)(function(e){var t=e.mouseOver;return(0,s.jsxs)(s.Fragment,{children:[b&&(0,s.jsx)("div",{className:u()(p["answer-action-bar"],k,(0,r._)({},p.hide,S&&!t)),"data-testid":"message_action_bar",children:b}),_&&(0,s.jsx)("div",{className:u()(p["message-box-hint"]),children:_}),x]})},[_,S,_,x]);return(0,s.jsx)(d.MessageBoxBase,(0,o._)((0,i._)({ref:t,contentRef:P,contentProps:(0,o._)((0,i._)({className:u()(M,p["samantha-message-box-content"])},F),(n={},(0,r._)(n,"data-testid","message_content"),(0,r._)(n,"widthInitial",!!O),n)),contentWrapperClassName:I,inlineReverse:m,layoutOnly:!(void 0===y||y),inlineBefore:A,inlineAfter:O||null,before:null,after:D},L),{children:w}))})},24386:function(e,t,n){"use strict";n.d(t,{CrowdTestBox:function(){return C},CrowdTestBoxStatus:function(){return k}});var r,i=n("83316"),o=n("9161"),a=n("16044"),s=n("97458"),l=n("52983"),c=n("87608"),u=n.n(c),d=n("54769"),f=n("53277"),g=n("41249"),v=n("97530"),p=n("53268"),h=n("65128"),m=n("3461"),_=n("8407"),x=n("7914"),b=n("76445");var k=((r={}).Default="Default",r.Active="Active",r.Inactive="Inactive",r.Error="Error",r.Loading="Loading",r),C=function(e){var t,n=e.MessageTextContentSlot,r=e.messageLink,c=e.conversationId,C=e.title,S=e.status,w=void 0===S?k.Default:S,y=e.disabled,I=void 0!==y&&y,M=e.inView,T=e.onClick,R=e.onFailRetry,E=(0,m.useChat)().enableMessageDebug,j=(0,h.useDebugMessage)().open,B=(0,l.useRef)(null);(0,l.useLayoutEffect)(function(){var e;null===(e=B.current)||void 0===e||e.scrollToTop()},[]);var L=(0,d.useMessage)(c,r),N=function(){var e=(0,f.getMessageFromStore)(c,r);null==R||R(e)},A=(0,x.useFloatAction)("auto"),F=A.floatRefs,P=A.floatingStyles,O=A.isFloatOpen,D=A.getFloatReferenceProps,H=A.getFloatingProps,q=(0,l.useMemo)(function(){return[k.Loading,k.Error].includes(w)?(0,s.jsx)("div",{className:b["modal-content"],onClick:N,children:(0,s.jsx)("div",{className:b["icon-wrapper"],children:w===k.Error?(0,s.jsx)(_.CrowdTestErrorIcon,{}):(0,s.jsx)(p.Spin,{size:"middle",wrapperClassName:b["loading-icon"]})})}):null},[w]);return(0,s.jsxs)("div",{className:u()(b["crowd-test-box-container"],(0,i._)({},b.disabled,I)),children:[(0,s.jsxs)("div",(0,a._)((0,o._)({className:u()(b["crowd-test-box"],(t={},(0,i._)(t,b.active,w===k.Active),(0,i._)(t,b.inactive,w===k.Inactive),(0,i._)(t,b.error,w===k.Error),(0,i._)(t,b.loading,w===k.Loading),(0,i._)(t,b.disabled,I),t)),onClick:function(){var e=(0,f.getMessageFromStore)(c,r);null==T||T(e)},ref:F.setReference},D()),{children:[(0,s.jsx)("div",{className:b.title,children:C}),(0,s.jsx)("div",{className:b.content,children:(0,s.jsx)(v.ScrollView,{className:b["scroll-box"],autoShowScrollbar:!0,reverse:!0,ref:B,children:(0,s.jsx)("div",{className:b["content-wrapper"],children:L?n&&(0,s.jsx)(n,{inView:M,messageLink:r,conversationId:c}):(0,s.jsx)(g.DotFlashing,{})})})})]})),q,O&&E&&(0,s.jsx)("div",(0,a._)((0,o._)({ref:F.setFloating,className:"float-action",style:P},H()),{children:(0,s.jsx)(_.DebugIcon,{onClick:function(){j({conversationId:c,messageLink:r})}})}))]})}},77805:function(e,t,n){"use strict";n.d(t,{CrowdTestBlock:function(){return I}});var r,i,o=n("92769"),a=n("40509"),s=n("88802"),l=n("97458"),c=n("52983"),u=n("54769"),d=n("87575"),f=n("8547"),g=n("53277"),v=n("62920"),p=n("31566"),h=n("78142"),m=n("96988"),_=n("68534"),x=n("53268"),b=n("24386"),k=n("10824"),C=n("3461"),S=n("54211");function w(e){if(!!e)(0,f.handleRegisterHttpPullMessageImmediately)(e)}function y(){return(y=(0,o._)(function(e,t,n){var r,i,o,a;return(0,s.__generator)(this,function(a){switch(a.label){case 0:if(!(r=(0,g.getMessageFromStore)(e,t))||!(i=r.message_id))return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),o=h.FlowApi.apiService.message.MessageReport({message_id:i,action:"feedback",feedbackDetail:{feedback_type:m.FeedbackType.Better}}),[4,Promise.all([o,new Promise(function(e){setTimeout(function(){e(!0)},800)})])];case 2:return a.sent(),[3,4];case 3:return a.sent(),x.Toast.error({content:n("notification_system_error_toast"),showClose:!1}),[2];case 4:return x.Toast.success({content:n("seed_public_testing_information_feedback"),showClose:!1}),(0,d.isMessageHasSuggest)(r)&&v.useChatStore.getState().updateSuggestMessageWithRemote(e,r),v.useChatStore.getState().updateMessageList({conversationId:e,immerUpdate:function(e,n){var r=e.draftMessageMap,o=n.resetMessageLink,a=r[i];a&&(a.status=_.PushMessageStatus.Available,o(t))}}),[2]}})})).apply(this,arguments)}var I=(r=function(e){var t=e.MessageTextContentSlot,n=e.title,r=e.subTitle,i=e.enableSelect,o=void 0===i||i,s=e.activeMessageId,f=void 0===s?"":s,g=e.leftMessageLink,v=e.rightMessageLink,p=e.onClickMessage,h=e.onMessageReceiveFail,m=e.conversationId,_=e.inView,x=(0,C.useChat)().t,k=(0,a._)((0,c.useState)(!1),2),w=k[0],y=k[1],I=(0,u.useMessage)(m,g),M=(0,u.useMessage)(m,v);if(!I)return null;var T=(0,c.useCallback)(function(e){if(!e)return b.CrowdTestBoxStatus.Default;if((0,d.isMessageFailed)(e))return w?b.CrowdTestBoxStatus.Loading:b.CrowdTestBoxStatus.Error;var t=e.message_id;return f?f===t?b.CrowdTestBoxStatus.Active:b.CrowdTestBoxStatus.Inactive:b.CrowdTestBoxStatus.Default},[f,w]),R=function(e){h&&(h(e),y(!0),setTimeout(function(){y(!1)},3e3))};return(0,l.jsxs)("div",{className:S["crowd-test-container"],children:[n&&(0,l.jsx)("p",{className:S.title,children:n}),r&&(0,l.jsx)("p",{className:S.subtitle,children:r}),(0,l.jsxs)("div",{className:S["content-container"],children:[(0,l.jsx)("div",{className:S["message-box-left"],children:(0,l.jsx)(b.CrowdTestBox,{inView:_,status:T(I),conversationId:m,messageLink:g,disabled:!o,title:x("seed_public_testing_information_answer_1"),MessageTextContentSlot:t,onClick:p,onFailRetry:R})}),(0,l.jsx)("div",{className:S["message-box-right"],children:(0,l.jsx)(b.CrowdTestBox,{inView:_,status:T(M),conversationId:m,messageLink:v,disabled:!o,title:x("seed_public_testing_information_answer_2"),MessageTextContentSlot:t,onClick:p,onFailRetry:R})})]})]})},i=function(e){var t=e.conversationId,n=e.messageLinks,r=(0,u.useMessageListByMessageLinks)(t,n),i=r[0],o=r[1];if(!i)return{title:"",subTitle:"",enableSelect:!1};var a=i.ext||{},s=a.crowd_test_title,l=a.crowd_test_subtitle,c=!!((0,d.isMessageFinished)(i)&&o&&(0,d.isMessageFinished)(o)),f=!!((0,d.isBrokenMessage)(i)||o&&(0,d.isBrokenMessage)(o));return{title:s,subTitle:l,enableSelect:c&&!f,leftMessage:i,rightMessage:o}},function(e){var t,n=e.MessageTextContentSlot,u=e.messageLinks,d=e.conversationId,f=e.inView,g=i({conversationId:d,messageLinks:u}),v=g.title,h=g.subTitle,m=g.enableSelect,_=g.leftMessage,x=g.rightMessage,b=(0,C.useChat)().t,S=(0,a._)((0,c.useState)(""),2),I=S[0],M=S[1],T=null==_?void 0:_.message_id,R=null==x?void 0:x.message_id,E=null==_?void 0:_.reply_id;if((0,c.useEffect)(function(){f&&T&&R&&p.FlowTea.trackEvent("prompt_survey_show",{message_id:[T,R].join(","),reply_id:E})},[f,T,R,E]),(0,k.useCheckLocalMessageFailedExpired)(d,u[0]),(0,k.useCheckLocalMessageFailedExpired)(d,u[1]),!_)return null;var j=(t=(0,o._)(function(e){var t,n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(!e||!(t=e.message_id))return[2];if(p.FlowTea.trackEvent("prompt_survey_click",{message_id:t,reply_id:E}),I||!m||!(n=u.find(function(t){return t.messageId===e.message_id})))return[2];return M(t),[4,function(e,t,n){return y.apply(this,arguments)}(d,n,b)];case 1:return r.sent(),M(""),[2]}})}),function(e){return t.apply(this,arguments)});return(0,l.jsx)(r,{conversationId:d,title:v,subTitle:h,inView:f,enableSelect:m,activeMessageId:I,leftMessageLink:u[0],rightMessageLink:u[1],onClickMessage:j,onMessageReceiveFail:w,MessageTextContentSlot:n})})},39209:function(e,t,n){"use strict";n.d(t,{EditingMessageBox:function(){return h}});var r,i,o=n("83316"),a=n("97458"),s=n("52983"),l=n("87382"),c=n("54769"),u=n("4899"),d=n("62920"),f=n("31566"),g=n("10824"),v=n("3461"),p=n("76572");var h=(r=p.EditingMessageBoxUI,i=function(e){var t=e.messageLink,n=e.conversationId,r=(0,c.useMessage)(n,t),i=(0,g.useConversationDisabled)().isDisabled,o=(0,s.useRef)((0,l.createReportEvent)({eventName:"edit_message",meta:{conversation_id:n,message_id:null==r?void 0:r.message_id}}));return{message:r,isConversationDisabled:i,reportEvent:o}},function(e){var t=e.messageLink,n=e.conversationId,s=e.onExit,l=e.className,c=i({messageLink:t,conversationId:n}),g=c.message,p=c.isConversationDisabled,h=c.reportEvent,m=(0,v.useChat)().sendMessage,_=(0,u.getTextFromTextMessage)(g)||"";return(0,a.jsx)(r,{className:l,disabled:p,onCancel:function(){f.FlowTea.trackEvent("edit_message_cancel",{message_id:null==g?void 0:g.message_id,edit_method:"click"}),h.current.addDurationPoint("cancel"),h.current.success(),s()},onSubmit:function(e){if(g&&e!==_){var r,i=""===e.trim(),a=g.local_message_id||"",l=d.useChatStore.getState().getReportEvents(n,a).send_message;f.FlowTea.trackEvent("edit_message_confirm",{message_id:t.messageId,edit_method:"click",last_send_scene:null==l?void 0:l.getMeta().scene}),h.current.addDurationPoint("confirm");try{m((r={text:e},(0,o._)(r,i?"remove":"replace",{messageLink:t}),(0,o._)(r,"scene",i?"delete":"edit"),r)),h.current.success()}catch(e){h.current.error({reason:"edit message failed, unexpected error",error:e})}}s()},defaultValue:_})})},97369:function(e,t,n){"use strict";n.d(t,{IsOverflowContext:function(){return i},useIsOverflow:function(){return o}});var r=n("52983"),i=(0,r.createContext)(!1),o=function(){return(0,r.useContext)(i)}},10648:function(e,t,n){"use strict";n.d(t,{AnswerActionClickFrom:function(){return s},trackClickAnswerAction:function(){return l}});var r,i,o=n("62920");var a=((r=a||{}).chatList="chat_list",r.botListDiscover="bot_list_discover",r.botListDiscoverSearch="bot_list_discover_search",r.botListProfil="bot_list_profil",r.botListOthers="bot_list_others",r);var s=((i={}).answer="answer",i.longPressAnswer="long_press_answer",i),l=function(e,t,n){var r;null===(r=o.useChatStore.getState().conversationMap[e])||void 0===r||r.bot_id}},47046:function(e,t,n){"use strict";n.d(t,{FlowAnswerActionButton:function(){return f}});var r,i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458"),l=n("52983"),c=n("10648"),u=n("97369"),d=n("91064");var f=(r=d.AnswerActionButton,(0,l.forwardRef)(function(e,t){var n=e.conversationId,l=e.actionKey,d=e.onClick,f=e.size,g=e.color,v=e.hoverColor,p=e.activeColor,h=e.type,m=(0,a._)(e,["conversationId","actionKey","onClick","size","color","hoverColor","activeColor","type"]),_=(0,u.useIsOverflow)();return(0,s.jsx)(r,(0,o._)((0,i._)({},m),{ref:t,type:null!=h?h:_?"dropdown":"button",onClick:function(){n&&l&&(0,c.trackClickAnswerAction)(n,c.AnswerActionClickFrom.answer,l),null==d||d()},size:void 0===f?"large":f,color:void 0===g?"grey-deep":g,hoverColor:null!=v?v:"black",activeColor:null!=p?p:"black"}))}))},18184:function(e,t,n){"use strict";n.d(t,{MessageBotCardContent:function(){return S}});var r,i=n("92769"),o=n("9161"),a=n("16044"),s=n("40509"),l=n("88802"),c=n("97458"),u=n("52983"),d=n("78597"),f=n("54769"),g=n("87575"),v=n("2322"),p=n("31566"),h=n("62920"),m=n("78142"),_=n("65298"),x=n("53268"),b=n("3461"),k=n("24239"),C=n("87399");var S=(r=_.BotCardBox,function(e){var t,n,_,S,w=e.messageLink,y=e.conversationId,I=(0,f.useMessage)(y,w),M=null==I?void 0:null===(_=I.localInfo)||void 0===_?void 0:_.from,T=null==I?void 0:I.message_id,R=(0,g.isBotCardMessage)(I)?I.contentObj:{},E=(0,b.useChat)(),j=E.onCreateBot,B=E.toCreateBotPage,L=E.t,N=(0,u.useRef)(!1),A=(0,s._)((0,u.useState)({icon_uri:null==R?void 0:R.icon_uri,icon_url:null==R?void 0:R.icon_url}),2),F=A[0],P=A[1];(0,u.useEffect)(function(){return!F.icon_url&&M!==v.MessageFrom.Api&&O(),p.FlowTea.trackEvent("bot_maker_card_show",{current_page:"chat"}),function(){N.current=!1}},[]);var O=(t=(0,i._)(function(){var e,t,n;return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(!R)return[2];n.label=1;case 1:return n.trys.push([1,3,4,5]),N.current=!0,[4,m.FlowApi.apiService.bot.GenBotIcon({name:R.name,description:R.role,bot_lang:(0,d.getUnreactiveLanguage)()},{overrideConfig:{timeout:3e4}})];case 2:if(e=n.sent(),!N.current)return[2];return P(t=e.data||{}),D({newContentObj:(0,a._)((0,o._)({},R),{icon_uri:t.icon_uri,icon_url:t.icon_url})}),[3,5];case 3:if(n.sent(),!N.current)return[2];return x.Toast.error(L("create_bot_profile_photo_failed")),P({}),[3,5];case 4:return N.current=!1,[7];case 5:return[2]}})}),function(){return t.apply(this,arguments)});var D=(n=(0,i._)(function(e){var t,n;return(0,l.__generator)(this,function(n){switch(n.label){case 0:t=e.newContentObj,n.label=1;case 1:return n.trys.push([1,3,,4]),h.useChatStore.getState().updateMessageList({conversationId:y,immerUpdate:function(e){var n=e.draftMessageMap[T||""];n.contentObj&&(n.contentObj=t)}}),[4,m.FlowApi.apiService.message.UpdateMsgContent({msg_id:T,display_content:JSON.stringify(t)})];case 2:case 3:return n.sent(),[3,4];case 4:return[2]}})}),function(e){return n.apply(this,arguments)});return(0,c.jsx)(u.Suspense,{fallback:(0,c.jsx)("div",{}),children:(0,c.jsx)(r,{name:null!==(S=null==R?void 0:R.name)&&void 0!==S?S:"",defaultAvatar:C,avatarSrc:F.icon_url,isAvatarGenerating:N.current,onClickComplete:function(){N.current=!1,p.FlowTea.trackEvent("bot_maker_card_click",{current_page:"chat",click_from:"complete"}),null==j||j({name:null==R?void 0:R.name,description_for_human:null==R?void 0:R.role,icon_uri:F.icon_uri},{enter_method:"bot_maker_card_complete",profile_photo_type:F.icon_uri?"ai_generate":"default",if_system_prompt_added:"1",if_auto_filled:"0",if_has_voice:"0",previous_page:"chat_list",current_page:"chat"})},onClickEdit:function(e){N.current=!1,p.FlowTea.trackEvent("bot_maker_card_click",{current_page:"chat",click_from:e});var t,n="bot_maker_card_".concat(e);p.FlowTea.trackEvent("click_create_new_bot",{current_page:"chat",enter_method:n}),null==B||B({state:{message_id:T,conversation_id:y,create_bot_form_data:{name:(null==R?void 0:R.name)||"",description_for_human:null==R?void 0:null===(t=R.role)||void 0===t?void 0:t.trim(),avatar_urls:{uri:F.icon_uri,url:F.icon_url}},enter_method:n,enter_from:"chat",profile_photo_type:"ai_generate"}})},loadingComponent:(0,c.jsx)(k.AvatarLoading,{}),editTitle:L("bot_maker_card_edit"),completeTitle:L("bot_maker_card_complete")})})})},72525:function(e,t,n){"use strict";n.d(t,{MessageCardContent:function(){return h}});var r,i,o=n("9161"),a=n("16044"),s=n("97458"),l=n("52983"),c=n("87382"),u=n("54769"),d=n("31566"),f=n("87575"),g=n("82877"),v=n("49803"),p=n("3461");var h=(r=g.CardBox,i=function(e){var t=e.conversationId,n=e.messageLink,r=e.inView,i=(0,v.useMessageContentEvents)({conversationId:t,messageLink:n,inView:r}),a=(0,u.useMessage)(t,n),s=(0,l.useCallback)(function(e,t){var n=(0,o._)({},t);d.FlowTea.trackEvent(e,n)},[]);return{messageContentEvents:i,message:(0,f.isCardMessage)(a)?a:void 0,onTrackEvent:s,onCreateReportEvent:c.createReportEvent}},function(e){var t=e.inView,n=e.messageLink,l=e.conversationId,c=(0,p.useChat)().t,u=i({inView:t,messageLink:n,conversationId:l}),d=u.messageContentEvents,f=u.message,g=u.onTrackEvent,v=u.onCreateReportEvent;return(0,s.jsx)(r,{conversationId:(null==f?void 0:f.conversation_id)||"",messageId:(null==f?void 0:f.message_id)||"",inView:t,onTrackEvent:g,onCreateReportEvent:v,contentBoxEvents:d,data:(0,a._)((0,o._)({},null==f?void 0:f.contentObj),{createTime:null==f?void 0:f.create_time}),moreText:c("more")})})},42631:function(e,t,n){"use strict";n.d(t,{MessageImageContent:function(){return k}});var r,i,o=n("97458"),a=n("52983"),s=n("59574"),l=n("40521"),c=n("78597"),u=n("10630"),d=n("54769"),f=n("87575"),g=n("53277"),v=n("87681"),p=n("31566"),h=n("75761"),m=n("7370"),_=n("49803"),x=n("74017"),b=n("3461");var k=(r=m.ImageBox,i=function(e){var t=e.conversationId,n=e.messageLink,r=e.inView,i=(0,u.useConversation)(t),o=(0,b.useChat)(),m=o.chatViewConfig,k=o.onTemplateImageClick,C=(0,d.useMessage)(t,n),S=(0,f.isImageMessage)(C)?C.contentObj:{image_list:[]},w=(null==S?void 0:S.image_list)||[],y=((0,g.findLastMessageByMessageLinkReplyIdFromStore)({conversationId:t,messageLink:n})||{}).content_source,I=void 0===y?v.ContentSource.Other:y,M=(0,_.useMessageContentEvents)({conversationId:t,messageLink:n,inView:r}),T=((null==C?void 0:C.ext)||{}).template_data,R=!!T,E=(0,x.useImagePreview)({conversationId:t,messageId:String(n.messageId)},w,I,{reportImageShow:!1}),j=E.imageEventCallbacks,B=E.renderImagePreview,L=(0,a.useMemo)(function(){var e=(0,c.parseJSON)(T);return(0,s.default)(e)?{onImageClick:function(e,t){var n=t.src;n&&j.onImageClick(e,n)},onImageRender:function(e){var t=e.src;t&&j.onImageRender(t)}}:{onImageClick:function(t,n){var r;null==k||k({event:t,eventData:n,conversation:i,templateList:(0,l.default)(e)?e:[],imageList:w,chatId:null!==(r=null==m?void 0:m.chatId)&&void 0!==r?r:""})}}},[w,T,null==i?void 0:i.bot_id,null==m?void 0:m.chatId]);return(0,a.useEffect)(function(){r&&!R&&p.FlowTea.trackEvent("picture_message_show",{bot_id:(0,h.getBotIdByConversationId)(t),pic_id:w.map(function(e){return e.key}).filter(function(e){return e}).join(","),conversation_id:t,message_id:String(n.messageId),request_id:w.map(function(e){return e.request_id}).join(","),original_content_source:I,is_onboarding:R?1:0,chatType:((null==m?void 0:m.chatType)===v.ChatType.NewThread?"default_new":(0,h.getChatTypeForTea)(t))||"other_default",conversation_type:null==i?void 0:i.conversation_type},"".concat(n.messageId))},[r,R]),{messageContentEvents:M,imageBoxCallbacks:L,renderImagePreview:B,contentObj:S}},function(e){var t=e.inView,n=i({inView:t,conversationId:e.conversationId,messageLink:e.messageLink}),a=n.messageContentEvents,s=n.imageBoxCallbacks,l=n.renderImagePreview,c=n.contentObj;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r,{inView:t,data:null!=c?c:{image_list:[]},eventCallbacks:s,contentBoxEvents:a,"data-testid":"message_image_content"}),l()]})})},65790:function(e,t,n){"use strict";n.d(t,{useLastMessageProps:function(){return N}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("88802"),l=n("97458"),c=n("52983"),u=n("83911"),d=n("87382"),f=n("78597"),g=n("84575"),v=n("75761"),p=n("54769"),h=n("53277"),m=n("31566"),_=n("62920"),x=n("87575"),b=n("68602"),k=n("52420"),C=n("53641"),S=n("78142"),w=n("68534"),y=n("53268"),I=n("28781"),M=n("95133"),T=n("27202"),R=n("10824"),E=n("3461"),j=function(e){var t,n=(0,E.useChat)(),a=n.sendMessage,l=n.t,c=n.locationState,k=e.conversationId,C=e.messageLink,w=(0,T.useToast)(),I=(0,v.getInfoByConversationId)(k).botInfo,j=(0,v.getBotIdByConversationId)(k),L=(null==c?void 0:c.enter_from)==="bot_discover",N=(0,p.useActiveRegenerateMessage)(k,C),A=N.regenerateMessageLinks,F=N.regenerateActiveIndex,P=N.replyFromMessage,O=!(0,u.default)(A),D=!(0,u.default)(A),H=(0,M.useCiciQuotaAbility)(M.CiciQuotaAbility.AskOgf,I),q=(0,M.useCiciQuotaAbility)(M.CiciQuotaAbility.SearchWeb,I);var W=(t=(0,r._)(function(e,t){var n,r;return(0,s.__generator)(this,function(i){switch(i.label){case 0:if(!(n=(0,h.getMessageFromStore)(k,e)))return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,S.FlowApi.apiService.message.MessageReport({message_id:n.message_id,reply_id:n.reply_id,action:"regen_switch"})];case 2:return i.sent(),t.success(),[3,4];case 3:return r=i.sent(),t.error({reason:"switch_regenerate_message_failed",error:r}),w.error(l("system_error_toast")),[3,4];case 4:return[2]}})}),function(e,n){return t.apply(this,arguments)}),z=function(e){var t=!(0,u.default)(F)&&A&&~F?A[F+("prev"===e?-1:1)]:void 0,n=(0,d.createReportEvent)({eventName:"switch_regenerate_message"});if(!t){n.error({reason:"switch_regenerate_message_failed, regen_switch_no_target",meta:(0,i._)({},C)});return}m.FlowTea.trackEvent("prev"===e?"click_view_message_before":"click_view_message_after",{bot_id:(0,v.getBotIdByConversationId)(k),message_id:C.messageId,switch_message_id:null==t?void 0:t.messageId,conversation_id:k}),_.useChatStore.getState().updateMessageList({conversationId:k,immerUpdate:function(e,r){var i=(0,g.createRegenHelper)(e);i.setRegenMessageInActive(C),r.resetMessageLink(C),i.setRegenMessageActive(t),r.resetMessageLink(t),W(t,n)}})},V=function(){var e=_.useChatStore.getState().messageLinkMap[k],t=(0,h.getMessageFromStore)(k,C);return(0,h.findLastMessageFromStore)(k,e,function(e){var n=(0,e.getMessage)();return(null==t?void 0:t.reply_id)===(null==n?void 0:n.message_id)&&(0,x.isMessageAvailable)(n)}).messageLink},U=(0,_.useChatStore)(function(e){var t=(0,h.getMessageFromStore)(k,C,e),n=t&&(0,g.checkMessageIsSingleReply)(k,t);return{isFailed:(0,x.isMessageFailed)(t),isSingleReply:n}}),K=U.isFailed,G=U.isSingleReply,Q=(0,R.useConversationDisabled)().isDisabled,Y=(0,f.useLatest)(K),J=P&&G&&!Q;return(0,R.useCheckLocalMessageFailedExpired)(k,C),{regenerateAction:(0,i._)({},J?{onRegenerateMessageClick:function(){var t,n,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.ClickFromAction.answer,c=(0,g.createReportEventIfNotExist)(k,"regenerate_message");if((null==A?void 0:A.length)>=10){w.info(l("maximum_regenerate_reached")),c.error({reason:"regenerate_message_failed, reached limit"});return}var u=(0,b.findLastLink)(_.useChatStore.getState().messageLinkMap[k],function(e){return!e.isLocalMessage}),d=u?(0,h.getMessageFromStore)(k,u,_.useChatStore.getState()):void 0;if(B("click_regenerate",{botId:j,messageId:e.messageLink.messageId,conversationId:k,isFromDiscover:L,clickFrom:s,contentType:null==d?void 0:d.content_type,requestId:null==d?void 0:null===(n=d.contentObj)||void 0===n?void 0:null===(t=n.image_list)||void 0===t?void 0:t.map(function(e){return e.request_id}).join(","),chatType:(0,v.getChatTypeForTea)(k,I)}),!(null==P?void 0:P.message_id))throw w.error(l("system_error_toast")),c.error({reason:"regenerate_message_failed, reply_id is empty"}),Error("invalid message");var f=C;if(f.isLocalMessage){var p=Y.current&&A?(0,b.findLastLink)(A,function(e){return!e.isLocalMessage}):void 0;if(!p||p.isLocalMessage)throw w.error(l("system_error_toast")),c.error({reason:"regenerate_message_failed, message is local_message"}),Error("invalid message");f=p}var m={sentMessageId:P.message_id,sentLocalMessageId:null!==(r=null==P?void 0:P.local_message_id)&&void 0!==r?r:"",regenerateHeadMessageId:f.regen_head||f.messageId,regenerateTailMessageId:f.messageId};c.updateMeta({conversation_id:k,message_id:null==m?void 0:m.sentMessageId,content_type:null==P?void 0:P.content_type}),_.useChatStore.getState().updateMessageList({conversationId:k,immerUpdate:function(e,t){(0,g.createRegenHelper)(e).setRegenMessageInActive(f),t.resetMessageLink((0,o._)((0,i._)({},f),{regen_head:m.regenerateHeadMessageId}))}});try{a({regenerate:m,scene:"regenerate",reportEvents:{regenerate_message:c}})}catch(e){c.error({reason:"regenerate_message_failed, unexpected error",error:e})}}}:{},J&&H?{onAskOgfMessageClick:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.ClickFromAction.answer,r=(0,g.createReportEventIfNotExist)(k,"ask_ofg_message");if((null===(t=_.useChatStore.getState().userOgfQuota)||void 0===t?void 0:t.ogfQuota.ciciOgfQuotaLeft)===0){y.Toast.info(l("gpt_quota_refresh_tomorrow")),r.error({reason:"ask_ogf_message_failed, quota_is_reached_limit"});return}var i=V();try{if(!i){r.error({reason:"ask_ogf_message_failed, target message is not exist"});return}_.useChatStore.getState().updateCiciQuotaNextState(!0),r.updateMeta({conversation_id:k,message_id:e.messageLink.messageId,content_type:null==P?void 0:P.content_type}),a({copySend:{messageLink:i},scene:"ask_ogf",extraExt:{model_type:"2"},reportEvents:{ask_ofg_message:r}}),B("click_ask_ogf",{botId:j,messageId:e.messageLink.messageId,conversationId:k,isFromDiscover:L,clickFrom:n})}catch(e){r.error({reason:"ask_ogf_message_failed, unexpected error",error:e})}}}:{},J&&q?{onSearchWebMessageClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M.ClickFromAction.answer,n=V(),r=(0,g.createReportEventIfNotExist)(k,"search_with_web_message");try{if(!n){r.error({reason:"search_with_web_failed, target message is not exist"});return}r.updateMeta({conversation_id:k,message_id:e.messageLink.messageId,content_type:null==P?void 0:P.content_type}),a({copySend:{messageLink:n},scene:"search_web",extraExt:{search_intend:"1"},reportEvents:{search_with_web_message:r}}),B("click_search_web",{botId:j,messageId:e.messageLink.messageId,conversationId:k,isFromDiscover:L,clickFrom:t})}catch(e){r.error({reason:"search_with_web_failed, unexpected error",error:e})}}}:{},O?{onPrevMessageClick:function(){z("prev")}}:{},D?{onNextMessageClick:function(){z("next")}}:{}),regenerateActiveIndex:F,regenerateActionVisibilities:[J,H,q,O,D]}};function B(e,t){var n=t.botId,r=t.messageId,a=t.conversationId,s=t.isFromDiscover,l=t.clickFrom,c=t.contentType,u=t.requestId,d=t.chatType;m.FlowTea.trackEvent(e,(0,o._)((0,i._)({bot_id:n,message_id:r,conversation_id:a,user_id:s?k.FlowConfig.userId:void 0,req_id:function(e,t){return e&&t?C.FlowBot.actions.getBotIdToLocalConversationMap()[t]:void 0}(s,n),recommend_from:s?"bot_list_discover":void 0,click_from:l},c===w.ContentType.Image?{request_id:u}:{}),{chat_type:d}))}var L=(0,c.memo)((0,c.forwardRef)(function(e,t){var n=e.baseMessageBoxProps,r=n.conversationId,a=n.messageLink,s=j(n),l=s.regenerateActiveIndex,d=s.regenerateAction,g=s.regenerateActionVisibilities,v=(0,I.useSuggestMessageListWithStatus)(r,a),p=(0,f.useDeepCompareMemo)(function(){return{regenerateActiveIndex:l,regenerateAction:d,suggestMessageListWithStatus:(0,o._)((0,i._)({},v),{isRegen:!(0,u.default)(l)})}},[l,v,g]);return(0,c.useImperativeHandle)(t,function(){return p},[p]),null})),N=function(e){var t=(0,a._)((0,c.useState)(void 0),2),n=t[0],r=t[1];return{lastMessageProps:n,lastMessagePeerNode:e.isLastAvailableMessage&&(0,l.jsx)(L,{ref:r,baseMessageBoxProps:e})}}},81953:function(e,t,n){"use strict";n.d(t,{MessageMusicContent:function(){return I},MessageMusicContentUI:function(){return y}});var r,i,o=n("8831"),a=n("52935"),s=n("9161"),l=n("16044"),c=n("40509"),u=n("97458"),d=n("52983"),f=n("33434"),g=n("40492"),v=n("87382"),p=n("54769"),h=n("75761"),m=n("62920"),_=n("2322"),x=n("31566"),b=n("87575"),k=n("62427"),C=n("49803"),S=n("3461"),w=n("78004"),y=function(e){var t=(0,o._)({},(0,a._)(e)),n=(0,w.useBaseSlots)().MusicPlayerQS,r=(0,S.useChat)().t;return(0,u.jsx)(u.Fragment,{children:n&&(0,u.jsx)(n,(0,l._)((0,s._)({},t),{musicInvalidErrorTitle:r("music_url_not_vaild"),internetErrorTitle:r("internet_connection_failed")}))})};var I=(r=y,i=function(e){var t,n,r=e.inView,i=e.messageLink,o=e.isLastAvailableMessage,a=e.conversationId,u=(0,C.useMessageContentEvents)({conversationId:a,messageLink:i,inView:r}),v=(0,p.useMessage)(a,i),k=(0,h.getBotIdByConversationId)(a),S=(0,c._)((0,m.useChatStore)(function(e){return[e.musicAutoPlay,e.setMusicAutoPlay]},f.shallow),2),w=S[0],y=S[1],I=w&&(null==v?void 0:null===(t=v.localInfo)||void 0===t?void 0:t.from)!==_.MessageFrom.Api&&o;return{messageContentEvents:u,onMusicWillPlay:function(){y(!1)},onTrackEvent:(0,d.useCallback)(function(e,t,n){var r=(0,l._)((0,s._)({},t),{bot_id:k});x.FlowTea.trackEvent(e,r,n)},[k]),musicData:(0,g.default)((0,b.isMusicMessage)(v)?null===(n=v.contentObj)||void 0===n?void 0:n.music_list:[]),isAutoPlay:I}},function(e){var t=e.inView,n=e.messageLink,o=e.isLastAvailableMessage,a=e.conversationId,s=n.messageId,l=i({inView:t,messageLink:n,isLastAvailableMessage:o,conversationId:a}),c=l.musicData,d=l.onTrackEvent,f=l.isAutoPlay,g=l.onMusicWillPlay,p=l.messageContentEvents;return c&&s?(0,u.jsx)(r,{musicContentData:c,itemId:s,conversationId:a,messageId:s,inView:t,autoPlay:f,onMusicWillPlay:g,fetchMusicResource:k.fetchMusicResource,checkMusicStatus:k.checkMusicStatus,onTrackEvent:d,onCreateReportEvent:v.createReportEvent,contentBoxEvents:p}):null})},62427:function(e,t,n){"use strict";n.d(t,{checkMusicStatus:function(){return f},fetchMusicResource:function(){return d}});var r,i,o,a=n("92769"),s=n("88802");n("97458"),n("78597");var l=n("78142"),c=n("74262");var u=((r={})[r.OTHER=0]="OTHER",r[r.PLAY=1]="PLAY",r[r.DOWNLOAD=2]="DOWNLOAD",r);var d=(i=(0,a._)(function(e){var t,n,r,i,o,a,c;return(0,s.__generator)(this,function(s){switch(s.label){case 0:t=e.vid,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,l.FlowApi.apiService.LoadMusicQS({vid_list:[t]})];case 2:return(a=(null==(o=s.sent().data)?void 0:null===(n=o.music_list)||void 0===n?void 0:n.find(function(e){return e.vid===t}))||{}).main_url=null===(r=a.main_url)||void 0===r?void 0:r.replace(/http:\/\//,"https://"),a.backup_url=null===(i=a.backup_url)||void 0===i?void 0:i.replace(/http:\/\//,"https://"),[2,a];case 3:return s.sent(),[2,{}];case 4:return[2]}})}),function(e){return i.apply(this,arguments)});var f=(o=(0,a._)(function(e){var t,n,r,i,o,a,d,f,g;return(0,s.__generator)(this,function(s){switch(s.label){case 0:t=e.source_from,n=e.source_id,r=c.CheckMusicStatus.ServerError,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,l.FlowApi.apiService.MCheckMusic({check_list:[{source_from:t,source_id:n}],scene:u.PLAY})];case 2:if(!(o=s.sent().data)||!(a=null===(i=o.status_list)||void 0===i?void 0:i.find(function(e){return e.id===n})))return[2,{status:r}];if(d=a.status,f=a.risk_result,0===d||void 0===f)return[2,{status:r}];return[2,{status:f}];case 3:return s.sent(),[2,{status:r}];case 4:return[2]}})}),function(e){return o.apply(this,arguments)})},24531:function(e,t,n){"use strict";n.d(t,{SearchResultContent:function(){return m}});var r,i,o=n("9161"),a=n("16044"),s=n("89334"),l=n("97458");n("52983");var c=n("87382"),u=n("75761"),d=n("31566"),f=n("11372"),g=n("54769"),v=n("62920"),p=n("87575"),h=n("28604");var m=(r=h.SearchResultContentUI,i=function(e){var t=e.conversationId,n=e.messageId,r=(0,u.getBotIdByConversationId)(t);return{onClickSearchCard:function(e){d.FlowTea.trackEvent("click_search_card",e)},onTrackEvent:function(e,i){d.FlowTea.trackEvent(e,(0,o._)({current_page:"chat",bot_id:r,message_id:String(n),chat_type:(0,u.getChatTypeForTea)(t),conversation_id:t,conversation_type:(0,f.getConversationTypeById)(t)},i))},onCreateReportEvent:c.createReportEvent}},function(e){var t=e.inView,n=e.conversationId,u=e.messageLink,d=(0,s._)(e,["inView","conversationId","messageLink"]),f=(0,g.useMessage)(n,u),h=(0,v.useChatStore)(function(e){var t;return null===(t=e.searchResultIsFinishedMap[(null==f?void 0:f.reply_id)||""])||void 0===t||t}),m=i({conversationId:n,messageId:u.messageId}),_=m.onClickSearchCard,x=m.onTrackEvent;return(0,p.isCardListMessage)(f)?(0,l.jsx)(r,(0,a._)((0,o._)({},d),{defaultExpand:!h,inView:t,data:null==f?void 0:f.contentObj,onClickSearchCard:_,onTrackEvent:x,onCreateReportEvent:c.createReportEvent})):null})},37708:function(e,t,n){"use strict";n.d(t,{MessageTextContent:function(){return F},indexParams:function(){return N}});var r,i,o=n("9161"),a=n("97458"),s=n("52983"),l=n("59574"),c=n("83053"),u=n("24682"),d=n("37903"),f=n("78597"),g=n("54489"),v=n("13321"),p=n("62920"),h=n("53277"),m=n("4899"),_=n("54769"),x=n("87575"),b=n("87681"),k=n("10630"),C=n("31566"),S=n("52420"),w=n("83375"),y=n("68534"),I=n("41249"),M=n("72291"),T=n("84029"),R=n("10824"),E=n("71979"),j=n("74017"),B=n("69070"),L=n("3461"),N="f_link_type=f_footnote",A="editNickName";var F=(r=v.MdBoxLazy,i=function(e){var t,n=e.messageLink,r=e.conversationId,i=e.onLinkClick,o=e.onSendMessage,a=(0,L.useChat)(),g=a.t,v=a.enableMessageDebug,_=null!==(t=(0,p.useChatStore)(function(e){var t=(0,h.getMessageFromStore)(r,n,e),i=(0,m.getMessageText)(t,v,(0,l.default)(t)||1===t.content_type&&(0,l.default)(t.contentObj)?"":g("chat_unsupported_message_type")),o=t||{};return{content:i,meta:o.meta_infos,contentType:o.content_type}},c.default))&&void 0!==t?t:{},x=_.content,b=_.meta,k=_.contentType,C=(0,s.useMemo)(function(){if(k!==y.ContentType.Text||!(0,u.default)(x)||(0,l.default)(b))return[];var e=(0,M.getInsertContent)(b,y.MetaType.Replaceable),t=[],n=e.map(function(e){return[e.info.start,e.info.end]}).flat(2).filter(function(e){return void 0!==e}).map(function(e){return Number(e)}),r=f.utf8.posCalcRange(x,n);return e.forEach(function(e){var n,a,s,l,c,u;!(0,d.default)(null==e?void 0:null===(n=e.info)||void 0===n?void 0:n.start)&&!(0,d.default)(null===(a=e.info)||void 0===a?void 0:a.end)&&!(0,d.default)(r[null==e?void 0:null===(s=e.info)||void 0===s?void 0:s.start])&&!(0,d.default)(r[null===(l=e.info)||void 0===l?void 0:l.end])&&t.push({range:[r[null==e?void 0:null===(c=e.info)||void 0===c?void 0:c.start],r[null===(u=e.info)||void 0===u?void 0:u.end]],render:function(){var t;return(0,M.textToHtml)((null===(t=e.info)||void 0===t?void 0:t.replace_text)||"",{onLinkClick:i,onSendMessage:o})}})}),t},[b,x]);return{content:x,insertedElements:C}},function(e){var t=e.inView,n=e.conversationId,c=e.messageLink,u=(0,L.useChat)(),d=u.t,v=u.sendMessage,p=u.chatViewConfig,h=(0,_.useMessage)(n,c),y=(0,T.useCurrentChatBotId)(),F=(0,x.isMessageFailed)(h),P=(0,x.isStreamingMessage)(h),O=(0,x.isBrokenMessage)(h),D=(0,x.isMessageFinished)(h),H=(0,x.isMessageCached)(h),q=(0,x.isOnBoardingMessage)(h),W=(0,R.useBotConfigByConversationId)(n),z=(0,s.useMemo)(function(){var e=null==W?void 0:W.find(function(e){return"image_display"===e.conf_key});return(null==e?void 0:e.conf_value)==="scale"?"contain":"cover"},[W]),V=(0,j.useImagePreview)({conversationId:n,messageId:String(c.messageId)},[],b.ContentSource.Original),U=V.imageEventCallbacks,K=V.renderImagePreview,G=(0,k.useConversation)(n)||{},Q=(0,E.useEditNickNameModal)().showModal,Y=(null==p?void 0:p.chatType)&&(0,x.isBotChat)(p.chatType)?p.chatId:null==G?void 0:G.bot_id,J=function(e,t){if(e.preventDefault(),e.stopPropagation(),t.exts.type===g.LinkType.wiki)C.FlowTea.trackEvent("click_special_soft_link"),window.open(t.exts.wiki_link);else if(t.exts.type===g.LinkType.normal){var r;(null===(r=t.url)||void 0===r?void 0:r.includes(N))&&et("footnote_link_click"),window.open(t.url)}else if(t.exts.type===g.LinkType.coco){var i=t.parsedUrl;((i.pathname.startsWith("//")?i.pathname.slice(2):i.pathname)===A||i.hostname===A)&&Q({botId:Y,conversationId:n,isCocoConversation:(0,x.isCocoConversation)(G),sendMessage:v,currentPage:"chat"})}},X=function(e){if(q){var t=(0,m.getBoardingMessageQue)($);C.FlowTea.trackEvent("click_onboarding_card",(0,o._)({message_id:c.messageId,bot_id:y,conversation_id:n,onboarding_type:h&&(0,x.onBoardingMessageType)(h),onboarding_question:e,click_position:t.indexOf(e)+1,current_page:"chat",previous_page:S.FlowConfig.loginSource},(0,w.getOnboardingContentSource)(h)))}null==v||v({text:e,scene:q?(0,x.onBoardingMessageScene)(h):"link"})},Z=i({messageLink:c,conversationId:n,onSendMessage:X,onLinkClick:J}),$=Z.content,ee=Z.insertedElements,et=function(e){C.FlowTea.trackEvent(e,{message_id:c.messageId,bot_id:y,conversation_id:n})};(0,s.useEffect)(function(){if(t&&q&&D){var e,r=(0,m.getBoardingMessageQue)($);!(0,l.default)(r)&&(r.forEach(function(e,t){C.FlowTea.trackEvent("show_onboarding_card_single_question",{message_id:c.messageId,bot_id:y,conversation_id:n,onboarding_type:(0,x.onBoardingMessageType)(h),onboarding_question:e,local_message_id:null==h?void 0:h.local_message_id},"".concat(c.messageId,"_").concat(t))}),C.FlowTea.trackEvent("show_onboarding_card",(0,o._)({message_id:c.messageId,bot_id:y,conversation_id:n,prompt_cnt:r.length,onboarding_type:(0,x.onBoardingMessageType)(h),onboarding_question:r.join(","),use_nickname:(null==h?void 0:null===(e=h.ext)||void 0===e?void 0:e.is_connect_caller_name)?1:0},(0,w.getOnboardingContentSource)(h)),"".concat(c.messageId)))}},[t,D,y]);var en=(0,s.useRef)(null),er=(0,f.useEstablished)(null!=t&&t),ei=(0,f.useFirstScreenInView)({ref:en}).inView;return h?F&&!$?(0,a.jsx)(I.DotFlashing,{disabled:!0}):$?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{ref:en,theme:"samantha",imageOptions:{objectFit:z,width:360,height:360},markDown:$||"",translate:{copyTitle:d("message_long_press_copy"),codeBarLoadingText:d("code_block_compute_switch_button_running"),codeBarExpandedFinishedText:d("code_block_switch_button_hide_details"),codeBarUnExpandFinishedText:d("code_block_switch_button_show_details")},eventCallbacks:{onImageRender:function(e){var t=e.src;t&&U.onImageRender(t)},onImageClick:function(e,t){var n=t.src;n&&U.onImageClick(e,n)},onLinkClick:J,onLinkRender:function(e){var t;(null===(t=e.url)||void 0===t?void 0:t.includes(N))&&et("footnote_link_show")},onSendMessage:X},showEllipsis:O||P&&F,showIndicator:!(D||F),autoFixSyntax:(er||ei)&&{autoFixEnding:P||O},smooth:P&&{maxFirstTextSmoothSize:H?9999:10},insertedElements:ee,autoFitRTL:(0,f.isRTL)(),onHop:function(e){var t=e.prevRenderedText,n=e.renderedText,r=e.prevEndNodeType,i=e.endNodeType;C.FlowTea.trackEvent("rd_flow_message_hop",{message_id:c.messageId,end_syntax_type:i,prev_end_syntax_type:r,platform:"web",reduce_char_count:t.length-n.length})},forceBrInterSpacing:!0,codeBarConfig:function(e){var t,n,r=e.codeBlocks,i=null===(t=r.at(0))||void 0===t?void 0:t.language,o=null===(n=r.at(0))||void 0===n?void 0:n.code.trim(),a=(!i&&!o||!!i)&&"compute".startsWith(null!=i?i:"");return{finished:D||F||O,defaultExpand:!a,expandedFinishedText:a?d("code_block_compute_switch_button_hide_details"):void 0,unExpandFinishedText:a?d("code_block_compute_switch_button_show_details"):void 0}},"data-testid":"message_text_content"}),D&&(0,a.jsx)(B.IndexBlock,{onIndexLinkClick:et,metaInfoList:(0,M.getInsertContent)(null==h?void 0:h.meta_infos)}),K()]}):(0,a.jsx)(I.DotFlashing,{}):null})},72291:function(e,t,n){"use strict";n.d(t,{getInsertContent:function(){return u},textToHtml:function(){return d}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("59574"),s=n("78597"),l=n("33497"),c=n("68534"),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.MetaType.Insertable;return(0,a.default)(e)||!e?[]:e.filter(function(e){return e.type===t}).map(function(e){return(0,i._)((0,r._)({},e),{info:(0,s.parseJSON)(e.info)})})};function d(e,t){var n=e.split(/[()]|[\]\[]/).filter(function(e){return e});if(n[0]&&n[1]){var a=(0,s.safeParseUrl)(n[1]);return(0,o.jsx)(l.Link,(0,i._)((0,r._)({extraProps:{href:n[1]},eventData:a?{url:n[1],parsedUrl:a}:void 0},t),{children:n[0]}))}}},53127:function(e,t,n){"use strict";n.d(t,{MessageVideoContent:function(){return k},MessageVideoContentUI:function(){return b}});var r,i,o=n("92769"),a=n("8831"),s=n("52935"),l=n("9161"),c=n("16044"),u=n("89334"),d=n("88802"),f=n("97458");n("52983");var g=n("75761"),v=n("31566"),p=n("54769"),h=n("87575"),m=n("78142"),_=n("3461"),x=n("78004"),b=function(e){var t=(0,a._)({},(0,s._)(e)),n=(0,x.useBaseSlots)().VideoBox;return(0,f.jsx)(f.Fragment,{children:n&&(0,f.jsx)(n,(0,l._)({},t))})};var k=(r=b,i=function(e){var t,n=e.conversationId,r=e.messageId;var i=(t=(0,o._)(function(e){var t,n,r,i;return(0,d.__generator)(this,function(o){switch(o.label){case 0:return t=e.item_ids,n=e.source_from,r=(0,u._)(e,["item_ids","source_from"]),i=m.FlowApi.apiService.LoadVideoDY.bind(m.FlowApi.apiService),2===Number(n)&&(i=m.FlowApi.apiService.LoadVideoTT.bind(m.FlowApi.apiService)),[4,i((0,l._)({item_ids:t},r))];case 1:return[2,o.sent().data]}})}),function(e){return t.apply(this,arguments)});return{handleVideoClick:i,handleTrackEvent:function(e,t,i){var o=(0,g.getBotIdByConversationId)(n),a=(0,c._)((0,l._)({},t),{bot_id:o,message_id:r,card_type:"single_card"});v.FlowTea.trackEvent(e,a,i)}}},function(e){var t=e.inView,n=e.conversationId,o=e.messageLink,a=(0,_.useChat)().t,s=(0,p.useMessage)(n,o),l=(0,h.isVideoMessage)(s)?s.contentObj:{video_list:[]},c=i({conversationId:n,messageId:o.messageId}),u=c.handleTrackEvent,d=c.handleVideoClick;return(0,f.jsx)(r,{inView:t,onVideoPlay:d,videoContent:l,onTrackEvent:u,playErrorTitle:a("video_play_error_noplay")})})},49803:function(e,t,n){"use strict";n.d(t,{useMessageContentEvents:function(){return c}});var r=n("92769"),i=n("88802"),o=n("52983"),a=n("2945"),s=n("87382"),l=n("78142"),c=function(e){var t=e.messageLink,n=(0,s.useErrorBoundary)().showBoundary,c=(0,o.useCallback)(function(e){n(e)},[n]),u=(0,o.useCallback)(a.default,[]),d=(0,o.useCallback)(a.default,[]),f=(0,o.useCallback)((0,r._)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,l.FlowApi.apiService.message.GetMsgContent({msg_id:t.messageId})];case 1:return[2,e.sent().data]}})}),[]);return(0,o.useMemo)(function(){return{onError:c,onLoadStart:u,onLoadEnd:d,onLoad:f}},[c,u,d,f])}},81176:function(e,t,n){"use strict";n.d(t,{BaseReceiveMessageBox:function(){return m},ReceiveMessageBox:function(){return _}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("33434"),l=n("87608"),c=n.n(l),u=n("38549"),d=n("62920"),f=n("53277"),g=n("87575"),v=n("65790"),p=n("3461"),h=n("89965"),m=function(e){var t=e.BaseMessageBoxSlot,n=(0,o._)(e,["BaseMessageBoxSlot"]),s=(0,p.useChat)().sendMessage,l=n.messageLink,d=n.conversationId,f=(0,u.useRetryReceiveMessage)({sendMessage:s,messageLink:l,conversationId:d});return t&&(0,a.jsx)(t,(0,i._)((0,r._)({},n),{contentClassName:c()(),"data-testid":"receive_message",onFailedRetry:f}))},_=function(e){var t=e.BaseReceiveMessageBoxSlot,n=e.MessageTextContentSlot,l=e.MessageImageContentSlot,c=e.MessageVideoContentSlot,u=e.MessageMusicContentSlot,p=e.MessageCardContentSlot,m=e.SearchResultContentSlot,_=e.MessageBotCardContentSlot,x=(0,o._)(e,["BaseReceiveMessageBoxSlot","MessageTextContentSlot","MessageImageContentSlot","MessageVideoContentSlot","MessageMusicContentSlot","MessageCardContentSlot","SearchResultContentSlot","MessageBotCardContentSlot"]),b=(0,v.useLastMessageProps)(x),k=b.lastMessageProps,C=b.lastMessagePeerNode;return(0,a.jsxs)(a.Fragment,{children:[C,function(e){if(!t)return null;var o=e.conversationId,v=e.messageLink,x=e.isLastAvailableMessage,b=(0,d.useChatStore)(function(e){var t=(0,f.getMessageFromStore)(o,v,e);return{isImage:(0,g.isImageMessage)(t),isText:(0,g.isTextMessage)(t),isVideo:(0,g.isVideoMessage)(t),isMusic:(0,g.isMusicMessage)(t),isBotCard:(0,g.isBotCardMessage)(t),isCard:(0,g.isCardMessage)(t),isCardList:(0,g.isCardListMessage)(t),isSupport:(0,g.isSupportedReceiveMessage)(t)}},s.shallow),k=b.isImage,C=b.isText,S=b.isVideo,w=b.isMusic,y=b.isBotCard,I=b.isCard,M=b.isCardList;return!b.isSupport&&n?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{renderContent:function(e){var t=e.inView;return(0,a.jsx)(n,{inView:t,messageLink:v,conversationId:o})}})):M&&m?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{contentWrapperClassName:h.cardList,renderContent:function(e){var t=e.inView;return(0,a.jsx)(m,{inView:t,messageLink:v,conversationId:o})}})):y&&_?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{contentWrapperClassName:h.botCard,renderContent:function(e){var t=e.inView;return(0,a.jsx)(_,{inView:t,messageLink:v,conversationId:o})}})):C&&n?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{renderContent:function(e){var t=e.inView;return(0,a.jsx)(n,{inView:t,messageLink:v,conversationId:o})}})):k&&l?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{contentWrapperClassName:h.image,renderContent:function(e){var t=e.inView;return(0,a.jsx)(l,{inView:t,conversationId:o,messageLink:v})}})):S&&c?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{contentWrapperClassName:h.video,renderContent:function(e){var t=e.inView;return(0,a.jsx)(c,{inView:t,conversationId:o,messageLink:v})}})):w&&u?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{contentWrapperClassName:h.music,renderContent:function(e){var t=e.inView;return(0,a.jsx)(u,{inView:t,messageLink:v,conversationId:o,isLastAvailableMessage:x})}})):I&&p?(0,a.jsx)(t,(0,i._)((0,r._)({},e),{contentWrapperClassName:h.card,renderContent:function(e){var t=e.inView;return(0,a.jsx)(p,{inView:t,messageLink:v,conversationId:o})}})):null}((0,i._)((0,r._)({},x),{lastMessageProps:k||void 0}))]})}},71764:function(e,t,n){"use strict";n.d(t,{AttachmentNode:function(){return h}});var r,i=n("92769"),o=n("88802"),a=n("97458"),s=n("37903"),l=n("87608"),c=n.n(l),u=n("78597"),d=n("78142"),f=n("32386"),g=n("39258"),v=function(e){window.open(e)};var p=(r=(0,i._)(function(e){var t,n,r,i;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(!e)return[2];return[4,d.FlowApi.apiService.resource.GetFileURL({uris:[e],type:"file"})];case 1:return(i=null==(r=o.sent().data)?void 0:null===(n=r.file_urls)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.main_url)&&v(i),[2]}})}),function(e){return r.apply(this,arguments)}),h=function(e){var t=e.fileName,n=e.attchmentType,r=(0,f.getFileIcon)((0,u.getFileExt)(t),"colorful");return(0,a.jsxs)("div",{onClick:function(){"fileLink"in e?v(e.fileLink):"fileKey"in e&&p(e.fileKey)},className:c()("relative flex w-full max-w-320 h-68 items-center border-box rounded-10 whitespace-normal cursor-pointer select-none bg-[var(--s-color-bg-primary)] border border-solid border-[var(--s-color-border-secondary)] overflow-hidden",g["attachment-node"],"hover:bg-[var(--s-color-bg-trans)] active:bg-[var(--s-color-bg-trans-primary)]"),children:[(0,a.jsx)(r,{className:"flex items-center justify-center w-32 h-32 shrink-0"}),(0,a.jsxs)("div",{className:"ml-4 mr-12 overflow-hidden grow shrink w-screen",children:[(0,a.jsx)("div",{className:"leading-16 text-14 font-[500] truncate text-[var(--s-color-text-secondary)]","data-testid":"message_composite_content_file_name",children:t}),(0,a.jsx)("div",{className:"mt-2 leading-14 text-11 text-[var(--s-color-text-tertiary)] truncate",children:(0,s.default)(n)?(0,u.getFileType)((0,u.getFileExt)(t)):n})]})]})}},27309:function(e,t,n){"use strict";n.d(t,{SafetyErrorComponent:function(){return a}});var r=n("97458");n("52983");var i=n("52382"),o=n("24251"),a=function(e){var t=e.text;return(0,r.jsxs)("div",{className:o["failed-comp"],"data-testid":"message_uncompliant",children:[(0,r.jsx)(i.ReactComponent,{className:o["failed-icon"]}),(0,r.jsx)("span",{className:o["failed-text"],children:t})]})}},35555:function(e,t,n){"use strict";n.d(t,{MessageSendActionBarContent:function(){return u}});var r=n("97458"),i=n("33434"),o=n("62920"),a=n("53277"),s=n("87575"),l=n("4899"),c=n("23361"),u=function(e){var t,n=e.conversationId,u=e.messageLink,d=(null!==(t=(0,o.useChatStore)(function(e){var t=(0,a.getMessageFromStore)(n,u,e);return(0,s.isActionBarMessage)(t)?{messageTextContent:(0,l.getMessageText)(t)}:null},i.shallow))&&void 0!==t?t:{}).messageTextContent;return(0,r.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,r.jsx)("div",{className:"flex items-center w-16 h-16",children:(0,r.jsx)(c.ReactComponent,{})}),(0,r.jsx)("span",{children:d})]})}},35825:function(e,t,n){"use strict";n.d(t,{SendCompositeFallbackContent:function(){return d}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("54769"),s=n("53493"),l=n("85969"),c=n("3461"),u=n("88128"),d=function(e){var t,n,i=e.conversationId,d=e.messageLink,f=(0,u.useIsNarrowScreen)(),g=(0,c.useChat)().t,v=(0,a.useMessage)(i,d);var p=(t=(null==v?void 0:v.contentObj)||"",n=g,"".concat(n("chat_unsupported_message_type")," message.content:\n```json\n").concat(JSON.stringify(t,void 0,2),"\n```\n\n"));return(0,r.jsx)("div",{className:"flex flex-col gap-8 items-end",children:(0,r.jsx)("div",{className:o()(l["send-message-box-content"],"whitespace-break-spaces font-[400] bg-[var(--s-color-brand-primary-default)] px-9 py-12","".concat(f?"text-[15px] leading-21":"text-[16px] leading-22")),"data-testid":"message_text_content",children:(0,r.jsx)(s.MessageSendTextContentWrap,{children:p})})})}},14069:function(e,t,n){"use strict";n.d(t,{MessageSendCompositeContent:function(){return S}});var r=n("97458"),i=n("33434"),o=n("2945"),a=n("87608"),s=n.n(a),l=n("96451"),c=n("87575"),u=n("62920"),d=n("53277"),f=n("12270"),g=n("38549"),v=n("87681"),p=n("35825"),h=n("53493"),m=n("27309"),_=n("71764"),x=n("85969"),b=n("3461"),k=n("88128"),C=n("74017"),S=function(e){var t,n,a,S=e.messageLink,w=e.conversationId,y=(0,k.useIsNarrowScreen)(),I=(0,b.useChat)().t,M=null!==(t=(0,u.useChatStore)(function(e){var t,n,r,i,o,a,s=(0,d.getMessageFromStore)(w,S,e);if(!s||!(0,c.isCompositeMessage)(s))return null;var l=(0,c.isCompositeMessageWithFiles)(s),g=null!==(a=s.contentObj)&&void 0!==a?a:{},v=g.text,p=g.image_model,h=(g.file_model||{}).file_list,m=(p||{}).image_list,_=void 0===m?[]:m,x=null===(t=s.localContent)||void 0===t?void 0:t.preprocess_key,b=x?u.useChatStore.getState().preprocessTaskMap[x]:void 0,k=(null==b?void 0:b.blobUrl)||(null===(r=_[0])||void 0===r?void 0:null===(n=r.image_thumb)||void 0===n?void 0:n.url)||(null===(o=_[0])||void 0===o?void 0:null===(i=o.image_ori)||void 0===i?void 0:i.url);return{text:v,fileList:void 0===h?[]:h,imageList:_,url:k||"hack_fallback_url",isFailed:(0,c.isMessageFailed)(s),isSafetyError:(0,f.isImageSafetyError)(s)||(0,f.isFileSafetyError)(s),isCompositeWithFiles:l}},i.shallow))&&void 0!==t?t:{},T=M.text,R=M.fileList,E=void 0===R?[]:R,j=M.imageList,B=void 0===j?[]:j,L=M.url,N=void 0===L?"":L,A=M.isFailed,F=M.isSafetyError,P=(0,b.useChat)().sendMessage,O=(0,g.useRetrySendMessage)({sendMessage:P,conversationId:w,messageLink:S}),D=(0,C.useImagePreview)({conversationId:w,messageId:String(S.messageId)},B,v.ContentSource.Original),H=D.imageEventCallbacks,q=H.onImageClick,W=H.onImageRender,z=D.renderImagePreview;return E.length>0?(0,r.jsxs)("div",{className:"flex flex-col gap-8 items-end",children:[(0,r.jsx)("div",{className:s()(x["send-message-box-content"],"whitespace-break-spaces font-[400] bg-[var(--s-color-brand-primary-default)] px-9 py-12","".concat(y?"text-[15px] leading-21":"text-[16px] leading-22")),"data-testid":"message_text_content",children:(0,r.jsx)(h.MessageSendTextContentWrap,{children:T})}),F?(0,r.jsx)(m.SafetyErrorComponent,{text:I("file_upload_safety_reject")}):(0,r.jsx)(_.AttachmentNode,{fileKey:null===(n=E[0])||void 0===n?void 0:n.key,fileName:null===(a=E[0])||void 0===a?void 0:a.file_name})]}):B.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:s()(x["send-message-box-content"],"flex flex-col gap-8"),children:[(0,r.jsx)("div",{className:s()("whitespace-break-spaces font-[400]","".concat(y?"text-[15px] leading-21":"text-[16px] leading-22")),"data-testid":"message_text_content",children:T}),F?(0,r.jsx)(m.SafetyErrorComponent,{text:I("image_upload_safety_error")}):(0,r.jsx)(r.Fragment,{children:1===B.length?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Image,{onImageClick:function(e){F?(0,o.default)():A?O():null==q||q(e,N)},onImageRender:function(e){var t=e.src;return t&&W(t)},src:N,imageOptions:{squareContainer:!0,objectFit:"cover",draggable:!1,width:64,height:64},className:"rounded-10"},N)}):null})]}),F?null:z()]}):(0,r.jsx)(p.SendCompositeFallbackContent,{conversationId:w,messageLink:S})}},28052:function(e,t,n){"use strict";n.d(t,{MessageSendFileContent:function(){return v}});var r=n("97458"),i=n("40492"),o=n("83053"),a=n("62920"),s=n("53277"),l=n("87575"),c=n("12270"),u=n("54370"),d=n("27309"),f=n("71764"),g=n("3461"),v=function(e){var t,n=e.conversationId,v=e.messageLink,p=(0,g.useChat)({optionalProvider:!0}).t,h=null!==(t=(0,a.useChatStore)(function(e){var t,r=(0,s.getMessageFromStore)(n,v,e);if(!(0,l.isFileMessage)(r))return null;var o=(0,i.default)(r.contentObj.file_list),a=(0,l.isMessageFailed)(r),d=null===(t=r.localContent)||void 0===t?void 0:t.preprocess_key,f=(0,c.isFileSafetyError)(r),g=d?e.preprocessTaskMap[d]:void 0;return{fileContent:o,uploadPercent:null==g?void 0:g.percent,uploadStatus:(null==g?void 0:g.failed)||a?u.FileStatus.Retry:(null==g?void 0:g.loading)?u.FileStatus.Uploading:u.FileStatus.Normal,isFailed:a,isSafetyError:f}},o.default))&&void 0!==t?t:{},m=h.fileContent,_=h.isSafetyError;return m?_?(0,r.jsx)(d.SafetyErrorComponent,{text:p("file_upload_safety_reject")}):(0,r.jsx)("div",{className:"flex flex-col items-end",children:(0,r.jsx)(f.AttachmentNode,{fileKey:m.key,fileName:m.file_name})}):null}},55127:function(e,t,n){"use strict";n.d(t,{MessageSendImageContent:function(){return C},SendImageClassNames:function(){return k}});var r=n("97458");n("52983");var i=n("83053"),o=n("37903"),a=n("87608"),s=n.n(a),l=n("25211"),c=n("96451"),u=n("62920"),d=n("53277"),f=n("87575"),g=n("12270"),v=n("87681"),p=n("38549"),h=n("54370"),m=n("27309"),_=n("74017"),x=n("3461"),b=n("22764"),k=b,C=function(e){var t,n=e.messageLink,a=e.conversationId,k=(0,x.useChat)().sendMessage,C=(0,x.useChat)({optionalProvider:!0}).t,S=null!==(t=(0,u.useChatStore)(function(e){var t,r,i,o,s=(0,d.getMessageFromStore)(a,n,e);if(!(0,f.isImageMessage)(s))return null;var l=(0,f.isMessageFailed)(s),c=null===(t=s.localContent)||void 0===t?void 0:t.preprocess_key,u=(null==s?void 0:null===(r=s.contentObj)||void 0===r?void 0:r.image_list)||[],v=u.length>0?u[0]:void 0,p=c?e.preprocessTaskMap[c]:void 0,m=(null==p?void 0:p.blobUrl)||(null==v?void 0:null===(i=v.image_thumb)||void 0===i?void 0:i.url)||(null==v?void 0:null===(o=v.image_ori)||void 0===o?void 0:o.url);return{url:m||"hack_fallback_url",uploadStatus:(null==p?void 0:p.failed)?h.FileStatus.Retry:(null==p?void 0:p.loading)?h.FileStatus.Uploading:h.FileStatus.Normal,uploadPercent:null==p?void 0:p.percent,isSafetyError:(0,g.isImageSafetyError)(s),isFailed:l,imageList:u}},i.default))&&void 0!==t?t:{},w=S.url,y=void 0===w?"":w,I=S.uploadStatus,M=S.uploadPercent,T=S.isSafetyError,R=S.isFailed,E=S.imageList,j=(0,_.useImagePreview)({conversationId:a,messageId:String(n.messageId)},void 0===E?[]:E,v.ContentSource.Original),B=j.imageEventCallbacks,L=B.onImageClick,N=B.onImageRender,A=j.renderImagePreview,F=(0,p.useRetrySendMessage)({sendMessage:k,conversationId:a,messageLink:n}),P=function(e){if(!T)R?F():null==L||L(e,y)};return T?(0,r.jsx)(m.SafetyErrorComponent,{text:C("image_upload_safety_error")}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:s()(b.container,"w-full h-full relative overflow-hidden",R&&!T&&"cursor-pointer"),"data-testid":"message_image_content",onClick:P,children:[(0,r.jsx)(l.ImageGrid,{gridColumns:1,imgList:[y],children:function(e){return(0,r.jsx)(c.Image,{onImageClick:T?void 0:P,onImageRender:function(e){var t=e.src;return t&&N(t)},src:e,imageOptions:{squareContainer:!0,objectFit:"cover",draggable:!1},errorClassName:b["img-error"]},e)}}),!(0,o.default)(I)&&I!==h.FileStatus.Normal&&(0,r.jsx)("div",{className:b["image-icon-overlay-container"],children:(0,r.jsx)(h.FileOverlay,{progressPercent:M,status:I})})]}),A()]})}},4121:function(e,t,n){"use strict";n.d(t,{MessageSendQuoteContent:function(){return S},MessageSendQuoteContentUI:function(){return C},getMessageActionFromExt:function(){return b}});var r,i,o=n("9161"),a=n("97458"),s=n("83053"),l=n("87608"),c=n.n(l),u=n("62920"),d=n("53277"),f=n("87575"),g=n("4899"),v=n("4912"),p=n("53493"),h=n("3461"),m=n("88128"),_=n("8407"),x=n("47659"),b=function(e){if(!(null==e?void 0:e.ext))return!1;if(null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.browser_explain)return v.BuildInPromptType.read;if(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.browser_youtube_summary_transcript)return v.BuildInPromptType.youtube;if(null==e?void 0:null===(r=e.ext)||void 0===r?void 0:r.browser_user_query)return v.BuildInPromptType.delineateWords;if(null==e?void 0:null===(i=e.ext)||void 0===i?void 0:i.browser_ask)return v.BuildInPromptType.ask;var t,n,r,i,o=v.buildInActions.find(function(t){var n;return(null===(n=e.ext)||void 0===n?!!void 0:!!n[t.id])||!1});return!!o&&o},k=function(e){var t,n,r;return null!==(r=null===(t=u.useChatStore.getState().systemConfig.botLanguageList.find(function(t){var n;return t.language_code===(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.translate)}))||void 0===t?void 0:t.language_loc)&&void 0!==r?r:(null==e?void 0:null===(n=e.ext)||void 0===n?void 0:n.translate)||"en"},C=function(e){var t=e.action,n=e.readObj,r=e.videoObj,i=e.delineateWords,o=e.translateLanguage,s=e.messageTextContent,l=e.askObj,u=e.isNarrow,d=(0,h.useChat)().t;if(t===v.BuildInPromptType.read)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center pb-8 gap-8",children:(0,a.jsx)("span",{className:c()("!whitespace-break-spaces font-[400]",u?"text-[15px] leading-21":"text-[16px] leading-22"),children:d("flow_web_ext_sidebar_summarize")})}),(0,a.jsx)("div",{className:"border-solid border-0 border-t border-[rgba(0,0,0,0.12)] pt-8 pr-8 pb-2 pl-0",children:(0,a.jsxs)("div",{onClick:function(){return window.open(n.url||s)},className:"cursor-pointer flex items-center gap-8 font-[400] text-[13px] text-[rgba(255,255,255,0.65)] leading-17",children:[(0,a.jsx)(_.LinkIcon,{className:"".concat(u?"text-[20px]":"text-[24px]")}),(0,a.jsx)("div",{className:"truncate",children:n.title||s})]})})]});if(t===v.BuildInPromptType.youtube)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center pb-8 gap-8",children:(0,a.jsx)("span",{className:c()("!whitespace-break-spaces font-[400]",u?"text-[15px] leading-21":"text-[16px] leading-22"),children:d("flow_web_ext_youtube_summarize")})}),(0,a.jsx)("div",{className:"border-solid border-0 border-t border-[rgba(0,0,0,0.12)] pt-8 pr-8 pb-2 pl-0",children:(0,a.jsxs)("div",{onClick:function(){return window.open(r.url||s)},className:"cursor-pointer flex items-center gap-8 font-[400] text-[13px] text-[rgba(255,255,255,0.65)] leading-17",children:[(0,a.jsx)(_.YouTubeIcon,{className:"".concat(u?"text-[20px]":"text-[24px]")}),(0,a.jsx)("div",{className:"truncate",children:r.title||s})]})})]});if(t===v.BuildInPromptType.ask)return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:c()("flex items-center gap-4 font-[400]",u?"text-[15px] leading-21":"text-[16px] leading-22"),children:(0,a.jsx)("span",{children:l.query})}),(0,a.jsx)("div",{className:"border-solid border-0 border-t border-[rgba(0,0,0,0.12)] pt-8 pr-8 pb-2 pl-0 font-[400]",children:(0,a.jsx)("div",{className:c()(x.content,u?"leading-14 text-[12px]":"leading-17 text-[13px]"),children:s})})]});if(t===v.BuildInPromptType.delineateWords){var f,g="".concat(i,"\n"),p=(null==s?void 0:s.includes(g))?null==s?void 0:null===(f=s.split(g)[1])||void 0===f?void 0:f.trim():null==s?void 0:s.trim();return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:c()("flex items-center gap-4 font-[400]",u?"text-[15px] leading-21":"text-[16px] leading-22"),children:(0,a.jsx)("span",{children:i})}),(0,a.jsx)("div",{className:"border-solid border-0 border-t border-[rgba(0,0,0,0.12)] pt-8 pr-8 pb-2 pl-0 font-[400]",children:(0,a.jsx)("div",{className:c()(x.content,u?"leading-14 text-[12px]":"leading-17 text-[13px]"),children:p})})]})}return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:c()("flex items-center gap-4 font-[400]",u?"text-[15px] leading-21":"text-[16px] leading-22"),children:[(0,_.getIconByKey)(t.icon,{className:u?"text-[16px]":"text-[18px]"}),(0,a.jsxs)("span",{children:[d(t.name),"".concat(t.icon===v.BuildInPromptType.translate?o:"")]})]}),(0,a.jsx)("div",{className:"border-solid border-0 border-t border-[rgba(0,0,0,0.12)] pt-8 pr-8 pb-2 pl-0 font-[400]",children:(0,a.jsx)("div",{className:c()(x.content,u?"leading-14 text-[12px]":"leading-17 text-[13px]"),children:s})})]})};var S=(r=C,i=function(e){var t,n=e.messageLink,r=e.conversationId,i=(0,h.useChat)().t,o=(0,m.useIsNarrowScreen)();return null!==(t=(0,u.useChatStore)(function(e){var t,a,s,l,c,u=(0,d.getMessageFromStore)(r,n,e);if(!(0,f.isTextMessage)(u))return null;var v=(0,g.getMessageText)(u,!1,i("chat_unsupported_message_type"));return{action:b(u),readObj:(null===(t=u.ext)||void 0===t?void 0:t.browser_explain)?JSON.parse(u.ext.browser_explain):{},videoObj:(null===(a=u.ext)||void 0===a?void 0:a.browser_youtube_summary_transcript)?JSON.parse(u.ext.browser_youtube_summary_transcript):{},delineateWords:null!==(c=null===(s=u.ext)||void 0===s?void 0:s.browser_user_query)&&void 0!==c?c:"",translateLanguage:k(u),messageTextContent:v,askObj:(null===(l=u.ext)||void 0===l?void 0:l.browser_ask)?JSON.parse(u.ext.browser_ask):{},isNarrow:o}},s.default))&&void 0!==t?t:{isNarrow:o}},function(e){var t=i(e);return t.action?(0,a.jsx)(r,(0,o._)({},t)):(0,a.jsx)(p.MessageSendTextContent,{conversationId:e.conversationId,messageLink:e.messageLink})})},4912:function(e,t,n){"use strict";n.d(t,{BuildInPromptType:function(){return r},buildInActions:function(){return i}});var r={search:"search",read:"read",explain:"explain",translate:"translate",summarize:"summarize",grammar:"grammar",rewrite:"rewrite",ask:"browser_ask",youtube:"youtube",delineateWords:"delineateWords"},i=[{id:r.explain,name:"flow_web_ext_action_explain",icon:"explain"},{id:r.translate,name:"flow_web_ext_action_translate_to",icon:"translate"},{id:r.summarize,name:"flow_web_ext_action_summarize",icon:"summarize"},{id:r.grammar,name:"flow_web_ext_action_grammar",icon:"check"},{id:r.rewrite,name:"flow_web_ext_action_rewrite",icon:"rewrite"}]},15105:function(e,t,n){"use strict";n.d(t,{MessageSendReadPDFSkillWithLinkContent:function(){return p}});var r=n("97458"),i=n("24682"),o=n("50002"),a=n("87608"),s=n.n(a),l=n("54769"),c=n("53493"),u=n("71764"),d=n("85969"),f=n("88128"),g=function(e){var t,n=null==e?void 0:null===(t=e.contentObj)||void 0===t?void 0:t.text;return n&&(0,i.default)(n)?n:void 0},v=function(e){var t,n=null==e?void 0:null===(t=e.contentObj)||void 0===t?void 0:t.link_model,r=(0,o.default)(n,["url"],void 0);return r&&(0,i.default)(r)?r:void 0},p=function(e){var t=e.messageLink,n=e.conversationId,i=(0,l.useMessage)(n,t),o=g(i),a=v(i),p=(0,f.useIsNarrowScreen)();return(0,r.jsxs)("div",{className:"flex flex-col gap-8 items-end",children:[!!o&&(0,r.jsx)("div",{className:s()(d["send-message-box-content"],"whitespace-break-spaces font-[400] bg-[var(--s-color-brand-primary-default)] px-9 py-12","".concat(p?"text-[15px] leading-21":"text-[16px] leading-22")),"data-testid":"message_text_content",children:(0,r.jsx)(c.MessageSendTextContentWrap,{children:o})}),a&&(0,r.jsx)(u.AttachmentNode,{fileLink:a,fileName:a,attchmentType:"PDF Link"})]})}},78882:function(e,t,n){"use strict";n.d(t,{MessageSendReadWebsiteSkillContent:function(){return v}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("4899"),s=n("54769"),l=n("87575"),c=n("53493"),u=n("3461"),d=n("61631"),f=function(e){var t=e.message,n=(0,u.useChat)(),i=n.t,s=n.enableMessageDebug,l=(0,a.getMessageText)(t,s,i("chat_unsupported_message_type"));return(0,r.jsx)("div",{className:"flex flex-col gap-8",children:(0,r.jsx)("div",{className:o()("whitespace-break-spaces",d["message-text-link-wrapper"]),"data-testid":"message_text_content",children:(0,r.jsx)("div",{className:d["message-text-link"],children:l})})})},g=function(e){var t=e.messageLink,n=e.conversationId;return(0,r.jsx)(c.MessageSendTextContent,{messageLink:t,conversationId:n})},v=function(e){var t=e.messageLink,n=e.conversationId,i=(0,s.useMessage)(n,t);return(0,l.isReadWebsiteMessageWithLink)(i)?(0,r.jsx)(f,{message:i}):(0,l.isReadWebsiteMessageWithPrompt)(i)?(0,r.jsx)(g,{messageLink:t,conversationId:n}):null}},31710:function(e,t,n){"use strict";n.d(t,{MessageSendTemplateContent:function(){return u}});var r=n("97458"),i=n("33434"),o=n("62920"),a=n("53277"),s=n("87575"),l=n("4899"),c=n("8407"),u=function(e){var t,n=e.messageLink,u=e.conversationId,d=(null!==(t=(0,o.useChatStore)(function(e){var t=(0,a.getMessageFromStore)(u,n,e);return(0,s.isTemplateMessage)(t)?{messageTextContent:(0,l.getMessageText)(t)}:null},i.shallow))&&void 0!==t?t:{}).messageTextContent;return(0,r.jsxs)("div",{className:"flex items-center select-none",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-20 h-20",children:(0,r.jsx)(c.TemplateStarIcon,{})}),(0,r.jsx)("span",{children:d})]})}},53493:function(e,t,n){"use strict";n.d(t,{MessageSendTextContent:function(){return f},MessageSendTextContentWrap:function(){return d}});var r=n("97458"),i=n("33434"),o=n("62920"),a=n("53277"),s=n("87575"),l=n("4899"),c=n("3461"),u=n("2796"),d=function(e){var t=e.children;return(0,r.jsx)("pre",{className:u["self-content-pre"],"data-testid":"message_text_content",children:t})},f=function(e){var t,n=e.messageLink,u=e.conversationId,f=(0,c.useChat)(),g=f.t,v=f.enableMessageDebug,p=(null!==(t=(0,o.useChatStore)(function(e){var t=(0,a.getMessageFromStore)(u,n,e);return(0,s.isTextMessage)(t)?{messageTextContent:(0,l.getMessageText)(t,v,g("chat_unsupported_message_type"))}:null},i.shallow))&&void 0!==t?t:{}).messageTextContent;return(0,r.jsx)(d,{children:p})}},40280:function(e,t,n){"use strict";n.d(t,{MessageSendWritingOrImageSkillContent:function(){return S},RenderMessageBoxContent:function(){return C},getSkillData:function(){return k}});var r=n("97458"),i=n("24682"),o=n("83911"),a=n("83053"),s=n("87608"),l=n.n(s),c=n("78597"),u=n("8379"),d=n("62920"),f=n("53277"),g=n("87575"),v=n("4899"),p=n("24815"),h=n("53268"),m=n("88128"),_=n("6124"),x=n("3461"),b=n("71517"),k=function(e){var t,n,r,o,a=null==e?void 0:null===(t=e.ext)||void 0===t?void 0:t.input_skill,s=(0,c.parseJSON)((0,i.default)(a)?a:""),l=null==s?void 0:s.show_variables;return{tone:null==l?void 0:l.tone,language:null==l?void 0:l.language,length:null==l?void 0:l.length,style:null==l?void 0:l.style,skillType:s.skill_type,templateType:null!==(n=null==l?void 0:l.template_type)&&void 0!==n?n:"",template:null!==(r=null==l?void 0:l.template)&&void 0!==r?r:"",originalText:null!==(o=null==l?void 0:l.original_text)&&void 0!==o?o:"",targetLang:null==l?void 0:l.target_lang}},C=function(e){var t=e.skillTagArr,n=void 0===t?[]:t,i=e.content,a=e.originalText,s=e.isNarrow,c=n.every(function(e){return(0,o.default)(e)||""===e});return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsx)("div",{className:l()("whitespace-break-spaces",b["message-text"]),"data-testid":"message_text_content",children:i}),a?(0,r.jsx)("div",{className:"pt-8 pr-8 pb-2 pl-0 border-solid border-0 border-t border-[rgba(0,0,0,0.12)]",children:(0,r.jsx)("div",{className:l()("border-solid border-0 border-l-2 border-[rgba(255,255,255,0.65)] text-[rgba(255,255,255,0.65)] pl-8 font-[400] whitespace-break-spaces ml-2","".concat(s?"text-[12px] leading-14":"text-[14px] leading-18")),children:a})}):null,!c&&(0,r.jsx)(h.Space,{wrap:!0,children:n.map(function(e){return e&&(0,r.jsx)(h.Tag,{className:l()("flex bg-[rgba(255,255,255,0.13)] rounded-6 pt-4 pr-8 pb-4 pl-8 gap-10 text-[white]","".concat(s?"text-[12px] leading-14":"text-[14px] leading-18")),"data-testid":"message_tag",children:e},e)})})]})},S=function(e){var t,n=e.messageLink,i=e.conversationId,o=(0,x.useChat)(),s=o.t,c=o.enableMessageDebug,h=(0,m.useIsNarrowScreen)(),S=null!==(t=(0,d.useChatStore)(function(e){var t=(0,f.getMessageFromStore)(i,n,e);if(!(0,g.isTextMessage)(t))return null;var r=k(t),o=[null==r?void 0:r.template,null==r?void 0:r.tone,null==r?void 0:r.length,null==r?void 0:r.language,null==r?void 0:r.style];return{skillData:r,skillTagArr:o,messageTextContent:(0,v.getMessageText)(t,c,s("chat_unsupported_message_type"))}},a.default))&&void 0!==t?t:{},w=S.skillData,y=S.skillTagArr,I=S.messageTextContent;if((null==w?void 0:w.skillType)===p.SkillType.WriteAssistant)return(null==w?void 0:w.templateType)===_.WritingSkillTemplateType.Compose?(0,r.jsx)(C,{skillTagArr:y,isNarrow:h,content:"".concat(s("skill_writing_mode_compose")," ").concat(w.template," ").concat(s("skill_writing_sent_message_conjunction_word"),' "').concat(I,'"')}):(0,r.jsx)(C,{skillTagArr:y,isNarrow:h,content:"".concat(s("skill_writing_mode_reply")," ").concat(w.template," ").concat(s("skill_writing_sent_message_conjunction_word"),' "').concat(I,'"'),originalText:w.originalText});if((null==w?void 0:w.skillType)===p.SkillType.ImageGeneration)return(0,r.jsx)(C,{skillType:null==w?void 0:w.skillType,skillTagArr:y,isNarrow:h,content:null!=I?I:""});var M=null==w?void 0:w.targetLang;return(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("div",{className:l()("flex items-center gap-4 font-[400]",h?"text-[15px] leading-21":"text-[16px] leading-22"),children:[(0,r.jsx)(u.ReactComponent,{className:h?"text-[16px]":"text-[18px]"}),(0,r.jsx)("span",{children:"".concat(s("flow_web_ext_action_translate_to")," ").concat(M)})]}),(0,r.jsx)("div",{className:"border-solid border-0 border-t border-[rgba(0,0,0,0.12)] pt-8 pr-8 pb-2 pl-0 font-[400]",children:(0,r.jsx)("div",{className:l()(b.content,h?"leading-14 text-[12px]":"leading-17 text-[13px]"),children:I})})]})}},43176:function(e,t,n){"use strict";n.d(t,{useHandleEditSendMessage:function(){return a}});var r=n("31566"),i=n("62920"),o=n("59157"),a=function(e){var t=e.messageLink,n=e.conversationId;return function(){r.FlowTea.trackEvent("click_edit_message",{message_id:t.messageId,edit_method:"click"});var e=i.useChatStore.getState();(0,o.handleLocalBreak)(n),e.clearSuggestMessage(n)}}},8087:function(e,t,n){"use strict";n.d(t,{BaseSendMessageBox:function(){return k},SendMessageBox:function(){return C}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("40509"),s=n("97458"),l=n("14670"),c=n("52983"),u=n("33434"),d=n("87608"),f=n.n(d),g=n("38549"),v=n("62920"),p=n("53277"),h=n("87575"),m=n("52420"),_=n("85969"),x=n("43176"),b=n("3461"),k=function(e){var t=e.BaseMessageBoxSlot,n=(e.isLastSendMessage,(0,o._)(e,["BaseMessageBoxSlot","isLastSendMessage"])),a=(0,b.useChat)().sendMessage,l=n.messageLink,c=n.conversationId,u=(0,g.useRetrySendMessage)({sendMessage:a,messageLink:l,conversationId:c});return t&&(0,s.jsx)(t,(0,i._)((0,r._)({},n),{contentClassName:f()(_["send-message-box-content"],n.contentClassName),"data-testid":"send_message",onFailedRetry:u}))},C=function(e){var t=e.BaseSendMessageBoxSlot,n=e.EditingMessageBoxSlot,d=e.MessageSendTextContentSlot,g=e.MessageSendTemplateContentSlot,b=e.MessageSendImageContentSlot,k=e.MessageSendFileContentSlot,C=e.MessageSendActionBarContentSlot,S=e.MessageSendCompositeSlot,w=e.MessageSendQuoteContentSlot,y=e.MessageSendWritingOrImageSkillSlot,I=e.MessageSendReadPDFSkillWithLinkContentSlot,M=e.MessageSendReadWebsiteSkillContentSlot,T=(0,o._)(e,["BaseSendMessageBoxSlot","EditingMessageBoxSlot","MessageSendTextContentSlot","MessageSendTemplateContentSlot","MessageSendImageContentSlot","MessageSendFileContentSlot","MessageSendActionBarContentSlot","MessageSendCompositeSlot","MessageSendQuoteContentSlot","MessageSendWritingOrImageSkillSlot","MessageSendReadPDFSkillWithLinkContentSlot","MessageSendReadWebsiteSkillContentSlot"]),R=(0,a._)((0,c.useState)(!1),2),E=R[0],j=R[1],B=T.isLastSendMessage,L=T.conversationId,N=T.messageLink,A=(0,v.useChatStore)(function(e){var t=(0,p.getMessageFromStore)(L,N,e);return{isText:(0,h.isTextMessage)(t),isImage:(0,h.isImageMessage)(t),isFile:(0,h.isFileMessage)(t),isComposite:(0,h.isCompositeMessage)(t),isWithQuote:(0,h.isQuoteMessage)(t),isReadWebsiteSkill:(0,h.isReadWebsiteMessage)(t),isWritingAndImageSkill:(0,h.isWritingOrImageSkillMessage)(t),isReadPDFSkillWithLink:(0,h.isReadPDFSkillMessageWithPDFLink)(t),isActionBar:(0,h.isActionBarMessage)(t),isSupported:(0,h.isSupportedSendMessage)(t),isTemplate:(0,h.isTemplateMessage)(t)}},u.shallow),F=A.isText,P=A.isImage,O=A.isFile,D=A.isComposite,H=A.isWithQuote,q=A.isReadWebsiteSkill,W=A.isWritingAndImageSkill,z=A.isReadPDFSkillWithLink,V=A.isActionBar,U=A.isSupported,K=A.isTemplate,G=(0,x.useHandleEditSendMessage)({messageLink:N,conversationId:L});return((0,c.useEffect)(function(){!B&&j(!1)},[B]),U)?K?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{renderContent:function(){return(0,s.jsx)(g,{messageLink:N,conversationId:L})}})):V?t&&(0,s.jsx)(t,(0,i._)((0,r._)({},T),{renderContent:function(e){var t=e.inView;return(0,s.jsx)(C,{inView:t,messageLink:N,conversationId:L})}})):F&&W?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{renderContent:function(){return(0,s.jsx)(y,{messageLink:N,conversationId:L})}})):F&&q?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{renderContent:function(){return(0,s.jsx)(M,{messageLink:N,conversationId:L})}})):z?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{contentWrapperClassName:_["send-read-pdf-message-with-link"],renderContent:function(){return(0,s.jsx)(I,{messageLink:N,conversationId:L})}})):F&&H?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{renderContent:function(){return(0,s.jsx)(w,{messageLink:N,conversationId:L})}})):F?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{onEditClick:!B||(null===m.FlowConfig||void 0===m.FlowConfig?void 0:m.FlowConfig.isGuest)?void 0:function(){j(!0),G()},showOuterBox:!E,renderContent:function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.default,{mountOnEnter:!0,unmountOnExit:!0,timeout:200,in:E,children:function(e){return(0,s.jsx)(n,{className:_["fade-".concat(e)],conversationId:L,messageLink:N,onExit:function(){j(!1)}})}}),!E&&(0,s.jsx)(d,{messageLink:N,conversationId:L})]})}})):P?t&&(0,s.jsx)(t,(0,i._)((0,r._)({},T),{contentClassName:_["send-image-content"],renderContent:function(e){var t=e.inView;return(0,s.jsx)(b,{messageLink:N,inView:t,conversationId:L})}})):O?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{contentClassName:f()(_["send-file-content"],"sm:!max-w-320"),renderContent:function(){return(0,s.jsx)(k,{conversationId:L,messageLink:N})}})):D?(0,s.jsx)(t,(0,i._)((0,r._)({},T),{contentClassName:f()(_["send-composite-content"],"sm:!max-w-320"),renderContent:function(){return(0,s.jsx)(S,{conversationId:L,messageLink:N})}})):null:t&&(0,s.jsx)(t,(0,i._)((0,r._)({},T),{renderContent:function(){return(0,s.jsx)(d,{messageLink:N,conversationId:L})}}))}},28781:function(e,t,n){"use strict";n.d(t,{useSuggestMessageListWithStatus:function(){return d}});var r=n("52983"),i=n("78597"),o=n("54769"),a=n("31566"),s=n("10173"),l=n("62920"),c=n("87681"),u=n("3461"),d=function(e,t){var n=(0,o.useMessage)(e,t),d=(0,u.useChat)().chatViewConfig,f=(null==n?void 0:n.message_id)||"",g=(0,o.useSuggestMessage)(e,null==n?void 0:n.reply_id)||{},v=g.loading,p=g.failed,h=g.expired,m=g.suggests,_=(0,r.useCallback)(function(){var e=n||{},t=e.conversation_id,r=e.reply_id;t&&r&&(a.FlowTea.trackEvent("receive_prompt",{duration:s.receiveSuggestMessageTimeout,success:0,conversation_id:t,section_id:null==n?void 0:n.section_id,result:"prompt_timeout",message_id:null==n?void 0:n.message_id,is_cache:0}),l.useChatStore.getState().updateSuggestMessage(t,function(e){return{replyId:r,loading:!1,failed:!1,expired:void 0,suggests:(null==e?void 0:e.replyId)===r&&(null==e?void 0:e.suggests)||[]}}))},[f]);(0,r.useEffect)(function(){x(h)},[h]);var x=(0,i.useTimeoutWithExpired)(_).setExpired;if((null==d?void 0:d.chatType)===c.ChatType.Bot||(null==d?void 0:d.chatType)===c.ChatType.ProfileBot){var b,k=(0,i.parseJSON)(null==n?void 0:null===(b=n.ext)||void 0===b?void 0:b.sp);return{failed:!1,loading:!1,suggests:(0,i.isStringArray)(k)?k:[]}}return{failed:p,loading:v,suggests:void 0===m?[]:m,isRegen:!1}}},92299:function(e,t,n){"use strict";n.d(t,{SuggestMessageList:function(){return R}});var r,i,o=n("83316"),a=n("9161"),s=n("16044"),l=n("97458"),c=n("28377"),u=n("52983"),d=n("59574"),f=n("87608"),g=n.n(f),v=n("52420"),p=n("53277"),h=n("87575"),m=n("31566"),_=n("83375"),x=n("10173"),b=n("41249"),k=n("30697"),C=n("48847"),S=n("86085"),w=n("84029"),y=n("3461"),I=n("78643"),M=(0,S.IconFactory)((0,l.jsx)(C.ReactComponent,{}),{autoFitRTL:!0}),T=(0,u.forwardRef)(function(e,t){var n=e.loading,r=e.isRegen,i=e.failed,a=e.suggests,s=e.onClick,c=e.className;return!i&&(n||(null==a?void 0:a.length))?(0,l.jsx)("div",{ref:t,className:g()(I["suggest-message-list-wrapper"],c),"data-testid":"suggest_message_list",children:n?(0,l.jsx)("div",{className:g()(I["suggest-message"],I["no-hover"]),children:(0,l.jsx)(b.DotFlashing,{})}):a.filter(function(e){return e}).map(function(e,t){return(0,l.jsxs)("div",{className:g()(I["suggest-message"],(0,o._)({},I.fadeIn,!r)),onClick:function(){return s(e,t)},"data-testid":"suggest_message_item",children:[(0,l.jsx)(k.SpanI18n,{className:I.title,children:e}),(0,l.jsx)(M,{className:I.icon})]},t)})}):null});var R=(r=T,i=0,function(e){var t=e.messageLink,n=e.suggestMessageListWithStatus,i=e.conversationId,o=e.className,f=n||{},g=f.loading,b=f.failed,k=f.suggests,C=void 0===k?[]:k,S=f.isRegen,I=(0,w.useCurrentChatBotId)(),M=(0,c.useInView)(),T=M.inView,R=M.ref,E=(0,u.useRef)({sgs:[]}),j=(0,y.useChat)().sendMessage,B=v.FlowConfig.loginSource,L=(0,p.getMessageFromStore)(i,t),N=function(e,n){var r,o=(0,p.getMessageFromStore)(i,t);(0,h.isOnBoardingMessage)(o)?(m.FlowTea.trackEvent("show_onboarding_card",(0,a._)((0,s._)((0,a._)({message_id:t.messageId,bot_id:n,conversation_id:i,prompt_cnt:e.length,onboarding_type:(0,h.onBoardingMessageType)(o),onboarding_question:e.join(",")},B?{previous_page:B}:{}),{current_page:"chat",use_nickname:(null==o?void 0:null===(r=o.ext)||void 0===r?void 0:r.is_connect_caller_name)?1:0}),(0,_.getOnboardingContentSource)(o)),"".concat(t.messageId)),e.forEach(function(e,r){m.FlowTea.trackEvent("show_onboarding_card_single_question",(0,a._)((0,s._)((0,a._)({message_id:t.messageId,bot_id:n,conversation_id:i,onboarding_type:(0,h.onBoardingMessageType)(o),onboarding_question:e},B?{previous_page:B}:{}),{current_page:"chat"}),(0,_.getOnboardingContentSource)(o)),"".concat(t.messageId,"_").concat(r))})):(m.FlowTea.trackEvent("show_suggested_prompt",(0,s._)((0,a._)({bot_id:n,message_id:t.messageId,conversation_id:i,current_page:"chat",prompt_cnt:e.length,suggested_type:"suggested_prompt"},B?{previous_page:B}:{}),{web_show_method:"enter_chat"}),"".concat(t.messageId)),e.forEach(function(e,r){m.FlowTea.trackEvent("show_suggested_prompt_single_question",(0,s._)((0,a._)({bot_id:n,message_id:t.messageId,conversation_id:i,current_page:"chat",prompt_position:r+1,suggested_type:"suggested_prompt"},B?{previous_page:B}:{}),{web_show_method:"enter_chat"}),{key:"".concat(t.messageId,"_").concat(r),duration:300})}))};return(0,u.useEffect)(function(){T&&setTimeout(function(){var e=E.current,t=e.sgs,n=e.botId;!(0,d.default)(t)&&N(t,n)},x.receiveSuggestReportIdleTimeout)},[T]),(0,u.useEffect)(function(){T&&(E.current={sgs:C,botId:I})},[C,T,I]),(0,l.jsx)(r,{ref:R,onClick:function(e,n){var r=(0,h.isOnBoardingMessage)(L);r?m.FlowTea.trackEvent("click_onboarding_card",(0,a._)({message_id:t.messageId,bot_id:I,conversation_id:i,onboarding_type:(0,h.onBoardingMessageType)(L),onboarding_question:e,click_position:n+1,current_page:"chat"},B?{previous_page:B}:{},(0,_.getOnboardingContentSource)(L))):m.FlowTea.trackEvent("click_suggested_prompt",(0,s._)((0,a._)({bot_id:I,message_id:t.messageId,click_position:n+1,conversation_id:i,suggested_type:"suggested_prompt",current_page:"chat"},B?{previous_page:B}:{}),{web_show_method:"enter_chat"})),j((0,a._)({text:e,scene:r?(0,h.onBoardingMessageScene)(L):"suggested_prompts"},v.FlowConfig.isGuest?{extraExt:{send_from_skill_guidance_or_suggestion:"1"}}:{}))},loading:g,failed:b,isRegen:S,suggests:C,className:o})})},54438:function(e,t,n){"use strict";n.d(t,{MessageBox:function(){return f}});var r,i=n("9161"),o=n("16044"),a=n("97458"),s=n("33434"),l=n("62920"),c=n("54769"),u=n("59312"),d=n("87575");var f=(r=function(e){var t=e.messageLink,n=e.conversationId,r=e.isThreadConversation;return(0,l.useChatStore)(function(e){var i=c.useMessage.raw(e,n,t),o=c.useLastSectionId.raw(e,n),a=c.useMessageAvailableIndex.raw(e,n),s=u.useSecUserId.raw(e);return{isExist:(0,d.isMessageVisible)(i,a,r)&&!!i,isSend:(0,d.isSendMessage)(i,s),isNotLastSection:o?o!==(null==i?void 0:i.section_id):void 0}},s.shallow)},function(e){var t=e.conversationId,n=e.messageLink,s=e.isShowActionsAndSuggests,l=e.isLastSendMessage,c=e.isLastAvailableMessage,u=e.isThreadConversation,d=e.SendMessageBoxSlot,f=e.ReceiveMessageBoxSlot,g=r({conversationId:t,messageLink:n,isThreadConversation:u}),v=g.isExist,p=g.isSend,h=g.forceIsNotLastAvailableMessage,m=g.isNotLastSection,_=void 0!==m&&m;if(!v)return null;var x={conversationId:t,messageLink:n,isSend:p,isShowActionsAndSuggests:s,isLastAvailableMessage:!(void 0!==h&&h)&&!_&&c};return p?(0,a.jsx)(d,(0,o._)((0,i._)({},x),{isLastSendMessage:!_&&l})):(0,a.jsx)(f,(0,o._)((0,i._)({},x),{isLastAvailableMessage:x.isLastAvailableMessage}))})},9206:function(e,t,n){"use strict";n.d(t,{useMessageDelete:function(){return _}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("88802"),s=n("40492"),l=n("59312"),c=n("62920"),u=n("53277"),d=n("87575"),f=n("31566"),g=n("78142"),v=n("53268"),p=n("3461"),h=n("55096"),m=n("27202"),_=function(e){var t,n=e.botId,_=e.conversationId,x=e.messageLink,b=(0,p.useChat)(),k=b.t,C=b.getPopupContainer,S=void 0===C?function(){return document.body}:C,w=(0,l.useSecUserId)(),y=(0,m.useToast)(),I=c.useChatStore.getState();var M=(t=(0,r._)(function(){var e,t,r,l,c,v,p;return(0,a.__generator)(this,function(a){switch(a.label){case 0:e=(0,u.getMessageFromStore)(_,x),t={bot_id:n,conversation_id:_,message_id:x.messageId,message_type:(0,u.getMessageTypeForTea)(e),is_onboarding:(0,d.isOnBoardingMessage)(e)?1:0,click_from:"long_press_answer",is_read:0,voice_id:void 0,user_type:(0,d.isSendMessage)(e,w)?1:0},a.label=1;case 1:if(a.trys.push([1,4,,5]),!((null==e?void 0:e.message_id)&&!(0,d.isLocalMessage)(e)))return[3,3];return f.FlowTea.trackEvent("message_delete",t),[4,g.FlowApi.apiService.message.MessageReport({conversation_id:_,message_id:e.message_id,action:"delete"})];case 2:a.sent(),(0,d.isMusicMessage)(e)&&(0,h.pauseMusicPlayerByVid)(null===(r=(0,s.default)((null===(l=e.contentObj)||void 0===l?void 0:l.music_list)||[]))||void 0===r?void 0:r.vid),c={isLocalMessage:!1,messageId:e.message_id},I.logicalDeleteMessage({conversationId:_,messageLink:c}),I.updateMessageList({conversationId:_,immerUpdate:function(e,t){return t.resetMessageLink(c)}}),f.FlowTea.trackEvent("message_delete_result",(0,o._)((0,i._)({},t),{is_success:1})),a.label=3;case 3:return[3,5];case 4:return v=a.sent(),f.FlowTea.trackEvent("message_delete_result",(0,o._)((0,i._)({},t),{is_success:0,error:(null==v?void 0:null===(p=v.errorOption)||void 0===p?void 0:p.message)||(null==v?void 0:v.message)})),y.error(k("system_error_toast")),[3,5];case 5:return[2]}})}),function(){return t.apply(this,arguments)});return{onDeleteClick:function(){v.Modal.warning({centered:!0,title:k("delete_message_toast_text"),cancelText:k("delete_message_btn_cancel"),okText:k("delete_message_btn_confirm"),okButtonProps:{type:"danger"},onOk:M,getPopupContainer:S})}}}},66855:function(e,t,n){"use strict";n.d(t,{pullOgfSwitchState:function(){return _},useOgfQuotaSwitchData:function(){return k}});var r=n("92769"),i=n("40509"),o=n("88802"),a=n("52983"),s=n("42623"),l=n("87382"),c=n("62920"),u=n("59312"),d=n("31566"),f=n("53641"),g=n("78142"),v=n("61760"),p=n("11068"),h=n("53268"),m=n("3461");function _(e){return x.apply(this,arguments)}function x(){return(x=(0,r._)(function(e){var t,n,r,i,a,s,u,d,f;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if((null===(n=(r=c.useChatStore.getState()).userOgfQuota)||void 0===n?void 0:null===(t=n.ogfQuota)||void 0===t?void 0:t.ciciOgfQuotaLeft)===0)return r.updateCiciQuotaSwitchState(!1),[2];i=(0,l.createReportEvent)({eventName:"ogf_switch_load",meta:{config_pull_reason:e}}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,g.FlowApi.apiService.setting.PullUserConfig({objects:[v.UserConfigObject.UseOgfSwitch],reason:e})];case 2:return(null==(s=o.sent().data)?void 0:null===(a=s.configs)||void 0===a?void 0:a[0])&&(u="1"===s.configs[0].value,d=s.configs[0].version,r.updateCiciQuotaSwitchConfig({value:u,version:d})),i.addDurationPoint("success"),i.success(),[3,4];case 3:return f=o.sent(),i.error({reason:"load ogf switch config failed",error:f}),[3,4];case 4:return[2]}})})).apply(this,arguments)}function b(){return(b=(0,r._)(function(e){var t,n,r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:return r=c.useChatStore.getState(),[4,g.FlowApi.apiService.setting.SyncUserConfig({configs:[{object:v.UserConfigObject.UseOgfSwitch,value:e,version:null===(n=r.userOgfQuota)||void 0===n?void 0:null===(t=n.quotaSwitchConfig)||void 0===t?void 0:t.version}]})];case 1:return[2,i.sent().data]}})})).apply(this,arguments)}var k=function(e){var t,n=e.botId,g=(0,u.useOgfConfig)(),v=(0,i._)((0,a.useState)(!1),2),_=v[0],x=v[1],k=(0,m.useChat)().t;var C=(t=(0,r._)(function(){var e,t,r,i,a,u;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if((null==g?void 0:null===(e=g.ogfQuota)||void 0===e?void 0:e.ciciOgfQuotaLeft)===0||_)return[2];x(!0),t=(0,l.createReportEvent)({eventName:"ogf_switch_update"}),r=((null==g?void 0:g.quotaSwitchConfig)||{value:!1}).value,c.useChatStore.getState().updateCiciQuotaSwitchState(!r),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,function(e){return b.apply(this,arguments)}(r?"0":"1")];case 2:return a=o.sent(),c.useChatStore.getState().updateCiciQuotaSwitchConfig({value:!r,version:null==a?void 0:null===(i=a.configs)||void 0===i?void 0:i[0].version}),c.useChatStore.getState().updateCiciQuotaNextState(!r),t.addDurationPoint("success"),t.success(),d.FlowTea.trackEvent("click_ogf_switch",{bot_id:n,to_status:r?0:1}),[3,5];case 3:return u=o.sent(),t.error({reason:"update ogf switch failed",error:u}),c.useChatStore.getState().updateCiciQuotaSwitchState(r),(0,s.isAxiosError)(u)?h.Toast.error({content:k("log_in_internet_error"),showClose:!1}):(0,p.isApiError)(u)&&(0,p.isApiErrorWithI18n)(u)?h.Toast.error({content:u.errorOption.message,showClose:!1}):h.Toast.error({content:k("notification_system_error_toast"),showClose:!1}),[3,5];case 4:return x(!1),[7];case 5:return[2]}})}),function(){return t.apply(this,arguments)}),S=f.FlowBot.useBotInfo(n),w=(0,a.useMemo)(function(){return!1},[S,n,null==g?void 0:g.userQuotaConfig]);return{quotaConfig:g,handleQuotaSwitchChange:C,isShowQuotaSwitch:w,loading:_}}},20446:function(e,t,n){"use strict";n.d(t,{OgfButton:function(){return x}});var r,i,o=n("92769"),a=n("88802"),s=n("97458"),l=n("28377"),c=n("52983"),u=n("87608"),d=n.n(u),f=n("87575"),g=n("75761"),v=n("61760"),p=n("53268"),h=n("66855"),m=n("3461"),_=n("62366");var x=(r=function(e){var t,n=e.disabled,r=e.loading,i=void 0!==r&&r,u=e.quotaSwitchState,f=e.handleQuotaSwitchChange,g=(0,l.useInView)(),x=g.ref,b=g.inView,k=(0,m.useChat)().t;(0,c.useEffect)(function(){b&&(0,h.pullOgfSwitchState)(v.UserConfigPullReason.Startup)},[b]);var C=(t=(0,o._)(function(){return(0,a.__generator)(this,function(e){return f?n&&!i?(p.Toast.info({content:k("gpt_quota_refresh_tomorrow"),showClose:!1}),[2]):[2,f()]:[2]})}),function(){return t.apply(this,arguments)});return(0,s.jsxs)("div",{ref:x,onClick:C,className:d()(_["ogf-toggle-container"],n&&_.disabled,"whitespace-nowrap h-30 gap-4 -indent-1 text-12 cursor-pointer flex items-center font-[600] select-none",_["".concat(u?"active":"inactive")]),children:[(0,s.jsx)("span",{children:k("gpt_switch_text")}),(0,s.jsx)(p.Switch,{disabled:n,size:"small",className:"ml-2",checked:u})]})},i=h.useOgfQuotaSwitchData,function(){var e,t,n=(0,m.useChat)().chatViewConfig,o=(null==n?void 0:n.chatType)&&(0,f.isBotChat)(null==n?void 0:n.chatType)?null==n?void 0:n.chatId:(0,g.getBotIdByConversationId)(null==n?void 0:n.chatId),a=i({botId:null!=o?o:""}),l=a.quotaConfig,c=a.handleQuotaSwitchChange,u=a.isShowQuotaSwitch,d=a.loading,v=0>=Number(null==l?void 0:null===(e=l.ogfQuota)||void 0===e?void 0:e.ciciOgfQuotaLeft)||d;return u?(0,s.jsx)(r,{disabled:v,loading:d,quotaSwitchState:null==l?void 0:null===(t=l.quotaSwitchConfig)||void 0===t?void 0:t.value,handleQuotaSwitchChange:c}):null})},92493:function(e,t,n){"use strict";n.d(t,{ReportDialog:function(){return x}});var r=n("92769"),i=n("40509"),o=n("88802"),a=n("97458"),s=n("52983"),l=n("87382"),c=n("26813"),u=n("75761"),d=n("59312"),f=n("31566"),g=n("52420"),v=n("53641"),p=n("1438"),h=n("78142"),m=n("3461"),_=n("27202"),x=function(e){var t,n=e.FeedbackModalBaseSlot,x=e.ReportModalSlot,b=e.exts,k=e.messageId,C=e.conversationId,S=e.entityId,w=e.onHide,y=(0,m.useChat)(),I=y.t,M=y.locationState,T=(0,u.getBotIdByConversationId)(C)||S,R=(null==M?void 0:M.enter_from)==="bot_discover",E=(0,_.useToast)(),j=(0,d.useReportConfig)(),B=j.botPresetOptions,L=j.messagePresetOptions;var N=(t=(0,r._)(function(e,t){var n,r,i;return(0,o.__generator)(this,function(o){switch(o.label){case 0:n=(0,l.createReportEvent)({eventName:"".concat(k?"message":"bot","-report")}),o.label=1;case 1:if(o.trys.push([1,3,,4]),!S)return f.FlowTea.trackEvent("report_entity_id",{conversationId:C}),[2,E.error("entity_id is empty")];if(!T)return f.FlowTea.trackEvent("report_bot_id",{conversationId:C}),[2,E.error("bot_id is empty")];return r={report_type:k?p.ReportType.Message:p.ReportType.Bot,entity_id:S,reason_ids:[e],reason_detail:t},k&&f.FlowTea.trackEvent("complete_report_reason",{bot_id:T,message_id:k,click_from:(null==b?void 0:b.isLastAnswer)?"answer":"long_press_answer",user_id:R?g.FlowConfig.userId:void 0,req_id:R&&T?v.FlowBot.actions.getBotIdToRequestIdMap()[T]:void 0,recommend_from:R?"bot_list_discover":void 0}),k||f.FlowTea.trackEvent("complete_report_bot_reason",{bot_id:T,user_id:R?g.FlowConfig.userId:void 0,req_id:R&&T?v.FlowBot.actions.getBotIdToRequestIdMap()[T]:void 0,recommend_from:R?"bot_list_discover":void 0}),[4,h.FlowApi.apiService.Report(r)];case 2:return o.sent(),c.isOversea?z(!0):E.success(I("report_success")),n.success(),[3,4];case 3:return i=o.sent(),n.error({error:i,reason:"Report Api Error"}),[3,4];case 4:return!c.isOversea&&w(),[2]}})}),function(e,n){return t.apply(this,arguments)}),A=(0,i._)((0,s.useState)(),2),F=A[0],P=A[1],O=(0,i._)((0,s.useState)(),2),D=O[0],H=O[1],q=(0,i._)((0,s.useState)(!1),2),W=q[0],z=q[1];return(0,s.useEffect)(function(){c.isOversea&&h.FlowApi.apiService.safety.GetReportReasons().then(function(e){if(0===e.code){var t,n;P(null===(t=e.data)||void 0===t?void 0:t.bot_reason_list),H(null===(n=e.data)||void 0===n?void 0:n.message_reason_list)}})},[]),(0,a.jsx)(a.Fragment,{children:c.isOversea?(0,a.jsx)(a.Fragment,{children:(D||F)&&(0,a.jsx)(x,{visible:b.visible,title:I("bot_response_report"),hasCancel:!0,presetOptions:k?null!=D?D:[]:null!=F?F:[],onHide:w,onSubmit:N,reportSuccess:W,successTitle:I("report_success"),successSubTitle:I("report_success2"),doneText:I("report_issue_confirm_button_title")})}):(0,a.jsx)(n,{visible:b.visible,title:I("bot_response_report"),okText:I("dislike_feedback_submit"),cancelText:I("create_bot_cancel"),hasCancel:!0,presetOptions:k?L:B,placeholder:I("report_reason_text_placeholder"),maxTextCount:500,okButtonDisable:!0,onHide:w,onSubmit:function(e){return N(e.type,e.content)}})})}},19970:function(e,t,n){"use strict";n.d(t,{ImageCreationChatInput:function(){return M}});var r=n("9161"),i=n("16044"),o=n("40509"),a=n("97458"),s=n("52983"),l=n("33434"),c=n("87608"),u=n.n(c),d=n("9407"),f=n("96451"),g=n("62920"),v=n("44750"),p=n("31566"),h=n("24815"),m=n("58936"),_=n("53268"),x=n("41648"),b=n("67427"),k=n("3461"),C=n("8407"),S=n("69278"),w=n("706"),y=n("93502"),I=n("76775"),M=(0,s.forwardRef)(function(e,t){var n,c,M,T=e.skill,R=e.disabled,E=e.onKeyDown,j=e.trackParams,B=e.onBeforeSendMessage,L=(0,o._)((0,s.useState)(1),2),N=L[0],A=L[1],F=(0,k.useChat)(),P=F.sendMessage,O=F.t,D=F.enableNewWritingSkill,H=(0,o._)((0,s.useState)(!1),2),q=H[0],W=H[1],z=(0,o._)((0,s.useState)({first:"",second:""}),2),V=z[0],U=z[1],K=(0,o._)((0,s.useState)(),2),G=K[0],Q=K[1],Y=(0,g.useChatStore)(function(e){var t,n;return null===(n=e.skills)||void 0===n?void 0:null===(t=n.input_config)||void 0===t?void 0:t.image_generation},l.shallow),J=(0,y.useTextArea)({onSubmit:function(e){var t,n,o,a={skill_id:null==T?void 0:T.skill_id,skill_type:null==T?void 0:T.skill_type,variables:{style:G},show_variables:{style:(null==Y?void 0:null===(n=Y.style)||void 0===n?void 0:null===(t=n.find(function(e){return e.value===G}))||void 0===t?void 0:t.show_name)||""}};null==B||B(),P({text:e,scene:"chat_action_bar",sec_scene:(0,v.getSecSceneBySkillType)(null==T?void 0:T.skill_type),use_skill:!0,skill_id:null==T?void 0:T.skill_id,skill_name:(0,v.getSkillTeaName)(T),extraExt:{input_skill:JSON.stringify(a)}}),p.FlowTea.trackEvent("skill_module_click_arrow",(0,i._)((0,r._)({},j),{styles:G,prompts_content:e,selected_feature_words_firtype:null==V?void 0:V.first,selected_feature_words_sectype:null==V?void 0:V.second})),ee(),D?null===(o=X.current)||void 0===o||o.blur():(0,x.closeSkillPanel)()},allowEmpty:!1,clearInputOnSubmit:!0}),X=J.textAreaRef,Z=J.textAreaProps,$=J.submit,ee=function(){var e;p.FlowTea.trackEvent("skill_module_close",(0,i._)((0,r._)({},j),{styles:G,prompts_content:null===(e=X.current)||void 0===e?void 0:e.value,selected_feature_words_firtype:null==V?void 0:V.first,selected_feature_words_sectype:null==V?void 0:V.second}))};(0,s.useImperativeHandle)(t,function(){return{focus:function(){var e;null===(e=X.current)||void 0===e||e.focus()}}},[]);var et=function(){if(document.body.clientWidth<=599){A(2);return}A(1)};(0,s.useLayoutEffect)(function(){return et(),window.addEventListener("resize",et),function(){return window.removeEventListener("resize",et)}},[]),(0,s.useEffect)(function(){var e;p.FlowTea.trackEvent("skill_module_show",(0,i._)((0,r._)({},j),{origin_content_type:"message"})),null===(e=g.useChatStore.getState().getSkillReportEvent({eventName:"skill_input_panel_open",skillType:h.SkillType.ImageGeneration}))||void 0===e||e.success()},[]);var en=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:u()(I["image-inner"]),"data-testid":"skill-modal-image-creation",children:[(0,a.jsx)(b.SkillHeader,{skill:T,closeEvent:ee}),(0,a.jsxs)("div",{className:I["image-content"],children:[(0,a.jsxs)("div",{className:2===N?"small-image-style":"big-image-style",children:[(0,a.jsxs)("div",{className:I.title,children:[" ",O("skill_image_styles_title")]}),(0,a.jsx)("div",{className:u()(I.banner,2===N&&I["small-banner"]),children:(0,a.jsx)(d.Carousel,{rows:N,children:null==Y?void 0:null===(n=Y.style)||void 0===n?void 0:n.map(function(e,t){return(0,a.jsxs)("div",{"data-testid":"image-creation-chat-input-template-image",className:I.item,onClick:function(){return Q(e.value)},children:[(0,a.jsx)(f.Image,{wrapperClassName:I["item-img"],src:e.background_url,imageOptions:{squareContainer:!0,objectFit:"cover",draggable:!1}},e.value),G===e.value&&(0,a.jsx)(C.ImageSelectSvgIcon,{className:I["item-icon"]}),(0,a.jsx)("div",{className:I["item-title"],children:(0,a.jsx)("div",{className:I["item-title-inner"],children:e.show_name})})]},t)})})})]}),(0,a.jsx)("div",{id:"popup-parent",ref:en,style:{position:"relative"},children:(0,a.jsx)(_.Popover,{getPopupContainer:function(){return en.current},position:"top",onClickOutSide:function(){return W(!1)},visible:q,content:(0,a.jsx)("div",{tabIndex:0,className:u()(I["feature-content"],"flow-scrollbar"),children:null==Y?void 0:null===(c=Y.feature_word_groups)||void 0===c?void 0:c.map(function(e,t){var n;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)("div",{className:I["feature-title"],children:e.name}),(0,a.jsx)("div",{className:I["feature-btns"],children:null==e?void 0:null===(n=e.words)||void 0===n?void 0:n.map(function(t){var n;return(0,a.jsx)(S.default,{"data-testid":"image-creation-chat-input-feature-button",title:t,theme:t&&(null===(n=Z.value)||void 0===n?void 0:n.includes(null==t?void 0:t.trim()))?"focus":"default",onClick:function(){t&&(U({first:String(e.name),second:t}),Z.onChange("".concat(Z.value).concat(null==t?void 0:t.trim(),", ")))}},t)})})]},t)})}),trigger:"custom",children:(0,a.jsx)("div",{className:I.input,onKeyDown:function(e){null==E||E(e),"Escape"===e.key&&!e.shiftKey&&!e.altKey&&ee()},children:(0,a.jsx)(m.TextAreaI18n,(0,i._)((0,r._)({style:{backgroundColor:"var(--s-color-bg-trans-primary)",position:"relative"},disabled:R,ref:X},Z),{className:"no-focus-input",rows:1,autosize:!0,placeholder:O("skill_image_input_placeholder"),autoComplete:"off",onFocus:function(){return W(!1)},"data-testid":"chat_input_input"}))})})}),(0,a.jsxs)("div",{className:I.footer,children:[(0,a.jsx)("div",{className:I.btns,onMouseDown:function(e){return e.stopPropagation()},children:(0,a.jsx)(S.default,{"data-testid":"image-creation-chat-input-add-feature-button",maxWidth:2===N?"119px":"",className:"featureBtn",onClick:function(){W(!q)},icon:(0,a.jsx)(C.ImageAddSvgIcon,{}),title:O("skill_image_add_feature_words"),theme:q?"focus-primary":"primary"})}),(0,a.jsx)(w.SendMessageButton,{"data-testid":"chat_input_send_button",disabled:R,disableToSend:(null===(M=Z.value)||void 0===M?void 0:M.trim())==="",onClick:$})]})]})]})})},71133:function(e,t,n){"use strict";n.d(t,{ReadDocChatInput:function(){return X}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("88802"),l=n("97458"),c=n("52983"),u=n("87608"),d=n.n(u),f=n("78597"),g=n("21171"),v=n("59312"),p=n("59657"),h=n("31566"),m=n("62920"),_=n("87681"),x=n("75761"),b=n("25946"),k=n("25801"),C=n("98602"),S=n("10843"),w=n("48555"),y=n("5090"),I=n("15999"),M=n("31062"),T=n("66651"),R=n("38104"),E=n("10824"),j=n("41648"),B=n("67427"),L=n("3461"),N=n("4608"),A=n("9955"),F=n("82180"),P=n("24093"),O=n("21879"),D=n("48163"),H=n("13740"),q=n("81926"),W=n("92515"),z=n("6668"),V=n("30316"),U=n("12087"),K=n("65241"),G=n("6536"),Q=n("27202"),Y=n("706"),J={image:["skill_read_image_shortcut1","skill_read_image_shortcut2"],file:["skill_read_file_shortcut1","skill_read_file_shortcut2"],link:["skill_read_file_shortcut1","skill_read_file_shortcut2"]},X=(0,c.forwardRef)(function(e,t){var n,u=e.skill,X=e.disabled,Z=e.sendMessageHoverText,$=e.renderOgfButton,ee=e.trackParams,et=e.onBeforeSendMessage,en=(0,L.useChat)(),er=en.chatViewConfig,ei=en.chatDropTargetRef,eo=en.t,ea=en.sendMessage,es=(0,v.useSystemConfigInfo)().uploadFileAllowedTypes,el=null==er?void 0:er.chatId,ec=null==er?void 0:er.chatType,eu=(0,E.useBotSendFileEnabled)(null!=el?el:"",ec),ed=(0,E.useBotSendImageEnabled)(null!=el?el:"",ec),ef=u.skill_id||"",eg=u.skill_type||0,ev=(0,S.useSendCompositeMessage)(ef,eg),ep=(0,p.usePromptEditorValue)(),eh=(0,a._)((0,c.useState)(),2),em=eh[0],e_=eh[1],ex=(0,Q.useToast)(),eb=(0,A.useAttachmentCon)(),ek=eb.attachmentConfig,eC=eb.preprocess,eS=eb.processLink,ew=eb.reset,ey=(0,F.useUploadConfig)({config:ek}),eI=ey.image,eM=eI.uri,eT=eI.url,eR=eI.imageList,eE=ey.fileContent,ej=ey.upload,eB=ey.reUpload,eL=function(){return el&&eB(el)},eN=function(){var e=ek?{upload_type:ek&&(0,P.isImage)(ek)?"pic":ek&&(0,P.isFile)(ek)?"pdf":void 0,upload_from:"read_summarize_module"}:{};h.FlowTea.trackEvent("skill_module_close",(0,i._)({},ee,e))};(0,c.useImperativeHandle)(t,function(){return{focus:function(){},closeEvent:eN}},[]);var eA=function(){(0,f.getIsMobileOrIPad)()&&(0,C.collapseKeyboard)()},eF=function(e){if(ew(),w.readAndSummarizeController.updateLinkEditorContent(""),w.readAndSummarizeController.updatePromptEditorContent(""),e){if((0,P.isLink)(e))e_({type:"link",link:e.url});else if((0,P.isImage)(e)||(0,P.isFile)(e)){var t,n=null===(t=m.useChatStore.getState().preprocessTaskMap[e.localKey])||void 0===t?void 0:t.key,r=(0,g.pickAsString)("name")(e.file);n&&e_({type:"attachment",fileKey:n,fileName:r})}}e&&h.FlowTea.trackEvent("skill_module_click_arrow",(0,o._)((0,i._)({},ee),{upload_type:(0,P.isImage)(e)?"pic":(0,P.isFile)(e)?"pdf":void 0,upload_from:"read_summarize_module"}))},eP=function(e){eA(),(0,P.isImage)(e)||(0,P.isFile)(e)?(null==et||et(),ea((0,k.withReadSummarizeInputSkill)((0,o._)((0,i._)({},(0,P.isImage)(e)?{image:e.file}:{file:e.file}),{local_key:e.localKey,from:e.from}),ef,eg))):(0,P.isLink)(e)&&(null==et||et(),ev("",e)),eF(e)},eO=function(e,t){eA(),null==et||et(),ev(e,t),eF(t)},eD=function(e){eA(),null==et||et(),ea((0,k.withReadSummarizeInputSkill)({text:e},ef,eg)),eF(void 0)},eH=!!(ek&&(0,O.isNormal)(ej.status)),eq=!!(em&&ep.trim()),eW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ep.trim();eH?e?eO(e,ek):eP(ek):eq&&eD(e)},ez=(0,K.useDragOver)({conversationId:el||""}),eV=ez.isOver,eU=ez.divProps;(0,c.useEffect)(function(){var e;return h.FlowTea.trackEvent("skill_module_show",(0,i._)({},ee)),null===(e=w.readAndSummarizeController.getReportEvent())||void 0===e||e.success(),ei.current&&(ei.current.style.display="none"),function(){ei.current&&(ei.current.style.display="")}},[]);var eK=(0,E.useIsSamantha)(el||"",ec);var eG=(n=(0,r._)(function(e,t){var n,r,i,o;return(0,s.__generator)(this,function(a){switch(a.label){case 0:if(!el)return[2];if(!(eK?(0,G.uploadFileAllowedTypesInSamantha):es).includes((0,f.getFileExt)(e.name)))return[2,ex.error(eo("file_not_supported"))];if(!(r=ed&&(0,K.fileIsImage)(e)?"image":eu?"file":void 0))return[2];return[4,(0,C.preprocessAttachment)[r](e)];case 1:if(i=a.sent(),!(0,C.checkAttachmentValid)[r](i,ex.error,eo))return[2];return ew(),o=ec===_.ChatType.NewThread?m.useChatStore.getState().conversationLinks[0].conversationId:el,eC(i,r,{moduleActionId:(null===(n=ee.module_actionid)||void 0===n?void 0:n.toString())||"",conversationId:ec===_.ChatType.NewThread?"":o,chatType:(ec===_.ChatType.NewThread?"default_new":(0,x.getChatTypeForTea)(o))||"other_default",skillType:u.skill_type||0,skillId:u.skill_id||"",uploadFrom:"read_summarize_module",botId:(0,x.getBotIdByConversationId)(o)||"",from:t}),[2]}})}),function(e,t){return n.apply(this,arguments)}),eQ=function(e){eS(e)};if((0,c.useEffect)(function(){setTimeout(function(){w.readAndSummarizeController.focusOnPromptEditor()})},[!!ek]),!el)return null;var eY=(ed||eu)&&!ek&&!em;return(0,l.jsxs)("div",(0,o._)((0,i._)({className:"relative overflow-hidden"},eU),{"data-testid":"skill-modal-read-and-summarize",children:[(0,l.jsx)(B.SkillHeader,{background:eY?"blue":"normal",skill:u,closeEvent:eN}),eY&&(0,l.jsx)("div",{className:"px-12 pb-12",style:{background:"#F6F8FB",borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},children:(0,l.jsx)(y.DropArea,{className:"p-20",onFileChange:function(e){return eG(e,"click")},onLinkChange:function(e){return eQ(e)}})}),ek&&(0,l.jsx)("div",{className:"px-12 flex flex-col",children:(0,l.jsxs)("div",{className:d()("flex","mt-10"),children:[(0,l.jsx)(D.AttachmentBox,{status:ej.status,deleteButton:(0,l.jsx)(H.DeleteButton,{onClick:function(){h.FlowTea.trackEvent("click_attachment_delete",{bot_id:(0,x.getBotIdByConversationId)(el),uri:eM,success:100===ej.percent?"1":"0"}),ew(),e_(void 0),w.readAndSummarizeController.updatePromptEditorContent("")}}),children:(0,P.isImage)(ek)&&eT&&eR?(0,l.jsx)(q.ChatInputImage,{url:eT,imageList:eR,width:64,height:64,progressNode:(0,O.isUploading)(ej.status)&&(0,l.jsx)(W.Overlay,{children:(0,l.jsx)(z.CircleProgress,{width:40,strokeWidth:3,percent:ej.percent||0})}),retryNode:(0,O.isRetry)(ej.status)&&(0,l.jsx)(W.Overlay,{onClick:eL,children:(0,l.jsx)(b.RegenerateIcon,{})})}):(0,P.isFile)(ek)?(0,l.jsx)(V.ChatInputFile,{fileContent:eE,status:ej.status,percent:Math.ceil(ej.percent||0),width:156,height:64,retryNode:(0,O.isRetry)(ej.status)&&(0,l.jsx)(W.Overlay,{onClick:eL,children:(0,l.jsx)(b.RegenerateIcon,{})})}):(0,P.isLink)(ek)?(0,l.jsx)(U.ChatInputPDFLink,{width:156,height:64,url:ek.url}):null}),!(0,O.isRetry)(ej.status)&&(0,l.jsx)(I.QuickSendButtonList,{buttons:(J[ek.type]||[]).map(function(e){return(0,l.jsx)(M.QuickSendButton,{text:eo(e),onClick:(0,O.isNormal)(ej.status)&&function(){return eW(eo(e))}})})})]})}),!ek&&em&&(0,l.jsx)(N.ChatInputRefContent,{refContent:em,onDelete:function(){return e_(void 0)}}),(0,l.jsxs)("div",{className:"relative flex items-end w-full border-box justify-end p-12 max-w-[var(--chat-area-max-width)] bg-[var(--bg-base-2, #fff)]",children:[(0,l.jsx)(T.PromptInput,{textAreaProps:{value:ep,onChange:function(e){w.readAndSummarizeController.updatePromptEditorContent(e)},onKeyDown:function(e){(0,j.checkKeydownEventTriggerSubmit)(e)&&(!(0,f.getIsMobileOrIPad)()&&e.preventDefault(),eW())}},onBindEditorContainer:w.readAndSummarizeController.bindPromptEditorContainer,onUnmount:function(){w.readAndSummarizeController.unbindPromptEditorContainer()}}),null==$?void 0:$(),(0,l.jsx)(Y.SendMessageButton,{disabled:X,disableToSend:!(eH||eq),sendMessageHoverText:Z,onClick:function(){return eW()}})]}),eV&&(0,l.jsx)(R.DropMask,{onDrop:function(e){return eG(e,"drag")}})]}))})},5090:function(e,t,n){"use strict";n.d(t,{DropArea:function(){return _}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("87608"),s=n.n(a),l=n("72492"),c=n("16517"),u=n("41837"),d=n("8618"),f=n("59312"),g=n("64480"),v=n("10824"),p=n("3461"),h=n("6536"),m=n("75024"),_=function(e){var t=e.onFileChange,n=e.onLinkChange,a=e.className,_=(0,p.useChat)(),x=_.t,b=_.chatViewConfig,k=(0,f.useSystemConfigInfo)().uploadFileAllowedTypes,C=(0,r._)((0,o.useState)(!1),2),S=C[0],w=C[1],y=(0,v.useIsSamantha)((null==b?void 0:b.chatId)||"",null==b?void 0:b.chatType),I=(0,o.useRef)(null),M=function(){I.current&&(I.current.value="")},T=function(){var e;return null===(e=I.current)||void 0===e?void 0:e.click()},R=(0,o.useMemo)(function(){return(y?(0,h.uploadFileAllowedTypesInSamantha):k).filter(function(e){return!!e}).map(function(e){return".".concat(e)}).join(",")},[k]);return(0,i.jsxs)("div",{className:s()("flex h-177 self-stretch flex-col items-center justify-between rounded-16 text-[var(--s-color-text-tertiary)]",m["drop-area-bg"],a),children:[(0,i.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,i.jsx)(d.ReactComponent,{className:"text-36"}),(0,i.jsx)("div",{className:m["drop-area-desc"],children:x("landing_creation_uploadfile")}),(0,i.jsx)("div",{className:m["drop-area-limit"],children:x("landing_inputmessage_pdf_limitmsg")})]}),(0,i.jsxs)("div",{className:"flex gap-8",children:[(0,i.jsx)(l.Button,{icon:(0,i.jsx)(c.ReactComponent,{}),onClick:function(e){return e.stopPropagation(),M(),T()},children:x("landing_creation_browsefile")}),(0,i.jsx)(l.Button,{onClick:function(){return w(!0)},icon:(0,i.jsx)(u.ReactComponent,{}),children:x("landing_creation_addPDFlink")}),(0,i.jsx)(g.InputModal,{visible:S,title:x("landing_creation_addPDFlink"),onHide:function(){return w(!1)},onSubmit:function(e){n(e),w(!1)}})]}),(0,i.jsx)("input",{"data-testid":"read-summarize-file-input",ref:I,className:"hidden",multiple:!1,type:"file",accept:R,onChange:function(e){var n;return(null===(n=e.target.files)||void 0===n?void 0:n[0])&&t(e.target.files[0])}})]})}},38104:function(e,t,n){"use strict";n.d(t,{DropMask:function(){return i}});var r=n("97458"),i=function(e){var t=e.onDrop;return(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-dashed border-[var(--s-color-brand-primary-default)] rounded-16 bg-[var(--s-color-brand-secondary)]",style:{backdropFilter:"blur(20px)"},onDrop:function(e){return"dataTransfer"in e&&e.dataTransfer.files[0]&&t(e.dataTransfer.files[0])}})}},64480:function(e,t,n){"use strict";n.d(t,{InputModal:function(){return f}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("72492"),s=n("41837"),l=n("53268"),c=n("3461"),u=n("16269"),d=n("24155"),f=function(e){var t=e.visible,n=e.title,f=e.hasCancel,g=e.onHide,v=e.onSubmit,p=(0,c.useChat)(),h=p.getPopupContainer,m=p.t,_=(0,r._)((0,o.useState)(""),2),x=_[0],b=_[1],k=(0,o.useRef)(null),C=function(e){e.stopPropagation(),"Enter"===e.key&&!e.shiftKey&&!e.altKey&&x.trim()&&v(x)};return(0,i.jsx)(u.UIKitModal,{ref:k,visible:t,title:n,onCancel:function(){return g()},hasCancel:void 0===f||f,closeOnEsc:!0,footer:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.Button,{size:"large",onClick:function(){return g()},children:m("cancel")}),(0,i.jsx)(a.Button,{size:"large",type:"primary",onClick:function(){return v(x)},disabled:!x.trim(),children:m("landing_button_confirm")})]}),centered:!0,className:d["input-modal"],getPopupContainer:h,children:(0,i.jsx)("div",{children:(0,i.jsx)(l.Input,{autoFocus:!0,prefix:(0,i.jsx)(s.ReactComponent,{className:d["input-prefix"]}),placeholder:n,onChange:function(e){return b(e)},onKeyDown:function(e){return C(e)},value:x})})})}},66651:function(e,t,n){"use strict";n.d(t,{PromptInput:function(){return f}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("52983"),s=n("87608"),l=n.n(s),c=n("58936"),u=n("3461"),d=n("58890"),f=function(e){var t=e.textAreaProps,n=e.onFocus,s=e.onBlur,f=e.onBindEditorContainer,g=e.onUnmount,v=(0,u.useChat)().t,p=(0,a.useRef)(null);return(0,a.useEffect)(function(){return p.current&&(null==f||f(p.current)),function(){null==g||g()}},[]),(0,o.jsx)(c.TextAreaI18n,(0,i._)((0,r._)({style:{position:"relative",padding:0,alignSelf:"center"},ref:p},t),{className:l()("border-0 px-0",d["text-area"]),autosize:!0,placeholder:v("landing_creation_inputmessage_pdf"),autoComplete:"off",rows:1,onFocus:n,onBlur:s}))}},15999:function(e,t,n){"use strict";n.d(t,{QuickSendButtonList:function(){return i}});var r=n("97458"),i=function(e){var t=e.buttons;return(0,r.jsx)("ul",{className:"relative shrink flex flex-col justify-between h-64 my-0 ml-8 p-0 list-none overflow-hidden",children:t.map(function(e,t){return(0,r.jsx)("li",{className:"relative",children:e},t)})})}},31062:function(e,t,n){"use strict";n.d(t,{QuickSendButton:function(){return l}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("7462"),s=n("78989"),l=function(e){var t=e.text,n=e.onClick,i=!n;return(0,r.jsxs)("button",{className:o()("flex items-center h-28 max-w-full border-box pl-7 pr-0 rounded-10 border-solid border bg-transparent cursor-pointer overflow-hidden",i?"border-[var(--s-color-border-secondary)] text-[var(--s-color-text-quaternary)]":o()("border-[var(--s-color-brand-primary-transparent-3)] text-[var(--s-color-brand-primary-default)]",s.button)),onClick:n||void 0,children:[(0,r.jsx)("div",{className:"leading-14 text-12 font-[500] truncate",children:t}),(0,r.jsx)(a.ReactComponent,{className:"flex shrink-0 items-center ml-8 mr-3"})]})}},48555:function(e,t,n){"use strict";n.d(t,{readAndSummarizeController:function(){return l}});var r=n("69420"),i=n("29048"),o=n("62920"),a=n("24815");function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,i._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=new(function(){function e(){var t=this;(0,r._)(this,e),s(this,"linkEditorContainer",null),s(this,"promptEditorContainer",null),s(this,"bindLinkEditorContainer",function(e){t.linkEditorContainer=e}),s(this,"unbindLinkEditorContainer",function(){t.linkEditorContainer=null}),s(this,"updateLinkEditorContent",function(e){o.useChatStore.getState().updateLinkEditorValue(e)}),s(this,"focusOnLinkEditor",function(){t.linkEditorContainer&&t.linkEditorContainer.focus()}),s(this,"bindPromptEditorContainer",function(e){t.promptEditorContainer=e}),s(this,"unbindPromptEditorContainer",function(){t.promptEditorContainer=null}),s(this,"updatePromptEditorContent",function(e){o.useChatStore.getState().updatePromptEditorValue(e)}),s(this,"focusOnPromptEditor",function(){t.promptEditorContainer&&t.promptEditorContainer.focus()})}return e.prototype.getReportEvent=function(){return o.useChatStore.getState().getSkillReportEvent({skillType:a.SkillType.ReadPDF,eventName:"skill_input_panel_open"})},e}())},10843:function(e,t,n){"use strict";n.d(t,{useSendCompositeMessage:function(){return s}});var r=n("9161"),i=n("25801"),o=n("3461"),a=n("24093"),s=function(e,t){var n=(0,o.useChat)().sendMessage;return function(o,s){if("link"===s.type)return n((0,i.withReadSummarizeInputSkill)({compositeContent:{text:o,links:[s.url]}},e,t));var l={blob:s.file,local_key:s.localKey,from:s.from},c=(0,a.isImage)(s)?{images:[l]}:(0,a.isFile)(s)?{files:[l]}:void 0;c&&n((0,i.withReadSummarizeInputSkill)({compositeContent:(0,r._)({text:o},c)},e,t))}}},98602:function(e,t,n){"use strict";n.d(t,{checkAttachmentValid:function(){return g},collapseKeyboard:function(){return u},preprocessAttachment:function(){return f}});var r,i=n("92769"),o=n("88802"),a=n("3820"),s=n("79555"),l=n("37026"),c=n("62920"),u=function(){var e,t=null===(e=document)||void 0===e?void 0:e.activeElement;t&&"blur"in t&&(0,a.default)(t.blur)&&t.blur()},d=function(e){return function(t){return t.size>e}};var f={image:(r=(0,i._)(function(e){return(0,o.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,l.compressImage)(e)];case 1:return[2,t.sent()]}})}),function(e){return r.apply(this,arguments)}),file:function(e){return e}},g={image:function(e,t,n){return!d((0,l.getImageSizeLimit)())(e)||(t(n("image_oversize")),!1)},file:function(e,t,n){return!d((0,s.default)(c.useChatStore.getState().systemConfig.uploadFileMaxSize))(e)||(t(n("file_size_exceeds_limit")),!1)}}},25801:function(e,t,n){"use strict";n.d(t,{withReadSummarizeInputSkill:function(){return a}});var r=n("9161"),i=n("16044"),o=n("44750"),a=function(e,t,n){return(0,i._)((0,r._)({},e),{extraExt:(0,i._)((0,r._)({},e.extraExt),{input_skill:JSON.stringify({skill_id:t,skill_type:n})}),sec_scene:(0,o.getSecSceneBySkillType)(n),scene:"chat_action_bar",use_skill:!0,skill_id:t,skill_name:(0,o.getSkillTeaNameByType)(n)})}},51340:function(e,t,n){"use strict";n.d(t,{ReadUrlChatInput:function(){return I}});var r=n("9161"),i=n("16044"),o=n("40509"),a=n("97458"),s=n("52983"),l=n("83053"),c=n("87608"),u=n.n(c),d=n("78597"),f=n("31566"),g=n("44750"),v=n("62920"),p=n("24815"),h=n("45015"),m=n("25883"),_=n("24193"),x=n("41648"),b=n("67427"),k=n("3461"),C=n("4608"),S=n("78004"),w=n("706"),y=n("75231"),I=(0,s.forwardRef)(function(e,t){var n=e.skill,c=e.disabled,I=e.onKeyDown,M=e.trackParams,T=e.onBeforeSendMessage,R=(0,k.useChat)(),E=R.sendMessage,j=R.t,B=R.getPopupContainer,L=(0,S.useBaseSlots)().FlowChatEditor,N=(0,o._)((0,s.useState)("normal"),2),A=N[0],F=N[1],P=(0,o._)((0,s.useState)(function(){return(0,m.makeDefaultRichPrompt)(j)}),2),O=P[0],D=P[1],H=(0,s.useRef)(null),q=(0,o._)((0,s.useState)(""),2),W=q[0],z=q[1],V=(0,o._)((0,s.useState)(),2),U=V[0],K=V[1],G=function(){if((0,l.default)(O,(0,m.makeDefaultRichPrompt)(j))){var e,t;null===(t=H.current)||void 0===t||t.focus({toIndex:(null===(e=(0,m.makeDefaultRichPrompt)(j).data[0])||void 0===e?void 0:e.text.length)+1||0})}},Q=function(e){z(""),D((0,m.makeEmptyRichPrompt)()),f.FlowTea.trackEvent("skill_module_click_arrow",(0,i._)((0,r._)({},M),{prompts_content:e}))},Y=function(e){var t=(0,m.extractLink)(e);t?K({type:"link",link:t}):(D((0,m.makeDefaultRichPrompt)(j)),G())},J=function(e){return null==T||T(),E({text:e,scene:"chat_action_bar",sec_scene:(0,g.getSecSceneBySkillType)(null==n?void 0:n.skill_type),use_skill:!0,skill_id:null==n?void 0:n.skill_id,skill_name:(0,g.getSkillTeaName)(n),extraExt:{input_skill:JSON.stringify({skill_id:null==n?void 0:n.skill_id,skill_type:null==n?void 0:n.skill_type})}}),Q(e),Y(e),!0},X=function(e){null==T||T(),E({text:e,scene:"chat_action_bar",sec_scene:(0,g.getSecSceneBySkillType)(null==n?void 0:n.skill_type),use_skill:!0,skill_id:null==n?void 0:n.skill_id,skill_name:(0,g.getSkillTeaName)(n),extraExt:{input_skill:JSON.stringify({skill_id:null==n?void 0:n.skill_id,skill_type:null==n?void 0:n.skill_type})}}),Q(e)};(0,s.useImperativeHandle)(t,function(){return{focus:function(){var e,t;return null===(t=H.current)||void 0===t?void 0:null===(e=t.focus)||void 0===e?void 0:e.call(t)}}},[]),(0,s.useEffect)(function(){var e;f.FlowTea.trackEvent("skill_module_show",(0,i._)((0,r._)({},M),{origin_content_type:"message"})),null===(e=v.useChatStore.getState().getSkillReportEvent({skillType:p.SkillType.ReadWebsite,eventName:"skill_input_panel_open"}))||void 0===e||e.success()},[]),(0,s.useEffect)(function(){G()},[H.current]);var Z=function(){f.FlowTea.trackEvent("skill_module_close",(0,i._)((0,r._)({},M),{prompts_content:(0,h.stringifyFlowChatEditorBlocks)(O.data)||W}))},$=function(){if(document.body.clientWidth<=599){F("small");return}F("normal")};(0,s.useLayoutEffect)(function(){return $(),window.addEventListener("resize",$),function(){return window.removeEventListener("resize",$)}},[]);var ee=!c&&!!(0,h.stringifyFlowChatEditorBlocks)(O.data).trim(),et=!c&&!!W.trim(),en=(0,d.useGetLanguageDirectionOfText)(U&&(0,h.stringifyFlowChatEditorBlocks)(O.data)||"",!0);return(0,a.jsxs)("div",{className:u()(y["read-inner"]),children:[(0,a.jsx)(b.SkillHeader,{background:"normal",skill:n,closeEvent:Z}),U&&(0,a.jsx)(C.ChatInputRefContent,{refContent:U,onDelete:function(){K(void 0),z(""),D((0,m.makeDefaultRichPrompt)(j))}}),(0,a.jsx)("div",{className:y["read-content"],children:(0,a.jsxs)("div",{className:u()(y.footer,"small"===A&&y.small),children:[U?(0,a.jsx)(_.PromptInput,{textAreaProps:{value:W,onChange:function(e){z(e)},onKeyDown:function(e){(0,x.checkKeydownEventTriggerSubmit)(e)&&(!(0,d.getIsMobileOrIPad)()&&e.preventDefault(),et&&X(W.trim()))}}}):(0,a.jsx)("div",{className:y.input,onKeyDown:function(e){null==I||I(e),"Escape"===e.key&&!e.shiftKey&&!e.altKey&&Z()},children:(0,a.jsx)(L,{ref:H,className:"max-h-300",dir:(0,d.isRTL)()?en:"ltr",disabled:c,value:O,onChange:function(e){return D(e)},onKeyDown:function(e){(0,x.checkKeydownEventTriggerSubmit)(e)&&(!(0,d.getIsMobileOrIPad)()&&e.preventDefault(),ee&&J((0,h.stringifyFlowChatEditorBlocks)(O.data).trim()))},placeholder:j("landing_emptymessage_url"),autoComplete:"off",getPopupContainer:B})}),(0,a.jsx)(w.SendMessageButton,{disabled:c,disableToSend:!(ee||et),onClick:function(){ee?J((0,h.stringifyFlowChatEditorBlocks)(O.data).trim()):et&&X(W.trim())}})]})})]})})},24193:function(e,t,n){"use strict";n.d(t,{PromptInput:function(){return f}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("52983"),s=n("87608"),l=n.n(s),c=n("58936"),u=n("3461"),d=n("44867"),f=function(e){var t=e.textAreaProps,n=e.onFocus,s=e.onBlur,f=e.onBindEditorContainer,g=e.onUnmount,v=(0,u.useChat)().t,p=(0,a.useRef)(null);return(0,a.useEffect)(function(){return p.current&&(null==f||f(p.current)),function(){null==g||g()}},[]),(0,o.jsx)(c.TextAreaI18n,(0,i._)((0,r._)({style:{position:"relative",padding:0,alignSelf:"center"},ref:p},t),{className:l()("border-0 px-0",d["text-area"]),autosize:!0,placeholder:v("landing_creation_inputmessage_url"),autoComplete:"off",rows:1,onFocus:n,onBlur:s}))}},25883:function(e,t,n){"use strict";n.d(t,{extractLink:function(){return o},makeDefaultRichPrompt:function(){return a},makeEmptyRichPrompt:function(){return s}});var r=n("87575"),i=n("85596"),o=function(e){var t=e.match(/https:\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]*[-A-Za-z0-9+&@#/%=~_|]/g);if(t)return t.map(function(e){return e.trim()}).filter(function(e){return(0,r.isValidReadWebsiteLink)(e)}).shift()},a=function(e){return{data:[{type:i.EditorBlockType.Text,text:"".concat(e("landing_creation_title")," ")},{type:i.EditorBlockType.Placeholder,placeholder:e("landing_inputmessage_enterURL"),text:""}]}},s=function(){return{data:[]}}},51484:function(e,t,n){"use strict";n.d(t,{TranslateChatInput:function(){return R}});var r=n("9161"),i=n("16044"),o=n("40509"),a=n("6462"),s=n("97458"),l=n("52983"),c=n("33434"),u=n("87608"),d=n.n(u),f=n("42021"),g=n("62920"),v=n("59657"),p=n("31566"),h=n("44750"),m=n("24815"),_=n("58936"),x=n("55447"),b=n("41648"),k=n("67427"),C=n("3461"),S=n("706"),w=n("93502"),y=n("76786"),I=function(e,t){var n=e.find(function(e){return e.language_code===t});return(null==n?void 0:n.language_loc)||""},M=function(e,t){var n=e.find(function(e){return e.language_code===t});return(null==n?void 0:n.value)||""},T=function(e,t){var n=(0,x.convertDetectedLanguage)(t||navigator.language),r=e.find(function(e){return e.language_code===n});return r?r.language_code:e.length?e[0].language_code:void 0},R=(0,l.forwardRef)(function(e,t){var n,u=e.skill,R=e.onKeyDown,E=e.trackParams,j=e.onBeforeSendMessage,B=(0,o._)((0,g.useChatStore)(function(e){return[e.userPreferences.transTargetLang,e.updateUserPreferences]},c.shallow),2),L=B[0],N=B[1],A=(0,C.useChat)(),F=A.sendMessage,P=A.t,O=A.language,D=A.getPopupContainer,H=A.enableNewWritingSkill,q={language_loc:P("flow_web_ext_action_popup_autodetect"),language:"",value:"",language_code:"auto"},W=(0,o._)((0,l.useState)(""),2),z=W[0],V=W[1],U=(0,v.useTranslateFormConfig)(),K=(null==U?void 0:U.language)||[],G=[q].concat((0,a._)(K)),Q=(0,o._)((0,l.useState)(q.language_code),2),Y=Q[0],J=Q[1],X=(0,o._)((0,l.useState)(null!==(n=T(K,L||O))&&void 0!==n?n:""),2),Z=X[0],$=X[1];(0,l.useImperativeHandle)(t,function(){return{focus:function(){var e;null===(e=et.current)||void 0===e||e.focus()}}},[]),(0,l.useEffect)(function(){var e;p.FlowTea.trackEvent("skill_module_show",(0,i._)((0,r._)({},E),{origin_content_type:"message"})),null===(e=g.useChatStore.getState().getSkillReportEvent({skillType:m.SkillType.Translate,eventName:"skill_input_panel_open"}))||void 0===e||e.success()},[]);var ee=(0,w.useTextArea)({onSubmit:function(e){var t={skill_id:null==u?void 0:u.skill_id,skill_type:null==u?void 0:u.skill_type,variables:{source_lang:M(G,Y),target_lang:M(K,Z)},show_variables:{source_lang:I(G,Y),target_lang:I(K,Z)}};null==j||j(),F({text:e,scene:"chat_action_bar",sec_scene:(0,h.getSecSceneBySkillType)(null==u?void 0:u.skill_type),use_skill:!0,skill_id:null==u?void 0:u.skill_id,skill_name:(0,h.getSkillTeaName)(u),extraExt:{input_skill:JSON.stringify(t)}}),p.FlowTea.trackEvent("skill_module_click_arrow",(0,i._)((0,r._)({},E),{source_lang:Y,target_lang:Z,prompts_content:e})),ei(),H||(0,b.closeSkillPanel)()},allowEmpty:!1,clearInputOnSubmit:!0,onChange:function(e){V(e)}}),et=ee.textAreaRef,en=ee.textAreaProps,er=ee.submit,ei=function(){var e;p.FlowTea.trackEvent("skill_module_close",(0,i._)((0,r._)({},E),{prompts_content:null===(e=et.current)||void 0===e?void 0:e.value}))};return(0,s.jsxs)("div",{className:d()(y["translate-inner"]),children:[(0,s.jsx)(k.SkillHeader,{skill:u,closeEvent:ei}),(0,s.jsxs)("div",{className:y["translate-content"],children:[(0,s.jsxs)("div",{className:y.header,children:[(0,s.jsx)("div",{className:y["language-wrapper"],children:(0,s.jsx)(x.LanguageSelect,{value:Y,clickToHide:!0,style:{flex:"1"},onChange:function(e){J(e)},languageList:G,getPopupContainer:D,dropdownClassName:y.select})}),(0,s.jsx)(f.ReactComponent,{style:{fontSize:18,margin:8}}),(0,s.jsx)("div",{className:y["language-selector"],children:(0,s.jsx)(x.LanguageSelect,{value:Z,clickToHide:!0,style:{flex:"1"},onChange:function(e){$(e),N("transTargetLang",e)},getPopupContainer:D,languageList:K,dropdownClassName:y.select})})]}),(0,s.jsx)("div",{className:"h-1 grow bg-[var(--s-color-border-secondary)]"}),(0,s.jsxs)("div",{className:y.footer,children:[(0,s.jsx)("div",{className:y.input,onKeyDown:function(e){null==R||R(e),"Escape"===e.key&&!e.shiftKey&&!e.altKey&&ei()},children:(0,s.jsx)(_.TextAreaI18n,(0,i._)((0,r._)({style:{position:"relative"},ref:et},en),{className:"no-focus-input",rows:1,autosize:!0,placeholder:P("skill_translate_input_placeholder"),autoComplete:"off"}))}),(0,s.jsx)(S.SendMessageButton,{disableToSend:""===z.trim(),onClick:er})]})]})]})})},55447:function(e,t,n){"use strict";n.d(t,{LanguageSelect:function(){return f},convertDetectedLanguage:function(){return d}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("40509"),s=n("97458"),l=n("52983"),c=n("51578"),u=n("21839");function d(e){var t=e.toLowerCase(),n=(0,a._)(t.split("-"),1)[0];if("zh"===n)return["zh","zh-cn","zh-sg"].includes(t)?"zh":"zh-Hant";return"ms"===n?"ms-MY":"th"===n?"th-TH":n}var f=function(e){var t=e.languageList,n=(0,o._)(e,["languageList"]),a=(0,l.useMemo)(function(){return t.map(function(e){var t=e.language_code,n=e.language,r=e.language_loc;return{value:t||"",label:(0,s.jsxs)("div",{children:[r&&(0,s.jsx)("div",{className:u["language-local"],children:r}),n&&(0,s.jsx)("div",{className:u.language,children:n})]}),selectedLabel:r||""}})},[]);return(0,s.jsx)(c.Select,(0,i._)((0,r._)({},n),{className:u["language-select"],optionList:a,renderSelectedItem:function(e){return(0,s.jsx)(s.Fragment,{children:e.selectedLabel})}}))}},23858:function(e,t,n){"use strict";n.d(t,{LanguageSelect:function(){return u}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("52983"),l=n("51578"),c=n("32486"),u=function(e){var t=e.languageList,n=(0,o._)(e,["languageList"]),u=(0,s.useMemo)(function(){return t.map(function(e){var t=e.language_code,n=e.language,r=e.language_loc;return{value:t||"",label:(0,a.jsxs)("div",{children:[r&&(0,a.jsx)("div",{className:c["language-local"],children:r}),n&&(0,a.jsx)("div",{className:c.language,children:n})]}),selectedLabel:n||""}})},[]);return(0,a.jsx)(l.Select,(0,i._)((0,r._)({},n),{optionList:u,renderSelectedItem:function(e){return(0,a.jsx)(a.Fragment,{children:e.selectedLabel})}}))}},57785:function(e,t,n){"use strict";n.d(t,{WritingAssistantChatInput:function(){return E}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("97458"),l=n("52983"),c=n("83911"),u=n("87608"),d=n.n(u),f=n("78597"),g=n("9407"),v=n("96451"),p=n("59657"),h=n("44750"),m=n("31566"),_=n("45015"),x=n("46017"),b=n("33977"),k=n("19711"),C=n("9947"),S=n("41648"),w=n("67427"),y=n("3461"),I=n("96974"),M=n("78004"),T=n("706"),R=n("68167"),E=(0,l.forwardRef)(function(e,t){return(0,y.useChat)().enableNewWritingSkill||I.isBetaCiciEnv?(0,s.jsx)(j,(0,o._)((0,i._)({},e),{ref:t})):(0,s.jsx)(x.WritingAssistantChatInput,(0,o._)((0,i._)({},e),{ref:t}))}),j=(0,l.forwardRef)(function(e,t){var n,o=e.onBlur,u=e.onFocus,x=e.disabled,I=e.sendMessageHoverText,E=e.skill,j=e.trackParams,B=e.onBeforeSendMessage,L=(0,y.useChat)(),N=L.t,A=L.getPopupContainer,F=(0,a._)((0,l.useState)(),2),P=F[0],O=F[1],D=(0,M.useBaseSlots)().FlowChatEditor,H=(0,p.useWritingAssistantFormConfig)(),q=null==H?void 0:H.write,W=(0,p.useWritingRichEditorValue)(),z=function(){b.writingSkillController.updateWritingRichEditorContent({data:[]})},V=(0,y.useChat)().sendMessage,U=function(){var e,t,n={skill_id:E.skill_id,skill_type:E.skill_type};null==B||B();var r=(0,c.default)(P)?"":null==q?void 0:null===(t=q.template)||void 0===t?void 0:null===(e=t[P])||void 0===e?void 0:e.show_name;V({text:(0,_.stringifyFlowChatEditorBlocks)(W.data),scene:"chat_action_bar",sec_scene:(0,h.getSecSceneBySkillType)(null==E?void 0:E.skill_type),use_skill:!0,skill_id:null==E?void 0:E.skill_id,skill_name:(0,h.getSkillTeaName)(E),reportParams:{writing_genre:r},extraExt:{input_skill:JSON.stringify(n)}}),m.FlowTea.trackEvent("skill_module_click_arrow",(0,i._)({},j)),X(w.ExpandBtnStatus.Collapse),z()},K=function(){m.FlowTea.trackEvent("skill_module_close",(0,i._)({},j))};(0,l.useImperativeHandle)(t,function(){return{focus:function(){b.writingSkillController.focusOnWritingEditor()},clear:function(){},closeEvent:K}},[]),(0,l.useEffect)(function(){var e;m.FlowTea.trackEvent("skill_module_show",(0,i._)({},j)),null===(e=b.writingSkillController.getReportEvent())||void 0===e||e.success()},[]);var G=(0,f.useGetLanguageDirectionOfText)(W&&(0,_.stringifyFlowChatEditorBlocks)(null==W?void 0:W.data)||"",!0),Q=""===(0,_.stringifyFlowChatEditorBlocks)(W.data).trim(),Y=(0,a._)((0,l.useState)(w.ExpandBtnStatus.Expand),2),J=Y[0],X=Y[1],Z=J===w.ExpandBtnStatus.Expand,$=(0,C.useIsNarrowMode)(),ee=$.ref,et=$.isNarrowMode;return(0,s.jsxs)("div",{className:d()(R["writing-skill-container"],(0,r._)({},R.narrow,et)),ref:ee,"data-testid":"skill-modal-writing-skill",children:[(0,s.jsx)(w.SkillHeader,{skill:E,closeEvent:K,background:"gray",expandBtnStatus:J,onClickCollapseBtn:function(){X(w.ExpandBtnStatus.Collapse)},onClickExpandBtn:function(){X(w.ExpandBtnStatus.Expand)},onClick:function(){X(w.ExpandBtnStatus.Expand)}}),Z&&(0,s.jsx)("div",{className:d()(R.banner),children:(0,s.jsx)(g.Carousel,{carouselRowClassName:R["carousel-row-wrapper"],children:null==q?void 0:null===(n=q.template)||void 0===n?void 0:n.map(function(e,t){return(0,s.jsxs)("div",{className:d()(R.item,(0,r._)({},R.selected,t===P)),onClick:function(){O(t);var n=(0,k.transformWritingTemplateIntoEditorValue)(e.value||"",q.input_options);b.writingSkillController.updateWritingRichEditorContent(n),b.writingSkillController.focusOnWritingEditor()},children:[(0,s.jsx)(v.Image,{wrapperClassName:R["item-img"],src:e.background_url,imageOptions:{squareContainer:!0,objectFit:"contain",draggable:!1,width:et?70:100,height:et?91:130}},e.value),(0,s.jsx)("div",{className:R["item-title"],title:e.show_name,children:e.show_name})]},t)})})}),(0,s.jsxs)("div",{className:R["bottom-bar-container"],children:[(0,s.jsx)("div",{className:d()(R["rich-editor-wrapper"]),children:(0,s.jsx)(D,{ref:function(e){b.writingSkillController.bindWritingEditorRef(e),e&&e.focus()},className:R["flow-chat-editor"],dir:(0,f.isRTL)()?G:"ltr",disabled:x,value:W,onChange:function(e){b.writingSkillController.updateWritingRichEditorContent(e),(0,_.isEmptyEditorValue)(e)&&O(void 0)},onKeyDown:function(e){(0,S.checkKeydownEventTriggerSubmit)(e)&&(!(0,f.getIsMobileOrIPad)()&&e.preventDefault(),!Q&&U())},placeholder:N("skill_writing_compose_input_placeholder"),autoComplete:"off",onFocus:u,onBlur:o,getPopupContainer:A})}),(0,s.jsx)("div",{className:d()(R["tools-box"]),children:(0,s.jsx)(T.SendMessageButton,{disabled:x,disableToSend:Q,sendMessageHoverText:I,onClick:U})})]})]})})},19711:function(e,t,n){"use strict";n.d(t,{transformWritingTemplateIntoEditorValue:function(){return o}});var r=n("85397"),i=n("85596");function o(e,t){for(var n=[],o=0,s=/\$\{(.*?)\}/g,l=s.exec(e);l;){var c=l[0],u=l[1],d=l.index;n.push(a(e.slice(o,d)));var f=null==t?void 0:t[u];(null==f?void 0:f.type)===r.SkillInputOptionType.Placeholder?n.push(function(e){var t,n;return{type:i.EditorBlockType.Placeholder,placeholder:(null===(t=e.placeholder)||void 0===t?void 0:t.placeholder)||"",text:(null===(n=e.placeholder)||void 0===n?void 0:n.default_text)||""}}(f)):(null==f?void 0:f.type)===r.SkillInputOptionType.Select?n.push(function(e){var t,n,r,o=(null===(t=e.options)||void 0===t?void 0:t.find(function(e){return!!e.is_default}))||(null===(n=e.options)||void 0===n?void 0:n[0]);return{type:i.EditorBlockType.Select,optionList:(null===(r=e.options)||void 0===r?void 0:r.map(function(e){return{label:e.show_name||"",value:e.show_name||""}}))||[],value:(null==o?void 0:o.show_name)||""}}(f)):(null==f?void 0:f.type)===r.SkillInputOptionType.Language&&n.push(function(e){var t,n,r,o=(null===(t=e.language_options)||void 0===t?void 0:t.find(function(e){return!!e.is_default}))||(null===(n=e.language_options)||void 0===n?void 0:n[0]);return{type:i.EditorBlockType.Select,optionList:(null===(r=e.language_options)||void 0===r?void 0:r.map(function(e){return{label:e.show_name||"",value:e.show_name||""}}))||[],value:(null==o?void 0:o.show_name)||""}}(f)),o=d+c.length,l=s.exec(e)}return o<e.length&&n.push(a(e.slice(o))),{data:n}}function a(e){return{type:i.EditorBlockType.Text,text:e}}},33977:function(e,t,n){"use strict";n.d(t,{writingSkillController:function(){return l}});var r=n("69420"),i=n("29048"),o=n("62920"),a=n("24815");function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,i._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=new(function(){function e(){var t=this;(0,r._)(this,e),s(this,"editorRef",null),s(this,"composeEditorContainer",null),s(this,"replyEditorContainer",null),s(this,"originTextEditorContainer",null),s(this,"bindOriginTextEditorContainer",function(e){t.originTextEditorContainer=e}),s(this,"unbindOriginTextEditorContainer",function(){t.originTextEditorContainer=null}),s(this,"updateOriginTextEditorContent",function(e){o.useChatStore.getState().updateOriginTextEditorValue(e)}),s(this,"focusOnOriginTextEditor",function(){t.originTextEditorContainer&&t.originTextEditorContainer.focus()}),s(this,"bindReplyEditorContainer",function(e){t.replyEditorContainer=e}),s(this,"unbindReplyEditorContainer",function(){t.replyEditorContainer=null}),s(this,"updateReplyEditorContent",function(e){o.useChatStore.getState().updateReplyEditorValue(e)}),s(this,"focusOnReplyEditor",function(){t.replyEditorContainer&&t.replyEditorContainer.focus()}),s(this,"bindComposeEditorContainer",function(e){t.composeEditorContainer=e}),s(this,"unbindComposeEditorContainer",function(){t.composeEditorContainer=null}),s(this,"updateComposeEditorContent",function(e){o.useChatStore.getState().updateComposeEditorValue(e)}),s(this,"focusOnComposeEditor",function(){t.composeEditorContainer&&t.composeEditorContainer.focus()}),s(this,"bindWritingEditorRef",function(e){t.editorRef=e}),s(this,"unbindWritingEditorRef",function(){t.editorRef=null}),s(this,"focusOnWritingEditor",function(){t.editorRef&&t.editorRef.focus()}),s(this,"updateWritingRichEditorContent",function(e){o.useChatStore.getState().updateWritingEditorValue(e)}),s(this,"reset",function(){t.updateComposeEditorContent(""),t.updateReplyEditorContent(""),t.updateOriginTextEditorContent(""),t.updateWritingRichEditorContent({data:[]})})}return e.prototype.getReportEvent=function(){return o.useChatStore.getState().getSkillReportEvent({skillType:a.SkillType.WriteAssistant,eventName:"skill_input_panel_open"})},e}())},31759:function(e,t,n){"use strict";n.d(t,{writingAssistantSkillFacade:function(){return i}});var r=n("33977"),i={updateOriginTextEditorContent:function(e){r.writingSkillController.updateOriginTextEditorContent(e)},focusOnOriginTextEditor:function(){r.writingSkillController.focusOnOriginTextEditor()},updateComposeEditorContent:function(e){r.writingSkillController.updateComposeEditorContent(e)},focusOnComposeEditor:function(){r.writingSkillController.focusOnComposeEditor()},reset:function(){r.writingSkillController.reset()}}},46017:function(e,t,n){"use strict";n.d(t,{WritingAssistantChatInput:function(){return N}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("40509"),s=n("97458"),l=n("52983"),c=n("87608"),u=n.n(c),d=n("78597"),f=n("44052"),g=n("9407"),v=n("53268"),p=n("51578"),h=n("44750"),m=n("31566"),_=n("59657"),x=n("58936"),b=n("33977"),k=n("23858"),C=n("41648"),S=n("67427"),w=n("3461"),y=n("8407"),I=n("6124"),M=n("96440"),T=n("706"),R=n("57872"),E=function(e){var t=function(e){if(!e)return{list:[],defaultValue:""};var t,n=e.map(function(e){return{value:e.value||"",label:e.show_name||""}}),r=e.find(function(e){return!!e.is_default});return{list:n,defaultValue:(r?r.value:null===(t=e[0])||void 0===t?void 0:t.value)||""}},n=e.template,r=e.tone,i=e.language,o=e.length;return{template:t(n),tone:t(r),language:function(e){if(!e)return{list:[],defaultValue:""};var t,n=e.find(function(e){return!!e.is_default}),r=(n?n.language_code:null===(t=e[0])||void 0===t?void 0:t.language_code)||"";return{list:e,defaultValue:r}}(i),length:t(o)}},j=function(e,t){var n=e.find(function(e){return e.value===t});return(null==n?void 0:n.label)||""},B=function(e,t){var n=e.find(function(e){return e.language_code===t});return(null==n?void 0:n.language)||""},L=function(e,t){var n=e.find(function(e){return e.language_code===t});return(null==n?void 0:n.value)||""},N=(0,l.forwardRef)(function(e,t){var n=e.renderOgfButton,r=e.onBlur,c=e.onFocus,u=e.disabled,f=e.sendMessageHoverText,g=e.skill,p=e.trackParams,x=e.onBeforeSendMessage,k=(0,w.useChat)(),y=k.sendMessage,T=k.t,j=(0,a._)((0,l.useState)("1"),2),B=j[0],L=j[1],N=function(e,t){var n=(0,i._)({skill_id:g.skill_id,skill_type:g.skill_type},t);null==x||x(),y({text:e,scene:"chat_action_bar",sec_scene:(0,h.getSecSceneBySkillType)(null==g?void 0:g.skill_type),use_skill:!0,skill_id:null==g?void 0:g.skill_id,skill_name:(0,h.getSkillTeaName)(g),extraExt:{input_skill:JSON.stringify(n)}}),m.FlowTea.trackEvent("skill_module_click_arrow",(0,o._)((0,i._)({},p),{compose_type:t.variables.template_type===I.WritingSkillTemplateType.Compose?t.variables.template:void 0,tone_result:t.variables.tone,length:t.variables.length,language:t.variables.language,reply_type:t.variables.template_type===I.WritingSkillTemplateType.Reply?t.variables.template_type:void 0})),(0,C.closeSkillPanel)(),P()},P=function(){var e,t,n,r,a,s,l,c,u="1"===String(B)?null==z?void 0:null===(e=z.current)||void 0===e?void 0:e.getPayload():null==V?void 0:null===(t=V.current)||void 0===t?void 0:t.getPayload();m.FlowTea.trackEvent("skill_module_close",(0,o._)((0,i._)({},p),{compose_type:(null==u?void 0:null===(n=u.variables)||void 0===n?void 0:n.template_type)===I.WritingSkillTemplateType.Compose?null==u?void 0:u.variables.template:void 0,tone_result:null==u?void 0:null===(r=u.variables)||void 0===r?void 0:r.tone,length:null==u?void 0:null===(a=u.variables)||void 0===a?void 0:a.length,language:null==u?void 0:null===(s=u.variables)||void 0===s?void 0:s.language,reply_type:(null==u?void 0:null===(l=u.variables)||void 0===l?void 0:l.template_type)===I.WritingSkillTemplateType.Reply?null==u?void 0:null===(c=u.variables)||void 0===c?void 0:c.template_type:void 0}))},O=(0,_.useWritingAssistantFormConfig)(),D=(0,l.useMemo)(function(){if(null==O?void 0:O.compose)return E(O.compose)},[O]),H=(0,l.useMemo)(function(){if(null==O?void 0:O.reply)return E(O.reply)},[O]),q=(0,l.useRef)(null),W=(0,d.useSize)(q),z=(0,l.useRef)(null),V=(0,l.useRef)(null);return(0,l.useImperativeHandle)(t,function(){return{focus:function(){b.writingSkillController.focusOnComposeEditor()},clear:function(){},closeEvent:P}},[]),(0,l.useEffect)(function(){var e;m.FlowTea.trackEvent("skill_module_show",(0,o._)((0,i._)({},p),{origin_content_type:null==D?void 0:D.template.defaultValue})),null===(e=b.writingSkillController.getReportEvent())||void 0===e||e.success()},[]),(0,s.jsxs)("div",{className:R["writing-skill-container"],ref:q,"data-testid":"skill-modal-writing-skill",children:[(0,s.jsx)(S.SkillHeader,{skill:g,closeEvent:P}),(0,s.jsx)("div",{className:"px-12 pb-7",children:(0,s.jsxs)(M.Tabs,{activeKey:B,onChange:L,type:"line",children:[(0,s.jsx)(v.TabPane,{tab:T("skill_writing_mode_compose"),itemKey:"1",className:"mt-[7px]",children:(0,s.jsx)(A,{disabled:u,sendMessageHoverText:f,formConfig:D,renderOgfButton:n,ref:z,containerSize:W,onEditorBlur:r,onEditorFocus:c,onSubmit:N})}),(0,s.jsx)(v.TabPane,{tab:T("skill_writing_mode_reply"),itemKey:"2",className:"mt-[7px]",children:(0,s.jsx)(F,{disabled:u,sendMessageHoverText:f,ref:V,containerSize:W,formConfig:H,renderOgfButton:n,onEditorBlur:r,onEditorFocus:c,onSubmit:N})})]})})]})}),A=(0,l.forwardRef)(function(e,t){var n=e.formConfig,r=e.disabled,i=e.sendMessageHoverText,o=e.renderOgfButton,c=e.onEditorBlur,p=e.onEditorFocus,h=e.onSubmit,m=e.containerSize,k=(0,w.useChat)().t,S=function(){return{variables:{template_type:I.WritingSkillTemplateType.Compose,template:Z,tone:er,language:L(eu,eg),length:el},show_variables:{template_type:I.WritingSkillTemplateType.Compose,template:j(Y,Z),tone:j(ee,er),language:B(eu,eg),length:j(eo,el)}}},y=function(){null==h||h(T,S()),b.writingSkillController.updateComposeEditorContent("")},M=(0,l.useRef)(null),T=(0,_.useComposeEditorValue)();(0,l.useEffect)(function(){return M.current&&b.writingSkillController.bindComposeEditorContainer(M.current),function(){b.writingSkillController.unbindComposeEditorContainer()}},[]);var E=(0,a._)((0,l.useState)(12),2),N=E[0],A=E[1],F=(0,a._)((0,l.useState)("narrow"),2),O=F[0],D=F[1];(0,l.useEffect)(function(){m&&m.width<600?(A(12),D("narrow")):(A(7),D("wide"))},[null==m?void 0:m.width]);var H=n||{},q=H.template,W=void 0===q?{list:[],defaultValue:""}:q,z=H.tone,V=void 0===z?{list:[],defaultValue:""}:z,U=H.language,K=void 0===U?{list:[],defaultValue:""}:U,G=H.length,Q=void 0===G?{list:[],defaultValue:""}:G,Y=W.list,J=W.defaultValue,X=(0,a._)((0,l.useState)(J),2),Z=X[0],$=X[1],ee=V.list,et=V.defaultValue,en=(0,a._)((0,l.useState)(et),2),er=en[0],ei=en[1],eo=Q.list,ea=Q.defaultValue,es=(0,a._)((0,l.useState)(ea),2),el=es[0],ec=es[1],eu=K.list,ed=K.defaultValue,ef=(0,a._)((0,l.useState)(ed),2),eg=ef[0],ev=ef[1];(0,l.useImperativeHandle)(t,function(){return{focus:function(){var e;null===(e=M.current)||void 0===e||e.focus()},clear:function(){b.writingSkillController.updateComposeEditorContent("")},getPayload:S}},[]);var ep=(0,d.useGetLanguageDirectionOfText)(T,!0),eh=""===T.trim();return(0,s.jsxs)("div",{className:R["compose-tab-container"],"data-testid":"skill_panel_writing_tab_content_compose",children:[(0,s.jsx)(f.RadioGroup,{onChange:function(e){$(e.target.value)},value:Z,name:"compose-radio-group",type:"button",children:(0,s.jsx)(g.Carousel,{itemClassName:R["carousel-item"],enableArrowBorder:!1,children:Y.map(function(e){return(0,s.jsx)(v.Radio,{value:e.value,children:e.label},e.value)})})}),(0,s.jsx)(x.TextAreaI18n,{className:u()(R["text-area-wrapper"],R[O]),dir:(0,d.isRTL)()?ep:"ltr",disabled:r,ref:M,rows:N,autosize:!1,value:T,onChange:function(e){b.writingSkillController.updateComposeEditorContent(e)},onKeyDown:function(e){(0,C.checkKeydownEventTriggerSubmit)(e)&&(!(0,d.getIsMobileOrIPad)()&&e.preventDefault(),!eh&&y())},placeholder:k("skill_writing_compose_input_placeholder"),autoComplete:"off",onFocus:p,onBlur:c,"data-testid":"skill_panel_writing_tab_compose_input"}),(0,s.jsx)(P,{disableToSend:eh,sendMessageHoverText:i,className:"mt-14",tone:er,onToneChange:ei,toneList:ee,length:el,onLengthChange:ec,lengthList:eo,language:eg,onLanguageChange:ev,languageList:eu,onSubmit:y,renderOgfButton:o,containerSize:m})]})}),F=(0,l.forwardRef)(function(e,t){var n=e.formConfig,r=e.disabled,i=e.renderOgfButton,o=e.onEditorBlur,c=e.onEditorFocus,u=e.onSubmit,p=e.sendMessageHoverText,h=e.containerSize,m=(0,w.useChat)().t,k=function(){return{variables:{template_type:I.WritingSkillTemplateType.Reply,template:G,tone:Z,language:L(eo,el),length:er,original_text:T.trim()},show_variables:{template_type:I.WritingSkillTemplateType.Reply,template:j(V,G),tone:j(Y,Z),language:B(eo,el),length:j(ee,er),original_text:T.trim()}}},S=function(){null==u||u(E,k()),b.writingSkillController.updateOriginTextEditorContent(""),b.writingSkillController.updateReplyEditorContent("")},y=(0,l.useRef)(null),M=(0,l.useRef)(null);(0,l.useEffect)(function(){return M.current&&b.writingSkillController.bindOriginTextEditorContainer(M.current),y.current&&b.writingSkillController.bindReplyEditorContainer(y.current),function(){b.writingSkillController.unbindOriginTextEditorContainer(),b.writingSkillController.unbindReplyEditorContainer()}},[]);var T=(0,_.useOriginTextEditorValue)(),E=(0,_.useReplyEditorValue)(),N=n||{},A=N.template,F=void 0===A?{list:[],defaultValue:""}:A,O=N.tone,D=void 0===O?{list:[],defaultValue:""}:O,H=N.language,q=void 0===H?{list:[],defaultValue:""}:H,W=N.length,z=void 0===W?{list:[],defaultValue:""}:W,V=F.list,U=F.defaultValue,K=(0,a._)((0,l.useState)(U),2),G=K[0],Q=K[1],Y=D.list,J=D.defaultValue,X=(0,a._)((0,l.useState)(J),2),Z=X[0],$=X[1],ee=z.list,et=z.defaultValue,en=(0,a._)((0,l.useState)(et),2),er=en[0],ei=en[1],eo=q.list,ea=q.defaultValue,es=(0,a._)((0,l.useState)(ea),2),el=es[0],ec=es[1],eu=(0,a._)((0,l.useState)(!1),2),ed=eu[0],ef=eu[1],eg=(0,a._)((0,l.useState)(!1),2),ev=eg[0],ep=eg[1];(0,l.useImperativeHandle)(t,function(){return{focus:function(){},clear:function(){},getPayload:k}},[ed,ev]);var eh=(0,a._)((0,l.useState)(4),2),em=eh[0],e_=eh[1];(0,l.useEffect)(function(){h&&h.width<600?e_(4):e_(2)},[null==h?void 0:h.width]),(0,l.useEffect)(function(){ed||ev?null==c||c():null==o||o()},[ed,ev]);var ex=(0,d.useGetLanguageDirectionOfText)(E,!0),eb=(0,d.useGetLanguageDirectionOfText)(T,!0),ek=""===E.trim()||""===T.trim(),eC=function(e){(0,C.checkKeydownEventTriggerSubmit)(e)&&(!(0,d.getIsMobileOrIPad)()&&e.preventDefault(),!ek&&S())};return(0,s.jsxs)("div",{"data-testid":"skill_panel_writing_tab_content_reply",children:[(0,s.jsx)(f.RadioGroup,{onChange:function(e){Q(e.target.value)},value:G,name:"reply-radio-group",type:"button",children:(0,s.jsx)(g.Carousel,{itemClassName:R["carousel-item"],enableArrowBorder:!1,children:V.map(function(e){return(0,s.jsx)(v.Radio,{value:e.value,children:e.label},e.value)})})}),(0,s.jsx)("p",{className:R["textarea-title"],children:m("skill_writing_reply_input1_title")}),(0,s.jsx)(x.TextAreaI18n,{style:{backgroundColor:"var(--s-color-bg-trans-primary)"},dir:(0,d.isRTL)()?eb:"ltr",disabled:r,ref:M,value:T,onChange:function(e){b.writingSkillController.updateOriginTextEditorContent(e)},onKeyDown:eC,rows:em,className:"border-0",autosize:!1,placeholder:m("skill_writing_reply_input1_placeholder"),autoComplete:"off",onFocus:function(){return ef(!0)},onBlur:function(){return ef(!1)},"data-testid":"skill_panel_writing_tab_reply_input_origin"}),(0,s.jsx)("p",{className:R["textarea-title"],children:m("skill_writing_reply_input2_title")}),(0,s.jsx)(x.TextAreaI18n,{style:{backgroundColor:"var(--s-color-bg-trans-primary)"},dir:(0,d.isRTL)()?ex:"ltr",disabled:r,ref:y,value:E,onChange:function(e){b.writingSkillController.updateReplyEditorContent(e)},onKeyDown:eC,rows:em,className:"border-0",autosize:!1,placeholder:m("skill_writing_reply_input2_placeholder"),autoComplete:"off",onFocus:function(){return ep(!0)},onBlur:function(){return ep(!1)},"data-testid":"skill_panel_writing_tab_reply_input_reply"}),(0,s.jsx)(P,{sendMessageHoverText:p,disabled:r,disableToSend:ek,className:"mt-14",tone:Z,onToneChange:$,toneList:Y,length:er,onLengthChange:ei,lengthList:ee,language:el,onLanguageChange:ec,languageList:eo,onSubmit:S,renderOgfButton:i,containerSize:h})]})}),P=function(e){var t=e.tone,n=e.length,i=e.language,o=e.onToneChange,c=e.onLanguageChange,d=e.onLengthChange,f=e.renderOgfButton,g=e.onSubmit,v=e.toneList,h=e.lengthList,m=e.languageList,_=e.className,x=e.disabled,b=e.disableToSend,C=e.sendMessageHoverText,S=e.containerSize,I=(0,a._)((0,l.useState)("ellipsis"),2),M=I[0],E=I[1],j=(0,a._)((0,l.useState)("ellipsis"),2),B=j[0],L=j[1],N=(0,w.useChat)(),A=N.t,F=N.getPopupContainer;return(0,l.useEffect)(function(){if(S&&S.width<600){E("wrap");return}"ellipsis"!==M&&E("ellipsis")},[null==S?void 0:S.width]),(0,l.useEffect)(function(){if(S&&S.width<652){L("wrap");return}"ellipsis"!==B&&L("ellipsis")},[null==S?void 0:S.width]),(0,s.jsxs)("div",{className:u()(R["bottom-bar-container"],_,(0,r._)({},R.wrap,"wrap"===B)),children:[(0,s.jsxs)("div",{className:u()(R["left-box"],(0,r._)({},R.wrap,"wrap"===B)),children:[(0,s.jsx)(p.Select,{className:R["select-item"],value:t,onChange:function(e){null==o||o(String(e))},size:"small",optionList:v,insetLabel:A("skill_writing_config_tone"),arrowIcon:(0,s.jsx)(y.ArrowDownIcon,{}),mode:M,defaultActiveFirstOption:!1,getPopupContainer:F}),(0,s.jsx)(p.Select,{className:R["select-item"],value:n,onChange:function(e){null==d||d(String(e))},size:"small",optionList:h,insetLabel:A("skill_writing_config_length"),arrowIcon:(0,s.jsx)(y.ArrowDownIcon,{}),mode:M,defaultActiveFirstOption:!1,getPopupContainer:F}),(0,s.jsx)(k.LanguageSelect,{className:R["select-item"],value:i,onChange:function(e){null==c||c(String(e))},size:"small",languageList:m,insetLabel:A("skill_writing_config_language"),arrowIcon:(0,s.jsx)(y.ArrowDownIcon,{}),mode:M,defaultActiveFirstOption:!1,getPopupContainer:F})]}),(0,s.jsx)("div",{className:R["middle-box"]}),(0,s.jsxs)("div",{className:u()(R["right-box"],(0,r._)({},R.wrap,"wrap"===B)),children:[null==f?void 0:f(),(0,s.jsx)(T.SendMessageButton,{disabled:x,disableToSend:b,sendMessageHoverText:C,onClick:g})]})]})}},87793:function(e,t,n){"use strict";n.d(t,{UploadButtonGroup:function(){return p}});var r=n("97458"),i=n("63730"),o=n("52983"),a=n("59312"),s=n("10824"),l=n("3461"),c=n("65241"),u=n("8407"),d=n("6536"),f=n("27202"),g=n("1140"),v=function(e){var t=e.children,n=(0,l.useChat)().chatDropTargetRef,r=null==n?void 0:n.current;return null===r?null:(0,i.createPortal)(t,r)},p=function(e){var t=e.disabled,n=e.hasAccessoryArea,i=e.onSubmitImage,p=e.onSubmitFile,h=e.onClick,m=e.UploadButtonSlot,_=(0,l.useChat)(),x=_.t,b=_.chatViewConfig,k=(0,f.useToast)(),C=null==b?void 0:b.chatId,S=null==b?void 0:b.chatType,w=(0,s.useBotSendFileEnabled)(null!=C?C:"",S),y=(0,s.useBotSendImageEnabled)(null!=C?C:"",S),I=(0,s.useIsSamantha)(C||"",S),M=(0,a.useSystemConfigInfo)().uploadFileAllowedTypes,T=(0,o.useMemo)(function(){return(I?(0,d.uploadFileAllowedTypesInSamantha):M).filter(function(e){return!!e}).map(function(e){return".".concat(e)}).join(",")},[M]),R=function(e,t){var n="dataTransfer"in e?e.dataTransfer.files:e.target.files;if(!n)return;if(n.length>1){k.warning(x("multiple_files_not_supported"));return}var r=n[0];if(!!r)y&&(0,c.fileIsImage)(r)?i(r,t):w&&p(r,t)};return(0,r.jsxs)(r.Fragment,{children:[y&&!I&&(0,r.jsx)(m,{type:"image",accept:"".concat("image/*",",").concat(w?T:""),disabled:t||n,onClick:function(){null==h||h("image")},onFileChange:function(e){return R(e,"click")},addImageTitle:x("add_image"),addFileTitle:x("add_file")}),w&&(0,r.jsx)("div",{className:g["send-file-button-container"],children:(0,r.jsx)(m,{type:"file",accept:T,disabled:t||n,onClick:function(){null==h||h("file")},onFileChange:function(e){return R(e,"click")},addImageTitle:x("add_image"),addFileTitle:x("add_file")})}),!t&&(0,r.jsx)(v,{children:(0,r.jsx)("div",{className:g["chat-input-droprange"],onDrop:function(e){return R(e,"drag")},children:(0,r.jsxs)("div",{className:g["chat-input-drop-rect"],children:[(0,r.jsx)(u.UploadFileDropIcon,{className:g["chat-input-drop-file-icon"]}),(0,r.jsx)("div",{children:x("send_image_by_drop")})]})})})]})}},706:function(e,t,n){"use strict";n.d(t,{SendMessageButton:function(){return p}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458"),l=n("87608"),c=n.n(l),u=n("53268"),d=n("6490"),f=n("8407"),g=n("78004"),v=n("62730"),p=function(e){var t=e["data-testid"],n=e.disabled,l=e.disableToSend,p=e.sendMessageHoverText,h=e.onClick,m=(0,a._)(e,["data-testid","disabled","disableToSend","sendMessageHoverText","onClick"]),_=(0,g.useOptionalBaseSlots)().Tooltip,x=void 0===_?d.UIKitTooltip:_,b=(0,s.jsx)(u.Button,{id:"flow-end-msg-send",size:"default",icon:(0,s.jsx)(f.ArrowUpCircleIcon,{}),className:c()(v["send-btn"],(0,r._)({},v.disabled,n)),theme:"solid",disabled:l,"aria-disabled":l,"aria-label":p,onClick:h,"data-testid":t});return(0,s.jsx)("div",(0,o._)((0,i._)({className:c()(v.container,"send-btn-wrapper")},m),{children:p?(0,s.jsx)(x,{content:p,position:"top",children:b}):b}))}},91342:function(e,t,n){"use strict";n.d(t,{ChatInputUI:function(){return m}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("97458"),s=n("52983"),l=n("3820"),c=n("87608"),u=n.n(c),d=n("78597"),f=n("24815"),g=n("58936"),v=n("706"),p=n("93502"),h=n("95122"),m=(0,s.forwardRef)(function(e,t){var n,c=e.className,m=e.disabled,_=e.allowEmptySubmit,x=e.renderTools,b=e.OgfButtonSlot,k=e.onSubmit,C=e.onPaste,S=e.onAutoTransValue,w=e.onKeyDown,y=e.clearInputOnSubmit,I=e.placeholder,M=e.sendMessageHoverText,T=e.hasBoxShadow,R=e.hasAccessoryArea,E=void 0!==R&&R,j=e.renderInputTop,B=e.renderRefContent,L=e.unableToSend,N=e.resetAccessoryArea,A=e.clearRefContent,F=e.activeSkill,P=e.WritingAssistantChatInputSlot,O=e.ImageCreationChatInputSlot,D=e.TranslateChatInputSlot,H=e.ReadUrlChatInputSlot,q=e.ReadDocChatInputSlot,W=e.onEmptyAt,z=e.skillTrackParams,V=e.disabledWrapperClick,U=(0,s.useCallback)(function(e){if(k(e),(0,d.getIsMobileOrIPad)()){var t,n=null===(t=document)||void 0===t?void 0:t.activeElement;n&&"blur"in n&&(0,l.default)(n.blur)&&n.blur()}},[k]),K=(0,p.useTextArea)({onSubmit:U,allowEmpty:_,clearInputOnSubmit:void 0===y||y,attachmentCanNotSend:!!E&&L,onEmptyAt:W}),G=K.textAreaRef,Q=K.textAreaProps,Y=K.submit,J=K.clear,X=(0,s.useRef)(null),Z=Q.value;(0,s.useImperativeHandle)(t,function(){return{focus:function(){var e;return null===(e=G.current)||void 0===e?void 0:e.focus()},clear:function(){null==N||N(),J()},autoTransValue:function(e,t){var n;null===(n=G.current)||void 0===n||n.focus(),Q.onChange(e),null==S||S(e,t)},getText:function(){var e;return(null===(e=G.current)||void 0===e?void 0:e.value)||""}}},[]);var $=E?L:!_&&(null===(n=Q.value)||void 0===n?void 0:n.trim())==="",ee=(0,d.useGetLanguageDirectionOfText)(Z,!0);(0,s.useEffect)(function(){var e,t;if(!m&&(null===(e=X.current)||void 0===e||e.focus(),!(0,d.getIsMobileOrIPad)())){null===(t=G.current)||void 0===t||t.focus();return}},[F]);var et=(null==F?void 0:F.skill_type)===f.SkillType.WriteAssistant&&P?(0,a.jsx)(P,{ref:G,skill:F,disabled:m,renderOgfButton:function(){return(0,a.jsx)(a.Fragment,{children:b&&(0,a.jsx)(b,{})})},sendMessageHoverText:M,trackParams:z||{},onBeforeSendMessage:A}):(null==F?void 0:F.skill_type)===f.SkillType.ImageGeneration&&O?(0,a.jsx)(O,{ref:G,skill:F,disabled:m,trackParams:z||{},onBeforeSendMessage:A}):(null==F?void 0:F.skill_type)===f.SkillType.Translate&&D?(0,a.jsx)(D,{skill:F,ref:G,disabled:m,trackParams:z||{},onBeforeSendMessage:A}):(null==F?void 0:F.skill_type)===f.SkillType.ReadWebsite&&H?(0,a.jsx)(H,{skill:F,ref:G,disabled:m,trackParams:z||{},onBeforeSendMessage:A}):(null==F?void 0:F.skill_type)===f.SkillType.ReadPDF&&q?(0,a.jsx)(q,{skill:F,renderOgfButton:function(){return(0,a.jsx)(a.Fragment,{children:b&&(0,a.jsx)(b,{})})},ref:G,disabled:m,trackParams:z||{},onBeforeSendMessage:A}):void 0;return(0,a.jsx)("div",{ref:X,className:u()(h["chat-input-container"],(0,r._)({},h["chat-input-container-disabled"],m),(null==F?void 0:F.skill_type)===f.SkillType.ImageGeneration&&h["chat-input-container-visible"],void 0!==T&&T&&h["chat-input-float"],c,V&&h["chat-input-container-readonly"]),tabIndex:0,"data-testid":"chat_input",children:et||(0,a.jsxs)("div",{onClick:function(){if(m)null==V||V();else{var e;null===(e=G.current)||void 0===e||e.focus()}},children:[null==j?void 0:j(),null==B?void 0:B(),(0,a.jsxs)("div",{className:u()(h["chat-input"]),children:[x&&(0,a.jsx)("div",{className:h.menu,children:x(!!m,G)}),(0,a.jsx)(g.TextAreaI18n,(0,o._)((0,i._)({dir:(0,d.isRTL)()?ee:"ltr",readOnly:!!V,ref:G,disabled:m},Q),{onKeyDown:function(e){null==w||w(e),Q.onKeyDown(e)},className:h.input,rows:1,autosize:!0,placeholder:I,onPaste:C,autoComplete:"off","data-testid":"chat_input_input"})),b&&(0,a.jsx)(b,{}),(0,a.jsx)(v.SendMessageButton,{disabled:m,disableToSend:$,sendMessageHoverText:M,onClick:Y,"data-testid":"chat_input_send_button"})]})]})})})},21503:function(e,t,n){"use strict";n.d(t,{NavigateToFirstChat:function(){return a}});var r=n("52983"),i=n("10630"),o=n("3461"),a=function(){var e,t=(0,o.useChat)().toChatPage,n=null===(e=(0,i.useMainConversationLink)())||void 0===e?void 0:e.conversationId;return(0,r.useEffect)(function(){n&&(null==t||t({replace:!0,relative:"route",state:{cocoConversationId:n}}))},[n]),null}},24239:function(e,t,n){"use strict";n.d(t,{AvatarLoading:function(){return c}});var r=n("97458"),i=n("52983"),o=n("78597"),a=n("57834"),s=n("78004"),l=n("65622"),c=function(){var e=(0,s.useBaseSlots)().Lottie,t=(0,i.useMemo)(function(){return(0,o.parseJSON)(JSON.stringify(a))},[]);return(0,r.jsx)(e,{className:l.loading,animationData:t})}},39246:function(e,t,n){"use strict";n.d(t,{BottomReachIndicator:function(){return s}});var r=n("97458"),i=n("28377"),o=n("52983"),a=n("327"),s=function(e){var t=e.bottomThreshold,n=e.onShow,s=e.onHide,l=(0,i.useInView)({initialInView:!0}),c=l.inView,u=l.ref;return(0,o.useEffect)(function(){c?null==n||n():null==s||s()},[c]),(0,r.jsx)("div",{className:a.container,ref:u,style:{height:void 0===t?0:t}})}},65849:function(e,t,n){"use strict";n.d(t,{ErrorFallback:function(){return l}});var r=n("97458"),i=n("52983"),o=n("32156"),a=n("3461"),s=n("14596"),l=function(e){var t=e.resetErrorBoundary,n=(0,a.useChat)().chatViewConfig,l=(0,i.useRef)(!0),c=(0,a.useChat)().t;return(0,i.useEffect)(function(){l.current?l.current=!1:t()},[null==n?void 0:n.chatId]),(0,r.jsx)(o.SamanthaLayout.MaxWidthLayout,{children:(0,r.jsx)("div",{className:s["retry-button-wrapper"],children:(0,r.jsx)("button",{onClick:function(){return t()},children:c("chat_list_load_failed")})})})}},74017:function(e,t,n){"use strict";n.d(t,{ImagePreviewBtnArea:function(){return C},handleDownloadImage:function(){return S},useImagePreview:function(){return w}});var r=n("40509"),i=n("6462"),o=n("97458"),a=n("52983"),s=n("59574"),l=n("77590"),c=n("12887"),u=n.n(c),d=n("78597"),f=n("10630"),g=n("31566"),v=n("75761"),p=n("87681"),h=n("17097"),m=n("53268"),_=n("8407"),x=n("3461"),b=n("62526"),k=function(e){return function(t){var n,r;return((null==t?void 0:null===(n=t.image_thumb)||void 0===n?void 0:n.url)||(null==t?void 0:null===(r=t.image_ori)||void 0===r?void 0:r.url))===e}},C=function(e){var t=e.onZoomOut,n=e.onZoomIn,r=e.onDownload,i=e.disableDownload;return(0,o.jsxs)("div",{className:b["zoom-wrapper"],children:[(0,o.jsx)(m.Button,{className:b["button-icon"],icon:(0,o.jsx)(_.ZoomOutIcon,{className:b["icon-wrapper"]}),type:"tertiary",onClick:function(){null==t||t()}}),(0,o.jsx)(m.Button,{className:b["button-icon"],icon:(0,o.jsx)(_.ZoomInIcon,{className:b["icon-wrapper"]}),type:"tertiary",onClick:function(){null==n||n()}}),!!r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Divider,{layout:"vertical",className:b.divider}),(0,o.jsx)(m.Button,{className:b["button-icon"],icon:(0,o.jsx)(_.DownloadIcon,{className:b["icon-wrapper"]}),type:"tertiary",onClick:r,disabled:i})]})]})},S=function(e){var t,n=e.split("?")[0],r=n.substring(n.lastIndexOf(".")+1);null===(t=u().saveAs)||void 0===t||t.call(u(),e,"".concat(new Date().getTime(),".").concat(r))},w=function(e,t,n){var c=e.conversationId,u=e.messageId,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},_=m.reportImageShow,w=void 0===_||_,y=(0,r._)((0,a.useState)([]),2),I=y[0],M=y[1],T=(0,r._)((0,a.useState)(),2),R=T[0],E=T[1],j=(0,a.useRef)(null),B=(0,a.useRef)(0),L=(0,f.useConversation)(c),N=(0,x.useChat)().chatViewConfig,A=(0,x.useChat)().getPopupContainer,F=(0,d.useDebounceFn)(function(){if(!(0,s.default)(t)){var e,r;g.FlowTea.trackEvent("pinch",{pic_id:null===(e=t[Number(R)])||void 0===e?void 0:e.key,bot_id:(0,v.getBotIdByConversationId)(c),enter_picture_method:n===p.ContentSource.NotMessage?"template_detail":"chat",message_id:u,conversation_id:c,request_id:null===(r=t[B.current])||void 0===r?void 0:r.request_id})}},{trailing:!0,leading:!1,wait:1e3}).run;(0,a.useEffect)(function(){(0,l.default)(R)&&(j.current=Date.now())},[(0,l.default)(R)]);var P=(0,a.useCallback)(function(e){if(!e){if(!(0,s.default)(t)){var n,r;g.FlowTea.trackEvent("leave_picture_detail",{pic_id:String(null===(n=t[Number(R)])||void 0===n?void 0:n.key),bot_id:(0,v.getBotIdByConversationId)(c),message_id:u,conversation_id:c,request_id:null===(r=t[B.current])||void 0===r?void 0:r.request_id,duration:j.current?Date.now()-j.current:void 0})}E(void 0)}},[E,R]),O=function(e){"ArrowLeft"===e.code&&Number(R)-1>=0&&I[Number(R)-1]&&(E(Number(R)-1),D("left",Number(R)-1)),"ArrowRight"===e.code&&Number(R)+1<I.length&&I[Number(R)+1]&&(E(Number(R)+1),D("right",Number(R)+1))},D=function(e,r){if(!(0,s.default)(t)){var i;g.FlowTea.trackEvent("slide",{status:e,pic_id:t[r].key,bot_id:(0,v.getBotIdByConversationId)(c),enter_picture_method:n===p.ContentSource.NotMessage?"template_detail":"chat",message_id:u,request_id:null===(i=t[r])||void 0===i?void 0:i.request_id,conversation_id:c})}};(0,a.useEffect)(function(){return window.addEventListener("keydown",O),function(){window.removeEventListener("keydown",O)}},[R,I]);var H=(0,a.useCallback)(function(e){var r,i=e.disableDownload,a=e.onZoomIn,l=e.onZoomOut;return(0,o.jsx)(C,{onZoomIn:a,onZoomOut:l,onDownload:(r=I[Number(R)],i?function(){}:function(){if(!(0,s.default)(t)){var e,i;g.FlowTea.trackEvent("picture_download",{pic_id:String(null===(e=t[Number(R)])||void 0===e?void 0:e.key),bot_id:(0,v.getBotIdByConversationId)(c),click_method:"detail_click",enter_picture_method:n===p.ContentSource.NotMessage?"template_detail":"chat",message_id:u,conversation_id:c,enter_from:I[B.current],request_id:null===(i=t[B.current])||void 0===i?void 0:i.request_id})}S(r)}),disableDownload:i})},[R,I]);return{imageEventCallbacks:{onImageRender:function(e){if(n!==p.ContentSource.NotMessage){var r,o,a,l,d=null==t?void 0:t.findIndex(k(e)),f=(null===(o=t[d])||void 0===o?void 0:null===(r=o.image_ori)||void 0===r?void 0:r.url)||e;!(0,s.default)(t)&&w&&g.FlowTea.trackEvent("picture_message_show",{bot_id:(0,v.getBotIdByConversationId)(c),pic_id:null===(a=t[d])||void 0===a?void 0:a.key,conversation_id:c,message_id:u,request_id:null===(l=t[d])||void 0===l?void 0:l.request_id,original_content_source:n,chatType:((null==N?void 0:N.chatType)===p.ChatType.NewThread?"default_new":(0,v.getChatTypeForTea)(c))||"other_default",conversation_type:null==L?void 0:L.conversation_type},"".concat(u)),M(function(e){return e.length<4?(0,i._)(e).concat([f]):e})}},onImageClick:function(e,r){var o,a,l,d,f,h,m=null==t?void 0:t.findIndex(k(r)),_=(null===(a=t[m])||void 0===a?void 0:null===(o=a.image_ori)||void 0===o?void 0:o.url)||r;B.current=m,g.FlowTea.trackEvent("enter_picture_detail",{pic_position:String(m+1),pic_id:String(null===(l=t[m])||void 0===l?void 0:l.key),bot_id:(0,v.getBotIdByConversationId)(c),message_id:u,enter_from:n===p.ContentSource.NotMessage?"template_detail":"chat",conversation_id:c,request_id:null===(d=t[m])||void 0===d?void 0:d.request_id}),n===p.ContentSource.NotMessage?(E(m),M(null==t?void 0:t.map(function(e){return e.image_ori.url}))):(M(function(e){return e.includes(_)?(E(e.indexOf(_)),e):(E(e.length),(0,i._)(e).concat([_]))}),!(0,s.default)(t)&&g.FlowTea.trackEvent("picture_message_click",{pic_position:String(m+1),pic_id:null===(f=t[m])||void 0===f?void 0:f.key,bot_id:(0,v.getBotIdByConversationId)(c),message_id:u,conversation_id:c,request_id:null===(h=t[m])||void 0===h?void 0:h.request_id,is_onboarding:0,chatType:((null==N?void 0:N.chatType)===p.ChatType.NewThread?"default_new":(0,v.getChatTypeForTea)(c))||"other_default",conversation_type:null==L?void 0:L.conversation_type})),e.stopPropagation(),e.preventDefault()}},renderImagePreview:function(){return I.length&&(0,l.default)(R)?(0,o.jsx)(h.default,{getPopupContainer:A,onZoomIn:F,onZoomOut:F,zoomStep:.2,className:b["chat-image-preview"],renderPreviewMenu:H,src:I,visible:(0,l.default)(R),onVisibleChange:P,currentIndex:R,onChange:E,onPrev:function(e){return D("left",e)},onNext:function(e){return D("right",e)}}):null}}}},75643:function(e,t,n){"use strict";n.d(t,{LoadMorePure:function(){return s}});var r=n("97458"),i=n("52983"),o=n("53268"),a=n("22951"),s=(0,i.forwardRef)(function(e,t){return(0,r.jsx)("div",{className:a["load-more-wrapper"],ref:t,children:(0,r.jsx)(o.Spin,{size:"middle"})})})},38861:function(e,t,n){"use strict";n.d(t,{FeedbackModalBase:function(){return f}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("58936"),s=n("53268"),l=n("57432"),c=n("16269"),u=n("3461"),d=n("40698"),f=function(e){var t=e.visible,n=e.title,f=e.okText,g=e.hasCancel,v=e.cancelText,p=e.presetOptions,h=e.placeholder,m=e.maxTextCount,_=e.okButtonDisable,x=void 0!==_&&_,b=e.onHide,k=e.onSubmit,C=(0,o.useRef)(0),S=(0,o.useRef)(""),w=(0,r._)((0,o.useState)(x),2),y=w[0],I=w[1],M=(0,u.useChat)().getPopupContainer;return t?(0,i.jsx)(c.UIKitModal,{visible:t,title:n,onCancel:function(){return b()},okText:f,cancelText:v,hasCancel:g,onOk:function(){k({type:C.current,content:S.current})},okButtonProps:{disabled:y,"data-testid":"message_feedback_submit_button"},className:d["feedback-modal"],getPopupContainer:M,closeIcon:(0,i.jsx)(l.default,{"data-testid":"message_feedback_close_button"}),children:(0,i.jsxs)("div",{className:d.inner,"data-testid":"message_feedback_modal",children:[(0,i.jsx)("div",{children:(0,i.jsx)(s.RadioGroup,{className:d["select-group"],type:"pureCard",direction:"horizontal",onChange:function(e){C.current=e.target.value,e.target.value&&x&&I(S.current.length>m),!e.target.value&&x&&I(!0)},mode:"advanced",children:p.map(function(e,t){return(0,i.jsx)(s.Radio,{className:"".concat(d["select-item"]),value:e.value,children:e.text},t)})})}),(0,i.jsx)(a.TextAreaI18n,{maxCount:m,onChange:function(e){S.current=e,I(e.length>m||!C.current&&x)},placeholder:h,"data-testid":"message_feedback_input"})]})}):null}},70800:function(e,t,n){"use strict";n.d(t,{ReportModal:function(){return g}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("32441"),s=n("53268"),l=n("42474"),c=n("16269"),u=n("8407"),d=n("3461"),f=n("17936"),g=function(e){var t=e.visible,n=e.title,g=e.hasCancel,v=e.presetOptions,p=e.onHide,h=e.onSubmit,m=e.reportSuccess,_=e.successTitle,x=e.successSubTitle,b=e.doneText,k=(0,d.useChat)().getPopupContainer,C=(0,r._)((0,o.useState)(),2),S=C[0],w=C[1];return m?(0,i.jsx)(c.UIKitModal,{visible:t,footer:null,header:null,className:f["report-modal"],style:{height:Math.min((null!=S?S:0)+98,600)},getPopupContainer:k,children:(0,i.jsxs)("div",{className:f.success,children:[(0,i.jsxs)("div",{className:f["content-wrapper"],children:[(0,i.jsx)(u.ReportSuccessIcon,{}),(0,i.jsx)("div",{className:f.title,children:_}),(0,i.jsx)("div",{className:f["sub-title"],children:x})]}),(0,i.jsx)(s.Button,{theme:"solid",type:"primary",className:f.btn,onClick:p,children:b})]})}):(0,i.jsx)(c.UIKitModal,{visible:t,title:n,onCancel:function(){return p()},hasCancel:g,footer:null,className:f["report-modal"],getPopupContainer:k,children:(0,i.jsx)(a.Resizing,{onResize:function(e){w(e.current.height)},children:function(e){return(0,i.jsx)("div",{className:f["list-wrapper"],ref:e,children:(0,i.jsx)(s.List,{className:f.list,bordered:!0,dataSource:v,renderItem:function(e){return(0,i.jsx)(s.List.Item,{main:(0,i.jsx)("div",{children:e.display_content}),extra:(0,i.jsx)(l.default,{className:f.right}),onClick:function(){var t;return h(null!==(t=Number(e.id))&&void 0!==t?t:0)}})}})})}})})}},69278:function(e,t,n){"use strict";n.d(t,{default:function(){return d}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458"),l=n("87608"),c=n.n(l),u=n("47447");function d(e){var t,n=e.theme,l=void 0===n?"default":n,d=e.icon,f=e.onClick,g=e.title,v=e.className,p=e.maxWidth,h=(0,a._)(e,["theme","icon","onClick","title","className","maxWidth"]);return(0,s.jsxs)("div",(0,o._)((0,i._)({},h),{className:c()(u.btn,v,(t={},(0,r._)(t,u["focus-btn"],"focus"===l),(0,r._)(t,u.primary,"primary"===l),(0,r._)(t,u["focus-primary"],"focus-primary"===l),(0,r._)(t,u["no-icon"],!d),t)),onClick:f,children:[d?(0,s.jsx)("div",{className:u.icon,children:d}):null,(0,s.jsx)("span",{style:{maxWidth:void 0===p?"auto":p},className:u.title,children:g})]}))}},96440:function(e,t,n){"use strict";n.d(t,{Tabs:function(){return f}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458");n("52983");var l=n("87608"),c=n.n(l),u=n("53268"),d=n("12688"),f=function(e){var t=e.theme,n=(0,a._)(e,["theme"]);return(0,s.jsx)(u.Tabs,(0,o._)((0,i._)({},n),{className:c()((0,r._)({},d.flow,"flow"===(void 0===t?"flow":t))),children:e.children}))}},33652:function(e,t,n){"use strict";n.d(t,{ToBottomButton:function(){return l}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("87213"),s=n("4360"),l=function(e){var t=e.onClick,n=e.className,i=e.style;return(0,r.jsx)("div",{className:o()(s.container,n),style:i,onClick:t,children:(0,r.jsx)(a.ReactComponent,{className:s.icon})})}},27202:function(e,t,n){"use strict";n.d(t,{useToast:function(){return s}});var r=n("9161"),i=n("16044"),o=n("53268"),a=n("3461"),s=function(){var e=(0,a.useChat)(),t=e.toastConfig,n=e.getPopupContainer;return t?t:{success:function(e,t){return o.Toast.success((0,i._)((0,r._)({},t),{content:e,showClose:!1,getPopupContainer:n}))},error:function(e,t){return o.Toast.error((0,i._)((0,r._)({},t),{content:e,showClose:!1,getPopupContainer:n}))},info:function(e,t){return o.Toast.info((0,i._)((0,r._)({},t),{content:e,showClose:!1,getPopupContainer:n}))},warning:function(e,t){return o.Toast.warning((0,i._)((0,r._)({},t),{content:e,showClose:!1,getPopupContainer:n}))}}}},16269:function(e,t,n){"use strict";n.d(t,{UIKitModal:function(){return u}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("52983"),l=n("53268"),c=n("3461"),u=(0,s.forwardRef)(function(e,t){var n=e.getPopupContainer,s=(0,o._)(e,["getPopupContainer"]),u=(0,c.useChat)({optionalProvider:!0}).getPopupContainer;return(0,a.jsx)(l.Modal,(0,i._)((0,r._)({ref:t},s),{getPopupContainer:void 0===u?n:u}))})},11054:function(e,t,n){"use strict";n.d(t,{UIKitPopover:function(){return c}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("2628"),l=n("3461"),c=function(e){var t=e.getPopupContainer,n=(0,o._)(e,["getPopupContainer"]),c=(0,l.useChat)({optionalProvider:!0}).getPopupContainer;return(0,a.jsx)(s.PopoverI18n,(0,i._)((0,r._)({},n),{getPopupContainer:void 0===c?t:c}))}},6490:function(e,t,n){"use strict";n.d(t,{UIKitTooltip:function(){return u}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("52983"),l=n("53268"),c=n("3461"),u=(0,s.forwardRef)(function(e,t){var n=e.getPopupContainer,s=e.style,u=(0,o._)(e,["getPopupContainer","style"]),d=(0,c.useChat)({optionalProvider:!0}).getPopupContainer;return(0,a.jsx)(l.Tooltip,(0,i._)((0,r._)({ref:t,showArrow:!1,arrowPointAtCenter:!0,spacing:12,style:(0,r._)({borderRadius:"6px",background:"#242424",padding:"5px 10px"},s)},u),{getPopupContainer:void 0===d?n:d}))})},91064:function(e,t,n){"use strict";n.d(t,{AnswerActionButton:function(){return x}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("40509"),l=n("97458"),c=n("52983"),u=n("2301"),d=n("87608"),f=n.n(d),g=n("78597"),v=n("53268"),p=n("6490"),h=n("78004"),m=n("11973"),_=function(){var e=function(){return(0,u.default)()},t=(0,s._)((0,c.useState)(e),2),n=t[0],r=t[1];return{key:n,reset:function(){return r(e())}}},x=(0,c.forwardRef)(function(e,t){var n,s=e.icon,u=e.tooltipText,d=e.disabled,x=e.onClick,b=e.className,k=e.textContent,C=e.children,S=e.style,w=e.type,y=void 0===w?"button":w,I=e.tooltipProps,M=e.size,T=e.background,R=e.color,E=void 0===R?"black":R,j=e.hoverColor,B=void 0===j?"none":j,L=e.activeColor,N=void 0===L?"none":L,A=e.withPadding,F=e.hoverable,P=(0,a._)(e,["icon","tooltipText","disabled","onClick","className","textContent","children","style","type","tooltipProps","size","background","color","hoverColor","activeColor","withPadding","hoverable"]),O=(0,h.useOptionalBaseSlots)().Tooltip,D=void 0===O?p.UIKitTooltip:O,H=_(),q=H.key,W=H.reset;if("dropdown"===y)return(0,l.jsx)(v.Dropdown.Item,{className:f()(m["dropdown-item"],m["color-".concat(E)]),icon:s,onClick:x,children:u||k});var z=null!=C?C:(0,l.jsx)(v.Button,(0,o._)((0,i._)({},P),{ref:t,style:S,icon:s,disabled:d,className:f()(m["answer-action-button"],m["size-".concat(void 0===M?"large":M)],m["background-".concat(void 0===T?"white":T)],m["color-".concat(E)],"none"!==B&&m["hover-color-".concat(B)],"none"!==N&&m["active-color-".concat(N)],b,(n={},(0,r._)(n,m.mobile,(0,g.isMobile)()),(0,r._)(n,m.hoverable,void 0!==F&&F),(0,r._)(n,m.disabled,d),(0,r._)(n,m["with-padding"],void 0!==A&&A),n)),onClick:function(){null==x||x(),W()},children:k}));return"button"===y?d||!u?(0,l.jsx)(l.Fragment,{children:z}):(0,c.createElement)(D,(0,o._)((0,i._)({},I),{key:q,content:u}),z):null})},70469:function(e,t,n){"use strict";n.d(t,{ChatInputIconButton:function(){return f}});var r=n("83316"),i=n("97458"),o=n("2945"),a=n("87608"),s=n.n(a),l=n("6490"),c=n("8407"),u=n("78004"),d=n("40143"),f=function(e){var t=e.type,n=void 0===t?"image":t,a=e.disabled,f=void 0!==a&&a,g=e.onClick,v=e.addImageTitle,p=e.addFileTitle,h=(0,u.useOptionalBaseSlots)().Tooltip,m=void 0===h?l.UIKitTooltip:h,_="image"===n?v:p,x="image"===n?c.UploadImageIcon:c.UploadFileIcon,b=(0,i.jsx)("div",{className:s()(d["chat-input-icon"],(0,r._)({},d["chat-input-icon__disabled"],f)),children:(0,i.jsx)("div",{"data-testid":"upload_file_button",className:d["chat-input-icon-area"],onClick:f?o.default:g,children:(0,i.jsx)(x,{className:"block"})})});return _&&!f?(0,i.jsx)(m,{content:_,position:"top",children:b}):b}},76572:function(e,t,n){"use strict";n.d(t,{EditingMessageBoxUI:function(){return p}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("52983"),s=n("87608"),l=n.n(s),c=n("78597"),u=n("58936"),d=n("53268"),f=n("93502"),g=n("8407"),v=n("36673"),p=function(e){var t=e.onCancel,n=e.onSubmit,s=e.defaultValue,p=e.disabled,h=e.className,m=(0,f.useTextArea)({onSubmit:n,defaultValue:s,allowEmpty:!0}),_=m.textAreaRef,x=m.textAreaProps,b=m.submit;return(0,a.useEffect)(function(){if(!(0,c.getIsMobileOrIPad)()){var e;null===(e=_.current)||void 0===e||e.focus(),setTimeout(function(){if(_.current){var e=x.value.length;_.current.selectionStart=e,_.current.selectionEnd=e}},0)}},[]),(0,o.jsxs)("div",{className:l()(v.wrapper,h),"data-testid":"editing_message_content",children:[(0,o.jsx)("div",{className:v["close-btn"],onClick:t,"data-testid":"editing_message_content_cancel",children:(0,o.jsx)(g.SkillHeaderCloseIcon,{})}),(0,o.jsx)(u.TextAreaI18n,(0,i._)((0,r._)({ref:_},x),{className:v.input,rows:1,autosize:!0,"data-testid":"editing_message_content_input"})),(0,o.jsx)(d.Button,{disabled:p,theme:"solid",onClick:function(){return b()},className:v["send-btn"],icon:(0,o.jsx)(g.ArrowUpCircleIcon,{color:"white"}),"data-testid":"editing_message_content_confirm"})]})}},77243:function(e,t,n){"use strict";n.d(t,{Image:function(){return l}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("8407"),s=n("33471"),l=function(e){var t=e.src,n=(0,r._)((0,o.useState)(""),2),l=n[0],c=n[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{className:s["index-icon"],onLoad:function(){t&&c(t)},src:t,alt:"",style:{display:"none"}}),l&&(0,i.jsx)("img",{className:s["index-icon"],src:l,alt:""}),!l&&(0,i.jsx)(a.DefaultIndexIcon,{className:s["index-icon"]})]})}},69070:function(e,t,n){"use strict";n.d(t,{IndexBlock:function(){return l}});var r=n("97458"),i=n("59574"),o=n("78493"),a=n("77243"),s=n("33471"),l=function(e){var t=e.metaInfoList,n=void 0===t?[]:t,l=e.onIndexLinkClick;return(0,i.default)(n)?null:(0,r.jsx)("div",{className:s.wrapper,children:(0,o.default)(n,function(e){return e.info.insert_text}).map(function(e,t){var n=e.info;return(0,r.jsxs)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:s["index-wrapper"],onClick:function(){l&&l("footnote_link_click")},children:[(0,r.jsx)(a.Image,{src:n.icon}),(0,r.jsx)("span",{className:s["index-name"],children:n.website_name})]},t)})})}},78660:function(e,t,n){"use strict";n.d(t,{Thinking:function(){return m}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("62920"),l=n("53277"),c=n("87575"),u=n("4899"),d=n("41249"),f=n("83480"),g=n("8407"),v=n("3461"),p=n("94042"),h=function(e){var t=e.children,n=(0,o._)(e,["children"]);return(0,a.jsxs)("div",(0,i._)((0,r._)({},n),{className:p["thinking-box"],children:[(0,a.jsx)(g.LoadingInThinkingIcon,{}),t]}))},m=function(e){var t=e.conversationId,n=e.messageLink,r=(0,v.useChat)(),i=r.t,o=r.enableMessageDebug,g=(0,s.useChatStore)(function(e){var r=(0,l.getMessageFromStore)(t,n,e),a=(0,c.isMessageFailed)(r),s=(0,c.isInSearchLoading)(r),d=null==r?void 0:r.contentObj;return{isFailed:a,inSearchLoading:s,content:(0,u.getMessageText)(r,o,i("chat_unsupported_message_type")),contentObj:d}}),p=g.isFailed,m=g.inSearchLoading,_=g.content,x=g.contentObj;return p?(0,a.jsx)(d.DotFlashing,{disabled:!0,"data-testid":"message_thinking"}):m?(0,a.jsx)(f.InSearchLoading,{data:x,"data-testid":"message_thinking"}):_?(0,a.jsx)(h,{"data-testid":"message_thinking",children:_}):(0,a.jsx)(d.DotFlashing,{"data-testid":"message_thinking"})}},76121:function(e,t,n){"use strict";n.d(t,{MessageBlockErrorFallback:function(){return a}});var r=n("97458"),i=n("8407"),o=n("46577"),a=function(e){var t=e.resetErrorBoundary;return(0,r.jsx)("div",{className:o["message-error-fallback"],onClick:function(){t()},children:(0,r.jsx)(i.IconRefresh,{className:o["message-error-refresh"]})})}},28604:function(e,t,n){"use strict";n.d(t,{MessageCardListItemPlaceholder:function(){return k},SearchResultContentUI:function(){return C}});var r=n("83316"),i=n("40509"),o=n("6462"),a=n("97458"),s=n("52983"),l=n("24682"),c=n("69581"),u=n("87608"),d=n.n(u),f=n("78597"),g=n("9407"),v=n("41294"),p=n("43461"),h=n("65400"),m=n("6124"),_=n("3461"),x=n("15487"),b={full:1,half:.5,oneThird:.33},k=function(){return(0,a.jsx)("div",{className:x["suspense-placeholder"]})},C=function(e){var t=e.data,n=e.onTrackEvent,u=e.inView,k=e.defaultExpand,C=(0,_.useChat)({optionalProvider:!0}).t,S=(0,f.useResizeObserver)(),w=S.ref,y=S.width,I=(0,s.useRef)(0),M=(0,i._)((0,s.useState)(!1),2),T=M[0],R=M[1],E=(0,s.useMemo)(function(){var e,n,r,i,a=(null==t?void 0:t.search_result)||{},s=a.text_card,u=a.video_card,d=(null==t?void 0:t.query_params)||{},f=d.text_card,g=d.video_card,v=(0,o._)((null==f?void 0:null===(e=f.map(function(e){return e.query}))||void 0===e?void 0:e.filter(l.default))||[]).concat((0,o._)((null==g?void 0:null===(n=g.map(function(e){return e.query}))||void 0===n?void 0:n.filter(l.default))||[])),p=(0,o._)((null==s?void 0:null===(r=s.card_list)||void 0===r?void 0:r.map(function(e){var t;return{title:e.title||"",site_name:e.sitename||"",logo_url:e.logo_url||"",url:e.url||"",card_type:"text",search_id:null!==(t=null==f?void 0:f[0].search_id)&&void 0!==t?t:""}}).filter(c.default))||[]).concat((0,o._)((null==u?void 0:null===(i=u.card_list)||void 0===i?void 0:i.map(function(e){var t;return{title:e.video_captions||"",site_name:e.source_app_name||"",logo_url:e.source_app_icon||"",url:"".concat(m.DOUYIN_VIDEO_SITE).concat(e.item_id)||"",card_type:"video",search_id:null!==(t=null==g?void 0:g[0].search_id)&&void 0!==t?t:""}}).filter(c.default))||[])),h=Math.ceil(p.length/3);return{keywords:(0,o._)(new Set(v)),sources:p,row:h>=2?2:h}},[t]),j=E.sources,B=E.keywords,L=E.row,N=(0,s.useMemo)(function(){var e=j.length;if(y&&y>=460)return Math.ceil(e/3)>2?{col:Math.ceil(e/2),maxCardsShowInOneRow:b.oneThird}:{col:3,maxCardsShowInOneRow:b.oneThird};if(y&&y<460&&y>=310)return Math.ceil(e/2)>2?{col:Math.ceil(e/2),maxCardsShowInOneRow:b.half}:{col:2,maxCardsShowInOneRow:b.half};return e>3?{col:Math.ceil(e/2),maxCardsShowInOneRow:b.full}:{col:length,maxCardsShowInOneRow:b.full}},[y,j]),A=N.col,F=N.maxCardsShowInOneRow;return(0,s.useEffect)(function(){u&&T?I.current=Date.now():0!==I.current&&(n("search_result_viewduration",{duration:String(Date.now()-I.current)}),I.current=0)},[u,T]),(0,s.useEffect)(function(){n("search_content_show",{})},[]),(0,a.jsx)("div",{ref:w,style:{position:"relative",cursor:"pointer",marginTop:"4px"},children:(0,a.jsxs)(h.SearchResultCollapse,{title:C("search_results_based_on",{postProcess:"sprintf",sprintf:[j.length]}),expand:k,sources:j,onSearchResultExpandChange:function(e){R(e)},onClick:n,children:[(0,a.jsx)(v.SearchStepItem,{className:"pt-12",title:C("search_process_indicator_understanding")}),(0,a.jsx)(v.SearchStepItem,{title:C("search_process_indicator_search_web"),children:(0,a.jsx)(v.SearchKeywords,{keywords:B})}),(0,a.jsx)(v.SearchStepItem,{title:C("search_process_indicator_found_sources",{postProcess:"sprintf",sprintf:[j.length]}),children:(0,a.jsx)("div",{className:x["search-source-content"],children:(0,a.jsx)(g.Carousel,{rows:L,column:A,scrollStep:F,enableArrowShalldow:!1,leftArrowClassName:x["search-sources-left-arrow"],rightArrowClassName:x["search-sources-right-arrow"],children:j.map(function(e,t){var i,o,s;return(0,a.jsx)("div",{className:x["search-source-grid-col"],children:(0,a.jsx)(p.SearchSourceCard,{style:{width:"".concat(y&&y>460?Math.floor(y*F*.93):150,"px")},className:d()("m-w-205 m-w-150",(0,r._)({},x["search-source-card-first-card-in-row"],1===(i=t+1)||2===L&&i===Math.ceil(j.length/2)+1||!1),(0,r._)({},x["search-source-card-last-card-in-row"],(o=t+1)===j.length||2===L&&o===Math.ceil(j.length/2)||!1)),index:t+1,source:e,currentRow:(s=t+1,1===L?1:s>Math.ceil(j.length/2)?2:1),maxCardCountInOneRow:Math.ceil(j.length/2),onTrackEvent:n})},t)})})})})]})})}},83480:function(e,t,n){"use strict";n.d(t,{InSearchLoading:function(){return p}});var r,i=n("9161"),o=n("16044"),a=n("89334"),s=n("40509"),l=n("97458"),c=n("52983"),u=n("41294"),d=n("8407"),f=n("3461"),g=n("15487");var v=((r={}).UnderStanding="understanding",r.SearchingWeb="searching_web",r),p=function(e){var t=e.data,n=(0,a._)(e,["data"]),r=(0,f.useChat)().t,p=(0,s._)((0,c.useState)(v.UnderStanding),2),h=p[0],m=p[1];return(0,c.useEffect)(function(){setTimeout(function(){m(v.SearchingWeb)},500*Math.random()+700)},[]),(0,l.jsxs)("div",(0,o._)((0,i._)({},n),{className:g["search-loading"],children:[(0,l.jsxs)("div",{className:g["search-loading-header"],children:[(0,l.jsxs)("span",{className:g["search-loading-header-title"],children:[(0,l.jsx)(d.SearchResultLoadingIcon,{}),(0,l.jsx)("span",{children:r("search_progress_title","\u641C\u7D22\u4E2D")})]}),(0,l.jsx)("div",{className:g["search-loading-header-divider"]})]}),(0,l.jsx)(u.SearchStepItem,{className:"pt-12",status:h===v.UnderStanding?"in_doing":"finish",title:r("search_process_indicator_understanding","\u7406\u89E3\u95EE\u9898\u4E2D")}),h===v.SearchingWeb?(0,l.jsx)(u.SearchStepItem,{status:"in_doing",title:r("search_process_indicator_search_web"),children:(0,l.jsx)(u.SearchKeywords,{keywords:[t.text]})}):null]}))}},65400:function(e,t,n){"use strict";n.d(t,{SearchResultCollapse:function(){return g}});var r=n("83316"),i=n("40509"),o=n("97458"),a=n("14670"),s=n("52983"),l=n("87608"),c=n.n(l),u=n("62798"),d=n("8407"),f=n("15487"),g=function(e){var t,n=e.title,l=e.children,g=e.sources,v=e.onClick,p=e.onSearchResultExpandChange,h=e.expand,m=(0,i._)((0,s.useState)(h),2),_=m[0],x=m[1];return(0,s.useEffect)(function(){x(h)},[h]),(0,o.jsxs)("div",{className:f["search-result-collapse"],children:[(0,o.jsxs)("div",{className:f["search-result-collapse-header"],onClick:function(){null==v||v("search_expand_click",{click_afterstatus:!_}),p(!_),x(!_)},children:[(0,o.jsxs)("span",{className:f["search-result-collapse-header-title"],"data-color":_?"open":"close",children:[_?(0,o.jsx)(d.SearchResultLoadingIcon,{}):(0,o.jsx)(d.SearchResultLoadingDarkIcon,{}),n]}),(0,o.jsx)(u.SearchSourceShortcuts,{sources:g,visible:!_}),(0,o.jsx)("div",{className:f["search-result-collapse-header-divider"]}),(0,o.jsx)("div",{className:f["search-result-collapse-header-content"],children:(0,o.jsx)(d.ExpandArrowIcon,{className:c()((t={},(0,r._)(t,f["search-result-collapse-header-expand-icon"],!0),(0,r._)(t,f["transform-180"],!_),t))})})]}),(0,o.jsx)(a.default,{in:_,addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},onEnter:function(e){e.style.height="0",e.style.display="block"},onEntering:function(e){e.style.height="".concat(e.scrollHeight,"px")},onEntered:function(e){e.style.height="auto"},onExit:function(e){e.style.height="auto",e.style.display="block",e.style.height="".concat(e.offsetHeight,"px"),e.offsetHeight},onExiting:function(e){e.style.height="0"},onExited:function(e){e.style.display="none",e.style.height="auto"},children:(0,o.jsx)("div",{className:f["search-result-collapse-content"],"data-opened":_?"open":"close",children:l})})]})}},43461:function(e,t,n){"use strict";n.d(t,{SearchSourceCard:function(){return u}});var r=n("40509"),i=n("97458"),o=n("28377"),a=n("52983"),s=n("87608"),l=n.n(s),c=n("15487"),u=function(e){var t=e.index,n=e.source,s=e.className,u=e.style,d=e.currentRow,f=e.maxCardCountInOneRow,g=e.onTrackEvent,v=(0,r._)((0,o.useInView)({triggerOnce:!0,initialInView:!1,threshold:1}),2),p=v[0],h=v[1];return(0,a.useEffect)(function(){h&&g("search_singlecard_show",{prompt_position_row:d,prompt_position:d>1?t-f:t,site_name:n.site_name,url:n.url,logo_url:n.logo_url,title:n.title,search_type:n.card_type,search_id:n.search_id})},[h]),(0,i.jsx)("a",{className:l()(s,c["search-source-card"]),href:n.url,style:u,target:"_blank",rel:"noreferrer noopener",ref:p,onClick:function(){g("search_singlecard_click",{prompt_position_row:d,prompt_position:d>1?t-f:t,site_name:n.site_name,url:n.url,logo_url:n.logo_url,title:n.title,search_type:n.card_type,search_id:n.search_id})},children:(0,i.jsxs)("div",{className:c["search-source-card-content"],children:[(0,i.jsx)("div",{className:c["search-source-card-content-title"],children:n.title}),(0,i.jsxs)("div",{className:c["search-source-card-content-footer"],children:[n.logo_url?(0,i.jsx)("img",{className:c["search-source-card-content-footer-icon"],src:n.logo_url}):null,(0,i.jsx)("span",{className:c["search-source-card-content-footer-site-name"],children:"".concat(n.site_name," \xb7 ").concat(t)})]})]})})}},62798:function(e,t,n){"use strict";n.d(t,{SearchSourceShortcuts:function(){return d}});var r=n("83316"),i=n("97458");n("52983");var o=n("83306"),a=n("23813"),s=n("42495"),l=n("87608"),c=n.n(l),u=n("15487"),d=function(e){var t,n=e.sources,l=e.visible,d=(0,o.default)((0,a.default)((0,s.default)(n).map(function(e){return e.logo_url}).filter(function(e){return!!e})));return(0,i.jsx)("span",{className:c()((t={},(0,r._)(t,u["search-source-shortcuts"],!0),(0,r._)(t,u["search-source-shortcuts-hide"],!(void 0!==l&&l)),t)),children:d.map(function(e,t){return(0,i.jsx)("img",{className:u["search-source-shortcuts-icon"],src:e},t)})})}},41294:function(e,t,n){"use strict";n.d(t,{SearchKeywords:function(){return u},SearchStepItem:function(){return c}});var r=n("83316"),i=n("97458");n("52983");var o=n("8407"),a=n("87608"),s=n.n(a),l=n("15487"),c=function(e){var t=e.color,n=e.title,a=e.className,c=e.status,u=e.subTitle,d=e.children,f=void 0===d?null:d,g={in_doing:(0,i.jsx)(o.LoadingInThinkingIcon,{style:{marginTop:"-2px"}}),finish:(0,i.jsx)(o.CirclePointIcon,{})};return(0,i.jsxs)("div",{className:l["search-step-item"],"data-color":void 0===t?"black":t,children:[(0,i.jsxs)("div",{className:s()(l["search-step-item-header"],a,(0,r._)({},l["search-step-item-header-with-child"],null!==f)),children:[(0,i.jsx)("span",{className:l["search-step-item-header-point-icon"],children:g[void 0===c?"finish":c]}),(0,i.jsx)("span",{className:l["search-step-item-header-title"],children:n}),(0,i.jsx)("span",{className:l["search-step-item-header-sub-title"],children:void 0===u?null:u})]}),(0,i.jsx)("div",{className:l["search-step-item-content"],children:f})]})},u=function(e){var t=e.keywords;return(0,i.jsx)("div",{className:l["search-keywords"],children:t.map(function(e,t){return(0,i.jsx)("div",{className:l["search-keywords-content"],children:e},t)})})}},40240:function(e,t,n){"use strict";n.d(t,{UploadButton:function(){return a}});var r=n("97458"),i=n("52983"),o=n("70469"),a=function(e){var t=e.type,n=e.accept,a=e.disabled,s=e.onClick,l=e.onFileChange,c=e.addImageTitle,u=e.addFileTitle,d=(0,i.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.ChatInputIconButton,{type:t,disabled:void 0!==a&&a,onClick:function(e){d.current&&(null==s||s(),d.current.value="",d.current.click()),e.stopPropagation()},addImageTitle:c,addFileTitle:u}),(0,r.jsx)("input",{ref:d,className:"hidden",multiple:!1,type:"file",accept:void 0===n?"":n,onChange:l})]})}},78004:function(e,t,n){"use strict";n.d(t,{BaseSlotsProvider:function(){return d},FlowChatPage:function(){return p},useBaseSlots:function(){return g},useOptionalBaseSlots:function(){return v}});var r=n("9161"),i=n("89334"),o=n("97458"),a=n("52983"),s=n("50013"),l=n("61550"),c=n("50966"),u=(0,a.createContext)(null),d=u.Provider,f=(0,a.createContext)({});f.Provider;var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultWithOverride,n=(0,a.useContext)(u),r=(0,a.useContext)(f);if(!n)throw Error("Except BaseSlotsProvider when use useBaseSlots");return void 0===t||t?(0,s.default)(r,n):n},v=function(){var e=(0,a.useContext)(u),t=(0,a.useContext)(f);return(0,s.default)(t,e)},p=(0,a.forwardRef)(function(e,t){var n=e.bizSlots,s=e.baseSlots,u=(0,i._)(e,["bizSlots","baseSlots"]),f=(0,a.useMemo)(function(){return(0,c.composeSlotsToRootPage)({slots:n})},(0,l.default)(n)),g=(0,a.useMemo)(function(){return s},(0,l.default)(s));return(0,o.jsx)(d,{value:g,children:(0,o.jsx)(f,(0,r._)({ref:t},u))})})},18673:function(e,t,n){"use strict";n.d(t,{composeSlotsToMessageList:function(){return d}});var r=n("67239"),i=n("31710"),o=n("28052"),a=n("14069"),s=n("4121"),l=n("40280"),c=n("15105"),u=n("78882"),d=function(e){var t=e.slots,n=t.FlowAnswerActionButton,d=t.CustomAnswerActionModelContent,f=t.FeedbackModalBase,g=t.MessageSendTextContent,v=t.MessageSendImageContent,p=t.MessageSendActionBarContent,h=t.EditingMessageBox,m=t.MessageVideoContent,_=t.MessageTextContent,x=t.MessageMusicContent,b=t.MessageImageContent,k=t.MessageCardContent,C=t.SearchResultContent,S=t.MessageBotCardContent,w=t.MessageListLoadMore,y=t.InnerAfterMessageList,I=t.SectionDivider,M=t.MoreActionButton,T=t.AnswerActionsBar,R=t.BaseMessageBox,E=t.BaseReceiveMessageBox,j=t.BaseSendMessageBox,B=t.MessageBlockErrorFallback,L=t.MessageBox,N=t.MessageBoxLoading,A=t.MessageBoxThinking,F=t.ReceiveMessageBox,P=t.SendMessageBox,O=t.SuggestMessageList,D=t.LargeAvatar,H=t.MessageBefore,q=t.MessageList,W=t.CrowdTestBlock,z=t.MessageBlock,V=(0,r.createBizWithSlots)(n,{}),U=(0,r.createBizWithSlots)(M,{FlowAnswerActionButtonSlot:V}),K=(0,r.createBizWithSlots)(T,{MoreActionButtonSlot:U,FlowAnswerActionButtonSlot:V}),G=(0,r.createBizWithSlots)(N,{}),Q=(0,r.createBizWithSlots)(O,{}),Y=(0,r.createBizWithSlots)(R,{AnswerActionsBarSlot:K,LoadingSlot:G,ThinkingSlot:A,SuggestMessageListSlot:Q,FeedbackModalBaseSlot:f,CustomAnswerActionModelContentSlot:d}),J=(0,r.createBizWithSlots)(j,{BaseMessageBoxSlot:Y}),X=(0,r.createBizWithSlots)(P,{BaseSendMessageBoxSlot:J,EditingMessageBoxSlot:h,MessageSendTextContentSlot:g,MessageSendTemplateContentSlot:i.MessageSendTemplateContent,MessageSendImageContentSlot:v,MessageSendFileContentSlot:o.MessageSendFileContent,MessageSendActionBarContentSlot:p,MessageSendCompositeSlot:a.MessageSendCompositeContent,MessageSendQuoteContentSlot:s.MessageSendQuoteContent,MessageSendWritingOrImageSkillSlot:l.MessageSendWritingOrImageSkillContent,MessageSendReadPDFSkillWithLinkContentSlot:c.MessageSendReadPDFSkillWithLinkContent,MessageSendReadWebsiteSkillContentSlot:u.MessageSendReadWebsiteSkillContent}),Z=(0,r.createBizWithSlots)(E,{BaseMessageBoxSlot:Y}),$=(0,r.createBizWithSlots)(_,{}),ee=(0,r.createBizWithSlots)(x,{}),et=(0,r.createBizWithSlots)(b,{}),en=(0,r.createBizWithSlots)(k,{}),er=(0,r.createBizWithSlots)(C,{}),ei=(0,r.createBizWithSlots)(m,{}),eo=(0,r.createBizWithSlots)(S,{}),ea=(0,r.createBizWithSlots)(F,{BaseReceiveMessageBoxSlot:Z,MessageTextContentSlot:$,MessageMusicContentSlot:ee,MessageImageContentSlot:et,MessageCardContentSlot:en,SearchResultContentSlot:er,MessageVideoContentSlot:ei,MessageBotCardContentSlot:eo}),es=(0,r.createBizWithSlots)(L,{SendMessageBoxSlot:X,ReceiveMessageBoxSlot:ea}),el=(0,r.createBizWithSlots)(W,{MessageTextContentSlot:$}),ec=(0,r.createBizWithSlots)(z,{CrowdTestBlockSlot:el,MessageBoxSlot:es,MessageBlockErrorFallbackSlot:B}),eu=(0,r.createBizWithSlots)(w,{});return(0,r.createBizWithSlots)(q,{MessageBlockSlot:ec,LoadMoreSlot:eu,InnerAfterMessageListSlot:null!=y?y:null,SectionDividerSlot:I,MessageBeforeSlot:null!=H?H:null,LargeAvatarSlot:D})}},50966:function(e,t,n){"use strict";n.d(t,{composeSlotsToRootPage:function(){return g}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("52983"),l=n("18673"),c=n("67239"),u=n("3461"),d=n("65128"),f=function(e){var t=(0,s.forwardRef)(function(t,n){var l=t.children,c=(0,o._)(t,["children"]),f=(0,s.useRef)(null),g=(0,s.useRef)(null),v=(0,s.useRef)(null),p=(0,s.useRef)(null),h=(0,s.useRef)(null);return(0,a.jsx)(u.ChatProvider,(0,i._)((0,r._)({},c),{scrollRef:f,chatInputRef:g,chatViewRef:v,chatDropTargetRef:p,chatPageTargetRef:h,children:(0,a.jsx)(d.DebugMessageProvider,{children:(0,a.jsx)(e,{ref:n,children:l})})}))});return t.displayName="ChatProviderWrappered".concat(e.displayName||e.name),t},g=function(e){var t=e.slots,n=t.ChatView,r=t.ChatPage,i=t.UploadButton,a=t.UploadButtonGroup,s=t.ChatTemplateBar,u=t.ChatInput,d=t.ChatFooter,g=t.ChatFooterDisabledTips,v=t.ChatFooterAction,p=t.OgfButton,h=t.ChatHeader,m=t.ErrorFallback,_=t.ChatFooterDisclaimer,x=t.ChatPageEmptySkeleton,b=t.ChatInputImage,k=t.ChatInputFile,C=t.AttachmentArea,S=(0,o._)(t,["ChatView","ChatPage","UploadButton","UploadButtonGroup","ChatTemplateBar","ChatInput","ChatFooter","ChatFooterDisabledTips","ChatFooterAction","OgfButton","ChatHeader","ErrorFallback","ChatFooterDisclaimer","ChatPageEmptySkeleton","ChatInputImage","ChatInputFile","AttachmentArea"]),w=(0,l.composeSlotsToMessageList)({slots:S}),y=(0,c.createBizWithSlots)(n,{MessageListSlot:w}),I=(0,c.createBizWithSlots)(a,{UploadButtonSlot:i}),M=(0,c.createBizWithSlots)(C,{ChatInputImageSlot:b,ChatInputFileSlot:k}),T=(0,c.createBizWithSlots)(u,{UploadButtonGroupSlot:I,OgfButtonSlot:null!=p?p:null,AttachmentAreaSlot:M}),R=(0,c.createBizWithSlots)(s,{TopActionSlot:p}),E=(0,c.createBizWithSlots)(d,{ChatInputSlot:T,ChatTemplateBarSlot:R,ChatFooterActionSlot:null!=v?v:null,ChatFooterDisclaimerSlot:_,ChatFooterDisableTipSlot:g});return f((0,c.createBizWithSlots)(r,{ChatViewSlot:y,ChatFooterSlot:E,ChatHeaderSlot:null!=h?h:null,ErrorFallbackSlot:m,ChatPageEmptySkeletonSlot:x}))}},17780:function(e,t,n){"use strict";n.d(t,{supportedSkillType:function(){return i}});var r=n("24815"),i=[r.SkillType.Default,r.SkillType.ImageGeneration,r.SkillType.WriteAssistant,r.SkillType.Search,r.SkillType.Translate,r.SkillType.ReadPDF,r.SkillType.ReadWebsite]},6124:function(e,t,n){"use strict";n.d(t,{DOUYIN_VIDEO_SITE:function(){return r},WritingSkillTemplateType:function(){return i}});var r="https://www.douyin.com/video/",i={Compose:"compose",Reply:"reply"}},93499:function(e,t,n){"use strict";n.d(t,{brandName:function(){return r}});var r="\u8C46\u5305"},6536:function(e,t,n){"use strict";n.d(t,{uploadFileAllowedTypesInSamantha:function(){return s}});var r=n("6462"),i=n("96974"),o=["csv","pdf","txt","xlsx","pptx","docx"],a=(0,r._)(o).concat(["png","jpeg","jpg"]),s=i.isBetaCiciEnv?a:o},67239:function(e,t,n){"use strict";n.d(t,{createBizWithSlots:function(){return s}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("52983"),s=function(e,t){var n=(0,a.forwardRef)(function(n,a){var s=(0,r._)({},n,t);return(0,o.jsx)(e,(0,i._)((0,r._)({},s),{ref:a}))});return n.displayName="".concat(e.displayName||e.name,"ComposedSlots"),n}},7914:function(e,t,n){"use strict";n.d(t,{useFloatAction:function(){return m}});var r=n("9161"),i=n("16044"),o=n("40509"),a=n("6462"),s=n("52983"),l=n("24682"),c=n("3820"),u=n("78597"),d=n("10886"),f=n("7766"),g=n("24077"),v=n("98765"),p=n("88128"),h=function(e){var t=(0,d.useScrollView)().ref,n={placement:"bottom-end",middleware:[(0,f.offset)(function(e){return e.placement.includes("bottom")||e.placement.includes("top")?{mainAxis:-12,crossAxis:14}:{mainAxis:12}}),(0,g.flip)({fallbackPlacements:["bottom-end","top-end"],fallbackAxisSideDirection:"end",boundary:"undefined"==typeof document?t.current?[t.current]:void 0:[t.current||document.body]}),(0,g.shift)({crossAxis:!0,limiter:(0,g.limitShift)(),boundary:"undefined"==typeof document?t.current?[t.current]:void 0:[t.current||document.body]}),{name:"resetPlacement",fn:function(e){var t=e.rects,n=(0,p.getIsWideScreen)()?32:90;if(t.reference){var r=t.reference.width+t.reference.x;try{if(48===t.reference.height&&r+t.floating.width<window.innerWidth)return{reset:{placement:(0,u.isRTL)()?"left":"right"}};if(t.reference.y<n)return{reset:{placement:"bottom-end"}}}catch(e){}}return{}}}]};return"auto"===e?n:(0,l.default)(e)?{placement:e}:(0,c.default)(e)?e(n):e},m=function(e){var t=(0,o._)((0,s.useState)(!1),2),n=t[0],l=t[1],c=h(e),u=(0,v.useFloating)((0,i._)((0,r._)({},c),{open:n,onOpenChange:l,whileElementsMounted:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return g.autoUpdate.apply(void 0,(0,a._)(t).concat([{ancestorScroll:!0}]))}})),d=u.refs,f=u.floatingStyles,p=u.context,m=(0,v.useHover)(p,{restMs:50,handleClose:(0,v.safePolygon)({})}),_=(0,v.useInteractions)([m]);return{floatRefs:d,floatingStyles:f,getFloatReferenceProps:_.getReferenceProps,getFloatingProps:_.getFloatingProps,isFloatOpen:n}}},93334:function(e,t,n){"use strict";n.d(t,{DefaultFlowChatBizSlots:function(){return Y}});var r=n("38861"),i=n("78660"),o=n("76121"),a=n("40240"),s=n("65849"),l=n("89916"),c=n("49176"),u=n("47046"),d=n("92299"),f=n("91605"),g=n("65023"),v=n("45325"),p=n("97523"),h=n("55127"),m=n("53493"),_=n("35555"),x=n("39209"),b=n("8087"),k=n("37708"),C=n("81953"),S=n("42631"),w=n("72525"),y=n("24531"),I=n("18184"),M=n("53127"),T=n("81176"),R=n("74832"),E=n("54438"),j=n("27857"),B=n("54051"),L=n("65720"),N=n("20446"),A=n("54030"),F=n("49767"),P=n("2989"),O=n("76542"),D=n("87793"),H=n("34699"),q=n("72490"),W=n("49545"),z=n("81926"),V=n("30316"),U=n("12087"),K=n("44130"),G=n("77805"),Q=n("47232"),Y={CustomAnswerActionModelContent:c.CustomAnswerActionModelContent,FlowAnswerActionButton:u.FlowAnswerActionButton,SuggestMessageList:d.SuggestMessageList,FeedbackModalBase:r.FeedbackModalBase,MessageBoxThinking:i.Thinking,MessageBoxLoading:f.MessageBoxLoading,MoreActionButton:g.MoreActionButton,AnswerActionsBar:v.AnswerActionsBar,BaseMessageBox:p.BaseMessageBox,MessageSendImageContent:h.MessageSendImageContent,MessageSendTextContent:m.MessageSendTextContent,MessageSendActionBarContent:_.MessageSendActionBarContent,EditingMessageBox:x.EditingMessageBox,BaseSendMessageBox:b.BaseSendMessageBox,SendMessageBox:b.SendMessageBox,MessageTextContent:k.MessageTextContent,MessageMusicContent:C.MessageMusicContent,MessageImageContent:S.MessageImageContent,MessageCardContent:w.MessageCardContent,SearchResultContent:y.SearchResultContent,MessageBotCardContent:I.MessageBotCardContent,MessageVideoContent:M.MessageVideoContent,BaseReceiveMessageBox:T.BaseReceiveMessageBox,ReceiveMessageBox:T.ReceiveMessageBox,SectionDivider:R.SectionDivider,MessageBlockErrorFallback:o.MessageBlockErrorFallback,MessageBox:E.MessageBox,MessageList:j.MessageList,MessageListLoadMore:B.MessageListLoadMore,ChatView:L.ChatView,OgfButton:N.OgfButton,LargeAvatar:A.LargeAvatar,ChatHeader:void 0,ChatFooter:F.ChatFooter,ChatFooterDisclaimer:P.ChatFooterDisclaimer,ChatFooterDisabledTips:O.DisabledInputTips,UploadButton:a.UploadButton,UploadButtonGroup:D.UploadButtonGroup,ChatTemplateBar:H.ChatTemplateBar,ChatInput:q.ChatInput,ErrorFallback:s.ErrorFallback,ChatPageEmptySkeleton:l.ChatSkeleton,ChatPage:W.ChatPage,ChatInputImage:z.ChatInputImage,ChatInputFile:V.ChatInputFile,ChatInputPDFLink:U.ChatInputPDFLink,AttachmentArea:K.AttachmentArea,CrowdTestBlock:G.CrowdTestBlock,MessageBlock:Q.MessageBlock}},82480:function(e,t,n){"use strict";n.d(t,{judgeIsCrowdTestByMessageLink:function(){return o}});var r=n("53277"),i=n("87575");function o(e,t){if(!t)return!1;var n=(0,r.getMessageFromStore)(e,t);return(0,i.isCrowdTestMessage)(n)}},96974:function(e,t,n){"use strict";n.d(t,{isBetaCiciEnv:function(){return r}});var r=!1},65241:function(e,t,n){"use strict";n.d(t,{fileIsImage:function(){return l},useDragOver:function(){return u}});var r=n("40509"),i=n("52983"),o=n("78597"),a=n("10824"),s=n("3461"),l=function(e){var t;return!!e&&e instanceof Blob&&(null===(t=e.type)||void 0===t?void 0:t.indexOf("image"))!==-1},c=function(e,t){var n,r,i,a,s,l,c,u,d,f,g=t||{},v=g.canSendFile,p=void 0!==v&&v,h=g.canSendImage;if(!p&&!h)return!1;if((0,o.isAppleWebkit)())return(null===(s=e.dataTransfer)||void 0===s?void 0:s.types.length)===1&&(null===(l=e.dataTransfer)||void 0===l?void 0:l.types[0])==="Files";var m=(null===(n=e.dataTransfer)||void 0===n?void 0:n.items.length)===1&&(null===(a=e.dataTransfer)||void 0===a?void 0:null===(i=a.items)||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:r.kind)==="file";return!p&&h?m&&(null===(f=e.dataTransfer)||void 0===f?void 0:null===(d=f.items)||void 0===d?void 0:null===(u=d[0])||void 0===u?void 0:null===(c=u.type)||void 0===c?void 0:c.indexOf("image"))!==-1:m},u=function(e){var t=e.closeDelay,n=void 0===t?100:t,o=e.conversationId,l=(0,r._)((0,i.useState)(!1),2),u=l[0],d=l[1],f=((0,s.useChat)().chatViewConfig||{}).chatType,g=(0,a.useBotSendFileEnabled)(o,f),v=(0,a.useBotSendImageEnabled)(o,f);return{isOver:u,divProps:(0,i.useMemo)(function(){var e;return{onDragEnter:function(t){e&&clearTimeout(e),c(t,{canSendFile:g,canSendImage:v})&&d(!0)},onDragOver:function(t){e&&clearTimeout(e),c(t,{canSendFile:g,canSendImage:v})&&(d(!0),t.preventDefault())},onDragLeave:function(t){e&&clearTimeout(e),c(t,{canSendFile:g,canSendImage:v})&&(n?e=window.setTimeout(function(){return d(!1)},n):d(!1))},onDrop:function(t){e&&clearTimeout(e),c(t,{canSendFile:g,canSendImage:v})&&(d(!1),t.preventDefault())}}},[d,n,g])}}},88128:function(e,t,n){"use strict";n.d(t,{getIsWideScreen:function(){return o},useIsNarrowScreen:function(){return a}});var r=n("78597"),i=window.matchMedia("(min-width:880px)").matches,o=function(){return i},a=function(){return(0,r.useMedia)({maxWidth:599})}},55096:function(e,t,n){"use strict";n.d(t,{pauseMusicPlayerByVid:function(){return r}});function r(e){var t,n=window.thirdXgPlayerManager;if(!!e&&!!(null==n?void 0:null===(t=n.playerProperties)||void 0===t?void 0:t.isPlaying))e===(n.currentMusicInfo||{}).vid&&n.requestPlayerHandler().pause()}},95133:function(e,t,n){"use strict";n.d(t,{CiciQuotaAbility:function(){return a},ClickFromAction:function(){return s},useCiciQuotaAbility:function(){return l}});var r,i,o=n("62920");var a=((r={})[r.AskOgf=1]="AskOgf",r[r.SearchWeb=2]="SearchWeb",r);var s=((i={}).answer="answer",i.regenerateBoard="regenerate_board",i),l=function(e,t){var n=(0,o.useChatStore)(function(e){return e.userOgfQuota});if((null==t?void 0:t.bot_type)===void 0)return!1;if(e===a.AskOgf){if((null==n?void 0:n.regenOgf.showRegenOgf)&&n.regenOgf.regenOgfBotList.includes(null==t?void 0:t.bot_type))return(null==t?!void 0:!t.bot_id)||!n.regenOgf.regenOgfBlackList.includes(t.bot_id);return!1}if((null==n?void 0:n.searchWeb.showSearchWeb)&&n.searchWeb.searchBotList.includes(t.bot_type))return(null==t?!void 0:!t.bot_id)||!n.searchWeb.searchBlackList.includes(t.bot_id);return!1}},99521:function(e,t,n){"use strict";n.d(t,{BlockElement:function(){return v}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("6462"),s=n("97458"),l=n("52983"),c=n("35043"),u=n("87608"),d=n.n(u),f=n("27796"),g="auto-hide-last-sibling-br",v=function(e){var t,n=e.node,u=e.renderRest,v=e.style,p=e.className,h=e.children,m=(0,f.useMdBoxSlots)().BreakLine,_=(0,c.attributesToProps)(null!==(t=null==n?void 0:n.attribs)&&void 0!==t?t:{}),x=_.style,b=_.className,k=(0,o._)(_,["style","className"]);return(0,s.jsxs)(s.Fragment,{children:[n&&l.createElement.apply(void 0,[n.name,(0,i._)((0,r._)({},k),{style:(0,r._)({},x,v),className:d()(b,p,g)})].concat((0,a._)(n.children.map(function(e,t){return(0,s.jsx)(l.Fragment,{children:null==u?void 0:u(e)},t)})))),null==h?void 0:h({className:d()(g)}),m&&(0,s.jsx)(m,{})]})}},16905:function(e,t,n){"use strict";n.d(t,{DEFAULT_I18N_TRANSLATE:function(){return r}});var r={copyTitle:"Copy",codeBarLoadingText:"Running",codeBarExpandedFinishedText:"Hide Detail",codeBarUnExpandFinishedText:"Show Detail"}},62652:function(e,t,n){"use strict";n.d(t,{MdBoxI18nProvider:function(){return l},useMdBoxTranslate:function(){return c}});var r=n("52983"),i=n("50013"),o=n("16905"),a=n("5226"),s=(0,r.createContext)(null),l=(0,a.createShallowedProvider)(s),c=function(){var e=(0,r.useContext)(s);if(!e)throw Error("[MdBox Internal Bugs] MdBoxI18nContext Required");var t=(0,i.default)(e,o.DEFAULT_I18N_TRANSLATE);return function(e){return t[e]}}},27796:function(e,t,n){"use strict";n.d(t,{MdBoxSlotsProvider:function(){return l},createMdBoxSlots:function(){return u},useMdBoxSlots:function(){return c}});var r=n("9161"),i=n("97458"),o=n("52983"),a=n("5226"),s=(0,o.createContext)(null),l=(0,a.createShallowedProvider)(s),c=function(){var e=(0,o.useContext)(s);if(!e)throw Error("[MdBox Internal Bugs] MdBoxSlotsContext Required");return e},u=function(e,t){var n=function(n){var o,a=null!==(o=c()[e])&&void 0!==o?o:t;return a?(0,i.jsx)(a,(0,r._)({},n)):null};return n.displayName=e,n}},54489:function(e,t,n){"use strict";n.d(t,{ImageStatus:function(){return i},LinkType:function(){return o}});var r,i=((r={}).Loading="loading",r.Success="success",r.Failed="failed",r),o={wiki:"wiki",normal:"normal",coco:"coco"}},5226:function(e,t,n){"use strict";n.d(t,{createShallowedProvider:function(){return s}});var r=n("97458"),i=n("52983"),o=n("63985"),a=n("46125"),s=function(e){var t=e.Provider;return function(e){var n=e.value,s=e.afterMemoedProcess,l=e.children,c=(0,a.useCustomMemoValue)(n,o.shallowEqual),u=(0,i.useMemo)(function(){return s?s(c):c},[c]);return(0,r.jsx)(t,{value:u,children:l})}}},58270:function(e,t,n){"use strict";n.d(t,{useLazyKatex:function(){return v}});var r=n("92769"),i=n("69420"),o=n("73209"),a=n("40509"),s=n("29048"),l=n("67941"),c=n("26379"),u=n("88802"),d=n("52983"),f=n("34285"),g=function(e){(0,o._)(n,e);var t=(0,c._)(n);function n(e,r,o){var a;return(0,i._)(this,n),(a=t.call(this)).message=e,a.lexer=r,a.position=o,a}return n}((0,l._)(Error)),v=function(){var e=(0,a._)((0,d.useState)(),2),t=e[0],o=e[1],l=(0,d.useCallback)((0,r._)(function(){return(0,u.__generator)(this,function(e){switch(e.label){case 0:if(t)return[2];return[4,(0,f.retryLoad)(function(){return n.e("7394").then(n.bind(n,"35810"))})];case 1:return o(e.sent().default),[2]}})}),[t]),c=(0,d.useMemo)(function(){var e,t,n,r;return t=e=function(){function e(){(0,i._)(this,e)}return e.render=function(){throw l(),new g("DefaultKatex.render has called",{},0)},e.renderToString=function(){throw l(),new g("DefaultKatex.renderToString has called",{},0)},e}(),n="ParseError",r=g,(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,s._)(t))?t:String(t)}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e},[l]);return null!=t?t:c}},13321:function(e,t,n){"use strict";n.d(t,{MdBoxLazy:function(){return h}});var r=n("9161"),i=n("89334"),o=n("97458"),a=n("52983"),s=n("50013"),l=n("7587"),c=n("11224"),u=n("58270"),d=n("21651"),f=n("55851"),g=n("9981"),v=(0,c.withSuspense)(a.lazy(function(){return Promise.all([n.e("4765"),n.e("5530")]).then(n.bind(n,"50813"))}),d.default),p=(0,c.withSuspense)(a.lazy(function(){return Promise.all([n.e("1523"),n.e("2621")]).then(n.bind(n,"33683"))}),f.default),h=(0,a.forwardRef)(function(e,t){var n=e.slots,a=e.autoFixSyntax,c=void 0===a||a,d=(0,i._)(e,["slots","autoFixSyntax"]),f=(0,u.useLazyKatex)();return(0,o.jsx)(g.MdBoxLight,(0,r._)({ref:t,slots:(0,s.default)(void 0===n?{}:n,{Tex:v,CodeBlockHighlighter:p}),autoFixSyntax:c&&(0,r._)({katex:f},(0,l.default)(c)?{}:c)},d))})},11224:function(e,t,n){"use strict";n.d(t,{withSuspense:function(){return a}});var r=n("9161"),i=n("97458"),o=n("52983"),a=function(e,t){var n,a=function(n){return(0,i.jsx)(o.Suspense,{fallback:t&&(0,i.jsx)(t,(0,r._)({},n)),children:(0,i.jsx)(e,(0,r._)({},n))})};return a.displayName=null!==(n=e.displayName)&&void 0!==n?n:null==t?void 0:t.displayName,a}},57159:function(e,t,n){"use strict";n.d(t,{Markdown:function(){return _}});var r=n("89334"),i=n("97458"),o=n("52983"),a=n("12039"),s=n("35043"),l=n("30234"),c=n("18450"),u=n("83897"),d=n("84520"),f=n("38781"),g=n("98124"),v=n("18029"),p=new l.MdboxRenderer,h=new c.MdboxTokenizer;a.marked.use({extensions:[(0,u.insertElementSlotExtension)(),(0,d.inlineTex)(),(0,d.displayTex)()]}),a.marked.setOptions({gfm:!0,silent:!0,smartLists:!0,smartypants:!0,mangle:!0,breaks:!0});var m=function(e){return'<div class="markdown-root">'.concat(e,"</div>")},_=function(e){var t=e.markdown,n=e.smartypants,l=void 0!==n&&n,c=(0,r._)(e,["markdown","smartypants"]),u=(0,g.pipe)(function(e){return(0,a.marked)(e,{tokenizer:h,renderer:p,smartypants:l})},v.purifyHtml,m),d=(0,o.useMemo)(function(){return u(t)},[t]),_=(0,o.useMemo)(function(){return(0,s.default)(d,{replace:function(e){return(0,f.renderCustomNode)(e,c)}})},[d,c]);return(0,i.jsx)(i.Fragment,{children:_})}},56363:function(e,t,n){"use strict";n.d(t,{useHop:function(){return s}});var r=n("52983"),i=n("37903"),o=n("28760"),a=n("61850"),s=function(e){var t=e.onHop,n=e.ast,s=e.text,l=e.getRenderedText,c=(0,r.useRef)(""),u=(0,o.default)(s),d=(0,o.default)(n);(0,r.useLayoutEffect)(function(){var e=c.current,r=l().trim();if(!(0,i.default)(e)&&!(0,i.default)(u)&&!(0,i.default)(d)&&!(0,i.default)(n)&&t&&s.length>u.length&&r.length<e.length){var o=(0,a.getHopDiff)(d,n);if(o){var f=o.prevEndNode,g=o.endNode;t({renderedText:r,prevRenderedText:e,ast:n,prevAst:d,prevEndNode:f,endNode:g,prevEndNodeType:(0,a.convertToStanardNodeTypeEnum)(null==f?void 0:f.type),endNodeType:(0,a.convertToStanardNodeTypeEnum)(null==g?void 0:g.type)})}}c.current=r},[s])}},20222:function(e,t,n){"use strict";n.d(t,{rtlLocaleList:function(){return r}});var r=["ae","aeb","ajt","apc","apd","ar","ara","arb","arc","arq","ars","ary","arz","ave","avl","bal","bcc","bej","bft","bgn","bqi","brh","cja","ckb","cld","dcc","dgl","div","drw","dv","fa","fas","fia","fub","gbz","gjk","gju","glk","grc","gwc","gwt","haz","he","heb","hnd","hno","iw","ji","kas","kby","khw","ks","kvx","kxp","kzh","lad","lah","lki","lrc","luz","mde","mfa","mki","mvy","myz","mzn","nqo","oru","ota","otk","oui","pal","pbu","per","pes","phl","phn","pnb","pra","prd","prs","ps","pus","rhg","rmt","scl","sd","sdh","shu","skr","smp","snd","sog","swb","syr","tnf","trw","ug","uig","ur","urd","wni","xco","xld","xmn","xmr","xna","xpr","xsa","ydd","yi","yid","zdj"]},34285:function(e,t,n){"use strict";n.d(t,{retryLoad:function(){return u},useIsRTL:function(){return g}});var r,i=n("92769"),o=n("40509"),a=n("88802"),s=n("52983"),l=n("20222"),c=n("17039"),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return new Promise(function(r,i){e().then(r).catch(function(o){setTimeout(function(){if(1===t){i(o);return}u(e,t-1,n).then(r,i)},n)})})},d=["code","inlineCode","math","inlineMath"];var f=(r=(0,i._)(function(e){var t,r,i;return(0,a.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),!(t=(0,c.getTextOfAst)(e,{filter:function(e){return!((0,c.isLiteralOfContent)(e)&&d.includes(e.type))&&!0}}).trim().split("\n").at(0)))return[2,!1];return[4,u(function(){return Promise.all([n.e("8798"),n.e("147")]).then(n.bind(n,"6276"))})];case 1:if("und"===(r=(0,i.sent().franc)(t,{minLength:20}))){var o;return[2,(o=t.charAt(0),new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02B8\u0300-\u0590\u0800-\u1FFF\u2C00-\uFB1C\uFDFE-\uFE6F\uFEFD-\uFFFF","]*[").concat("\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC","]")).test(o))]}return[2,l.rtlLocaleList.includes(r)];case 2:return i.sent(),[2,!1];case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),g=function(e){var t=(0,o._)((0,s.useState)(!1),2),n=t[0],r=t[1];return(0,s.useEffect)(function(){e?(0,i._)(function(){return(0,a.__generator)(this,function(t){switch(t.label){case 0:return[4,f(e)];case 1:return r(t.sent()),[2]}})})():r(!1)},[e]),n}},5390:function(e,t,n){"use strict";n.d(t,{useEstablished:function(){return i}});var r=n("52983"),i=function(e){var t=(0,r.useRef)(e);return t.current=t.current||e,t.current}},92664:function(e,t,n){"use strict";n.d(t,{useProcessMarkdown:function(){return o}});var r=n("90260"),i=n("46125"),o=function(e,t){return(0,i.useDeepCompareMemo)(function(){try{return(0,r.processMarkdownForMdbox)(e,t)}catch(t){return{value:e}}},[e,t])}},44583:function(e,t,n){"use strict";n.d(t,{useSmoothText:function(){return p}});var r=n("40509"),i=n("52983"),o=n("50013"),a=n("7587"),s=n("77590"),l=n("24682"),c=n("28760"),u=n("85713"),d=n("5390"),f=1/700/1e3,g=1e3/60*2,v=function(e,t){for(var n=0,r=Math.max(e.length,t.length);n!==r&&n!==r-1;){var i=Math.floor((n+r)/2);e.slice(0,i)===t.slice(0,i)?n=i:r=i}return n},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.default)((0,a.default)(t)?{}:t,{maxFirstTextSmoothSize:1/0,trailingSmooth:!1,enable:!!t}),p=n.maxFirstTextSmoothSize,h=n.trailingSmooth,m=n.enable,_=n.onSmoothFinished,x=n.maxSpeed,b=(0,s.default)(x)&&x>0?x:1/0,k=(0,c.default)(e),C=(0,i.useRef)(e.length<=p?1:e.length),S=(0,d.useEstablished)(m),w=m||S&&h&&C.current<e.length,y=(0,r._)((0,i.useState)(C.current),2),I=y[0],M=y[1],T=(0,i.useRef)(.02),R=(0,i.useRef)(g);return(0,i.useEffect)(function(){!w&&(null==_||_())},[w]),(0,u.default)(function(){if(!(0,l.default)(k)||e.startsWith(k)){var t=Math.max(e.length+(!m&&h?30:0),30)-C.current;T.current=Math.min(Math.max(0,T.current+f*(t-15)*g),b/1e3);var n=g*T.current;C.current=Math.min(e.length,C.current+n)}else{var r=Math.max(1,v(k,e));C.current=r,M(r),T.current=.02,R.current=g}var i=Math.floor(C.current);i>I&&M(i)},w?g:void 0),w?e.slice(0,I):e}},9981:function(e,t,n){"use strict";n.d(t,{MdBoxLight:function(){return B}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("52983"),l=n("50013"),c=n("7587"),u=n("3820"),d=n("87608"),f=n.n(d),g=n("2382"),v=n("36245"),p=n("44583"),h=n("92664"),m=n("34285"),_=n("56363"),x=n("57159"),b=n("88393"),k=n("47677"),C=n("33497"),S=n("21651"),w=n("55851"),y=n("14917"),I=n("96451"),M=n("71"),T=n("80694"),R=n("15478"),E=n("27796"),j=n("62652"),B=(0,s.forwardRef)(function(e,t){var n=e.className,d=e.style,B=e.theme,L=e.mode,N=e.markDown,A=e.eventCallbacks,F=e.showIndicator,P=void 0!==F&&F,O=e.autoFixSyntax,D=void 0===O||O,H=e.smooth,q=e.insertedElements,W=void 0===q?[]:q,z=e.showEllipsis,V=void 0!==z&&z,U=e.imageOptions,K=e.autoFitRTL,G=e.codeBarConfig,Q=e.forceBrInterSpacing,Y=e.spacingAfterChineseEm,J=e.onAstChange,X=e.onHop,Z=e.indentedCode,$=e.smartypants,ee=e.slots,et=e.translate,en=(0,o._)(e,["className","style","theme","mode","markDown","eventCallbacks","showIndicator","autoFixSyntax","smooth","insertedElements","showEllipsis","imageOptions","autoFitRTL","codeBarConfig","forceBrInterSpacing","spacingAfterChineseEm","onAstChange","onHop","indentedCode","smartypants","slots","translate"]),er=(0,l.default)(void 0===ee?{}:ee,{BreakLine:R.BreakLine,Tex:S.default,CodeBlockHighlighter:w.LightCodeBlockHighlighter,CodeBlock:M.CodeBlock,CodeBar:T.CodeBar,Table:b.Table,Image:I.Image,Indicator:y.Indicator,Paragraph:k.Paragraph,Link:C.Link}),ei=er.Indicator,eo=(0,p.useSmoothText)(N,void 0!==H&&H),ea=(0,l.default)((0,c.default)(D)?{}:D,{autoFixEnding:!!D}),es=ea.katex,el=ea.autoFixEnding,ec=(0,h.useProcessMarkdown)(eo,{showIndicator:P,showEllipsis:V,autofixEscape:el,autofixLink:el,autofixImage:el,autofixTexMath:el,autofixHeading:el,autofixEndingHtml:el,autofixEndingPandocLatex:el,insertedElements:W,enableSourceProcessor:!0,enableAstProcessor:!!D,enableIndentedCode:void 0!==Z&&Z,katex:es}),eu=ec.value,ed=ec.ast,ef=(0,m.useIsRTL)(void 0!==K&&K?ed:void 0),eg=(0,s.useRef)();return((0,_.useHop)({onHop:X,ast:ed,text:eo,getRenderedText:function(){var e,t;return null!==(t=null===(e=eg.current)||void 0===e?void 0:e.textContent)&&void 0!==t?t:""}}),(0,s.useEffect)(function(){null==J||J(ed)},[ed]),eu.trim())?(0,a.jsx)(E.MdBoxSlotsProvider,{value:er,afterMemoedProcess:function(e){return e?(0,i._)((0,r._)({},e),{BreakLine:(0,R.withMdBoxBreakLine)(e.BreakLine)}):e},children:(0,a.jsx)(j.MdBoxI18nProvider,{value:void 0===et?{}:et,children:(0,a.jsx)("div",(0,i._)((0,r._)({},en),{ref:function(e){(0,u.default)(t)?t(e):t&&(t.current=e),eg.current=e},"theme-mode":void 0===L?"light":L,className:f()(v.container,"flow-markdown-body",v["theme-".concat(void 0===B?"default":B)],n),style:d,dir:ef?"rtl":"ltr","data-show-indicator":P,children:(0,a.jsx)(x.Markdown,{markdown:eu,callbacks:A,insertedElements:W,imageOptions:U,codeBarConfig:G,forceBrInterSpacing:Q,spacingAfterChineseEm:void 0===Y?2:Y,smartypants:$})}))})}):(0,a.jsxs)(a.Fragment,{children:[V&&g.ellipsisContent,P&&ei&&(0,a.jsx)(ei,{})]})})},17039:function(e,t,n){"use strict";n.d(t,{getTextOfAst:function(){return w},isHeading:function(){return S},isImage:function(){return k},isLiteralOfContent:function(){return b},isParent:function(){return x},isParentOfContent:function(){return _},isTypeOfContent:function(){return C},parseMarkdown:function(){return p},stringifyChildren:function(){return m},stringifyMarkdown:function(){return h}});var r=n("6462"),i=n("23514"),o=n("54192"),a=n("12313"),s=n("40812"),l=n("46932"),c=n("59404"),u=n("76037"),d=n("37903"),f=n("96051"),g=n("84783"),v=n("3067"),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.fromMarkdown)(e,{extensions:[(0,f.math)(),(0,g.disableSetextHeading)()].concat((0,r._)(t.enableIndentedCode?[]:[(0,v.disableIndentedCode)()]),[(0,o.gfmStrikethrough)({singleTilde:!1}),i.gfmTaskListItem]),mdastExtensions:[(0,s.mathFromMarkdown)(),c.gfmStrikethroughFromMarkdown,l.gfmTaskListItemFromMarkdown]})},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,a.toMarkdown)(e,{extensions:[(0,s.mathToMarkdown)(),c.gfmStrikethroughToMarkdown,l.gfmTaskListItemToMarkdown],resourceLink:!0});return t?n.trim():n},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.length)return"";var n=h({type:"root",children:e},!0);return t?n.replace(/\n/g,""):n},_=function(e){return!(0,d.default)(null==e?void 0:e.children)},x=function(e){return!(0,d.default)(null==e?void 0:e.children)},b=function(e){return!(0,d.default)(null==e?void 0:e.value)},k=function(e){return(null==e?void 0:e.type)==="image"},C=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.some(function(t){return(null==e?void 0:e.type)===t})},S=function(e){return _(e)&&"heading"===e.type},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.filter;return n&&!n(e)?"":_(e)?"".concat(e.children.map(function(e){return w(e,t)}).join(""),"\n"):b(e)?e.value:""}},77978:function(e,t,n){"use strict";n.d(t,{autoDisableHtmlTag:function(){return c}});var r=n("6462"),i=n("58670"),o=n.n(i),a=["span","u","br"],s=function(e){var t=[RegExp("<(?<tag>[a-zA-Z]+)(\\s+([a-zA-Z]+=((\"[^\"]*\")|('[^']*'))))*\\s*\\/?>"),RegExp("<\\/(?<tag>[a-zA-Z]+)>")],n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s,l,c=o.value.exec(e);if(c)return null===(l=c.groups)||void 0===l?void 0:null===(s=l.tag)||void 0===s?void 0:s.toLowerCase()}}catch(e){r=!0,i=e}finally{try{!n&&null!=a.return&&a.return()}finally{if(r)throw i}}},l=function(e){var t=new DOMParser,n=(0,r._)(t.parseFromString(e,"text/html").body.children).at(0),i=(null==n?void 0:n.tagName)||s(e);return null==i?void 0:i.toLowerCase()},c=function(e){var t=l(e);return t&&!a.includes(t)?o().encode(e,{strict:!1}):e}},10934:function(e,t,n){"use strict";n.d(t,{addInsertElementSlotToString:function(){return C},extractDataFromInsertElementSlot:function(){return h},matchInsertElementSlot:function(){return p},removeInsertElementSlotInString:function(){return S},startOfInsertElementSlot:function(){return v}});var r=n("9161"),i=n("16044"),o=n("40509"),a=n("6462"),s=n("15313"),l=n("37903"),c=n("77590"),u=n("98124"),d="insert_element",f=function(e,t){var n;return n="".concat(d,"_").concat(e,"_").concat(s.Buffer.from(t).toString("base64")).replace(/_/g,"\\_"),"{".concat(n,"}")},g="\\{".concat(d.replace(/_/g,"\\\\_"),"\\\\_(?<index>[0-9]+)\\\\_(?<b64_data>.*?)\\}"),v=function(e){var t;return null===(t=new RegExp(g).exec(e))||void 0===t?void 0:t.index},p=function(e){var t=new RegExp("^".concat(g)).exec(e);return null==t?void 0:t[0]},h=function(e){var t=new RegExp("^".concat(g,"$")).exec(e),n=(null==t?void 0:t.groups)||{},r=n.index,i=n.b64_data;if(!(0,l.default)(r)&&!(0,l.default)(i))return{index:parseInt(r),b64Text:i,text:i&&s.Buffer.from(i,"base64").toString("utf8")}},m=function(e,t){var n=[];return t.forEach(function(t,r){var i=t.range,s=(0,c.default)(i)?[i,i]:i,l=(0,o._)(s,2),u=l[0];if(!(u>l[1]))!(u>e.length)&&n.push({replaceRange:(0,c.default)(i)?[i,i]:i,insert:f(r,e.slice.apply(e,(0,a._)(s))),index:n.length})}),n},_=function(e,t){var n=(0,o._)(e.replaceRange,2),a=n[0],s=n[1],l=(0,o._)(t.replaceRange,2),c=l[0],u=l[1],d=t.insert.length-(u-c);return a<c||a===c&&e.index<t.index?e:(0,i._)((0,r._)({},e),{replaceRange:[a+d+Math.min(Math.max(0,u-a),s-a),s+d]})},x=function(e){for(var t=[],n=0;n<e.length;n+=1){for(var r=e[n],i=0;i<t.length;i+=1)r=_(r,t[i]);t.push(r)}return t},b=function(e,t){var n=(0,o._)(t.replaceRange,2),r=n[0],i=n[1],a=t.insert;return"".concat(e.slice(0,r)).concat(a).concat(e.slice(i))},k=function(e,t){var n=x(m(e,t));return u.pipe.apply(void 0,(0,a._)(n.map(function(e){return function(t){return b(t,e)}})))(e)},C=function(e,t){return k(e,t)},S=function(e){return e.replace(RegExp(g,"g"),function(e){var t=h(e);return t?t.text:""})}},91485:function(e,t,n){"use strict";n.d(t,{findMaxLegalPrefixEndIndex:function(){return c},texMathExtract:function(){return i}});var r=n("89812"),i=function(e){var t=0;if(36!==e.charCodeAt(t))return;var n="$";t+=1;var r=e.charCodeAt(t);if(36===r){if(n="$$",t+=1,36===e.charCodeAt(t))return}else if(32===r||9===r||10===r)return;var i=e.indexOf(n,t);if(-1!==i){if(92!==e.charCodeAt(i-1)){var o=i+n.length;if(1===n.length){var a=e.charCodeAt(i-1);if(32===a||9===a||10===a)return;var s=e.charCodeAt(o);if(s>=48&&s<58)return}return{type:1===n.length?"inline":"block",mathText:e.slice(t,i),endIndex:o}}}},o={throwOnError:!0,strict:!0,output:"mathml",trust:!1},a=function(e,t){try{return e.renderToString((0,r.texPreProcessor)(t),o),!0}catch(t){if(t instanceof e.ParseError)return!1;throw t}},s=function(e,t){try{e.renderToString((0,r.texPreProcessor)(t),o)}catch(t){if(t instanceof e.ParseError)return t.position}},l=function(e){var t,n=e.tex;return a(e.katex,n)&&(t=n,![/\([^\)]*$/].some(function(e){return e.test(t)}))},c=function(e){for(var t,n=e.src,r=e.katex,i=null!==(t=s(r,n))&&void 0!==t?t:n.length;i>=0&&!l({tex:n.slice(0,i),katex:r});){;i-=1}return i}},89812:function(e,t,n){"use strict";n.d(t,{texPreProcessor:function(){return s}});var r=n("67684"),i=n("98124");function o(){var e=(0,r._)(["([^\\]|^)(",")"],["([^\\\\]|^)(",")"]);return o=function(){return e},e}var a=function(e,t){if(t.filter(function(e){return 1!==e.length}).length)throw Error("illegal chars length: ".concat(t.join(", ")));return t.reduce(function(e,t){var n=RegExp(String.raw(o(),t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),"g");return e.replace(n,function(e,t,n){return"".concat(t,"\\").concat(n)})},e)},s=(0,i.pipe)(function(e){return a(e,["#"])})},73723:function(e,t,n){"use strict";n.d(t,{BLOCK_MATH_SPAN_DATA_TYPE:function(){return u},INLINE_MATH_SPAN_DATA_TYPE:function(){return c},renderBlockMathSpanString:function(){return g},renderInlineMathSpanString:function(){return f},restoreMathPandocLatex:function(){return v}});var r=n("67684"),i=n("15313"),o=n("89812"),a=n("10934");function s(){var e=(0,r._)(["(",")"],["\\(","\\)"]);return s=function(){return e},e}function l(){var e=(0,r._)(["[","]"],["\\[","\\]"]);return l=function(){return e},e}var c="inline-math",u="block-math",d=function(e,t){return'<span data-type="'.concat(e,'" data-value="').concat(i.Buffer.from(t).toString("base64"),'"></span>')},f=function(e){return d(c,(0,o.texPreProcessor)((0,a.removeInsertElementSlotInString)(e)))},g=function(e){return d(u,(0,o.texPreProcessor)((0,a.removeInsertElementSlotInString)(e)))},v=function(e){return e.replace(RegExp('<span data-type="'.concat(c,'" data-value="(.*?)"></span>'),"g"),function(e,t){return String.raw(s(),i.Buffer.from(t,"base64").toString("utf8"))}).replace(RegExp('<span data-type="'.concat(u,'" data-value="(.*?)"></span>'),"g"),function(e,t){return String.raw(l(),i.Buffer.from(t,"base64").toString("utf8"))})}},61850:function(e,t,n){"use strict";n.d(t,{convertToStanardNodeTypeEnum:function(){return c},getHopDiff:function(){return a}});var r,i=n("83053"),o=n("17039"),a=function(e,t){if(e.type!==t.type)return(0,o.isParentOfContent)(e)&&(0,o.isParentOfContent)(t)?{prevEndNode:e,endNode:t}:null;if(!(0,i.default)(e.children.map(function(e){return e.type}),t.children.map(function(e){return e.type})))return{prevEndNode:e.children.at(e.children.length-1),endNode:t.children.at(t.children.length-1)};for(var n=0;n<e.children.length;n++){var r=e.children[n],s=t.children[n];if((0,o.isParent)(r)&&(0,o.isParent)(s)){var l=a(r,s);if(l)return l}else if((0,o.isParent)(r)||(0,o.isParent)(s))return{prevEndNode:r,endNode:s};else if(r.type!==s.type)return{prevEndNode:r,endNode:s}}return null};var s=((r={}).Thematic="thematic",r.Heading="heading",r.CodeBlock="code_block",r.Html="html",r.LinkDefRef="link_def_ref",r.Paragraph="paragraph",r.Table="table",r.BlockQuote="block_quote",r.List="list",r.ListItem="list_item",r.InlineCode="inline_code",r.Emphasis="emphasis",r.Strong="strong",r.Link="link",r.Image="image",r.StrikeThrough="strike_through",r.Text="text",r.MathBlock="math_block",r.InlineMath="inline_math",r.Empty="empty",r.Unknown="unknown",r),l={thematicBreak:s.Thematic,heading:s.Heading,code:s.CodeBlock,html:s.Html,linkReference:s.LinkDefRef,paragraph:s.Paragraph,table:s.Table,blockquote:s.BlockQuote,list:s.List,listItem:s.ListItem,inlineCode:s.InlineCode,emphasis:s.Emphasis,strong:s.Strong,link:s.Link,image:s.Image,delete:s.StrikeThrough,text:s.Text,math:s.MathBlock,inlineMath:s.InlineMath},c=function(e){var t;return e?null!==(t=l[e])&&void 0!==t?t:s.Unknown:s.Empty}},83897:function(e,t,n){"use strict";n.d(t,{INSERT_ELEMENT_SLOT_EXTENSION_NAME:function(){return i},insertElementSlotExtension:function(){return o}});var r=n("10934"),i="insert_element_extension",o=function(){return{name:i,level:"inline",start:function(e){return(0,r.startOfInsertElementSlot)(e)},tokenizer:function(e){var t=(0,r.matchInsertElementSlot)(e);if(t)return{type:i,raw:t}},renderer:function(e){var t=e.raw;if(!t)return!1;var n=(0,r.extractDataFromInsertElementSlot)(t);if(!n)return!1;var o=n.index,a=n.b64Text;return'<span data-index="'.concat(o,'" data-raw="').concat(a,'" data-type="').concat(i,'"></span>')}}}},30234:function(e,t,n){"use strict";n.d(t,{MdboxRenderer:function(){return l}});var r=n("69420"),i=n("73209"),o=n("26379"),a=n("12039"),s=n("77978"),l=function(e){(0,i._)(n,e);var t=(0,o._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return n.prototype.html=function(e){return(0,s.autoDisableHtmlTag)(e)},n}(a.Renderer)},84520:function(e,t,n){"use strict";n.d(t,{displayTex:function(){return a},inlineTex:function(){return o}});var r=n("91485"),i=n("73723"),o=function(){return{name:"inlineTex",level:"inline",start:function(e){var t;return null===(t=/\$([^\$]|$)/.exec(e))||void 0===t?void 0:t.index},tokenizer:function(e){var t=(0,r.texMathExtract)(e);if(!!t){var n=t.type,i=t.endIndex,o=t.mathText;if("inline"===n)return{type:"inlineTex",raw:e.slice(0,i),mathText:o}}},renderer:function(e){return(0,i.renderInlineMathSpanString)(e.mathText)}}},a=function(){return{name:"displayTex",level:"block",start:function(e){var t;return null===(t=/\$\$([^\$]|$)/.exec(e))||void 0===t?void 0:t.index},tokenizer:function(e){var t=(0,r.texMathExtract)(e);if(!!t){var n=t.type,i=t.endIndex,o=t.mathText;if("block"===n)return{type:"displayTex",raw:e.slice(0,i),mathText:o}}},renderer:function(e){return(0,i.renderBlockMathSpanString)(e.mathText)}}}},18450:function(e,t,n){"use strict";n.d(t,{MdboxTokenizer:function(){return c}});var r=n("69420"),i=n("73209"),o=n("26379"),a=n("12039"),s=/^(~~)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,l=function(e,t){var n=s.exec(t);return!!n&&{type:"del",raw:n[0],text:n[2],tokens:e.inlineTokens(n[2])}},c=function(e){(0,i._)(n,e);var t=(0,o._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}var a=n.prototype;return a.autolink=function(e,t){return!1},a.del=function(e){return l(this.lexer,e)},a.url=function(e,t){return!1},n}(a.Tokenizer)},3067:function(e,t,n){"use strict";n.d(t,{disableIndentedCode:function(){return r}});var r=function(){return{disable:{null:["codeIndented"]}}}},84783:function(e,t,n){"use strict";n.d(t,{disableSetextHeading:function(){return r}});var r=function(){return{disable:{null:["setextUnderline"]}}}},96051:function(e,t,n){"use strict";n.d(t,{math:function(){return a}});var r=n("83316"),i=n("6623"),o=n("83548");function a(e){return{flow:(0,r._)({},36,o.mathFlow),text:(0,r._)({},36,(0,i.mathText)(e))}}},62224:function(e,t,n){"use strict";n.d(t,{autoMergeSiblingText:function(){return a}});var r=n("17604"),i=n("17039"),o=function(e){for(var t=e.children,n=[],r="",i=0;i<t.length;i++){var o=t[i];"text"===o.type&&(r+=o.value),("text"!==o.type||i===t.length-1)&&(r&&n.push({type:"text",value:r}),r=""),"text"!==o.type&&n.push(o)}e.children=n},a=function(e){(0,r.updateAst)(e,function(e,t){var n=t.skip;if((0,i.isParentOfContent)(e)){o(e),n();var r=!0,s=!1,l=void 0;try{for(var c,u=e.children[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var d=c.value;(0,i.isParent)(d)&&a(d)}}catch(e){s=!0,l=e}finally{try{!r&&null!=u.return&&u.return()}finally{if(s)throw l}}}})}},65461:function(e,t,n){"use strict";n.d(t,{autofixHeading:function(){return o}});var r=n("17604"),i=n("17039"),o=function(e){(0,r.updateAst)(e,function(e,t){var n=t.stop,r=t.insertAfter;if(!(0,i.isParent)(e)){n();return}(0,i.isHeading)(e)&&(1===e.depth&&!(0,i.stringifyChildren)(e.children).trim()&&r([],!0),n())},{order:"pre_order",isReverse:!0})}},985:function(e,t,n){"use strict";n.d(t,{autofixLastCodeBlock:function(){return l}});var r=n("9161"),i=n("16044"),o=n("24682"),a=n("17604"),s=n("17039"),l=function(e){(0,a.updateAst)(e,function(e,t){var n=t.insertAfter,a=t.stop;if((0,s.isLiteralOfContent)(e)){if(a(),"code"===e.type){var l,c=((null===(l=e.value.match(RegExp("^(?<content>[\\S\\s]*?)\\n`+$")))||void 0===l?void 0:l.groups)||{}).content;if(!(0,o.default)(c))return;n([(0,i._)((0,r._)({},e),{value:c})],!0)}else if("text"===e.type){var u,d=((null===(u=e.value.match(RegExp("^(?<prefix>[\\s\\S]*?)`{1,2}$")))||void 0===u?void 0:u.groups)||{}).prefix;if(!(0,o.default)(d))return;n(d?[{type:"text",value:d}]:[],!0)}}},{order:"in_order",isReverse:!0})}},53060:function(e,t,n){"use strict";n.d(t,{autofixLastInlineCodeBlock:function(){return u}});var r=n("6462"),i=n("33229"),o=n("24682"),a=n("17604"),s=n("17039"),l=n("50655"),c=function(e,t){var n=(0,i.default)(e.children,function(e){return!!("text"===e.type&&e.value.match(t))});if(n){(0,l.assert)("text"===n.type,"lastUnPaired.type must be text");var r=e.children.findIndex(function(e){return e===n});return(0,l.assert)(r>=0,"lastUnPairedIndex must >= 0"),{target:n,index:r}}},u=function(e){var t=RegExp("^(?<prefix>.*([^\\\\`]|^))`(?!`)(?<suffix>.*?)$");(0,a.updateAst)(e,function(e,n){var i,a,l=n.stop;if(!(0,s.isParent)(e))return;l();var u=c(e,t);if(!u)return;var d=u.target,f=u.index;if(!e.children.slice(f+1).find(function(e){return"inlineCode"===e.type})){var g=(null===(a=d.value.match(t))||void 0===a?void 0:a.groups)||{},v=g.prefix,p=g.suffix;if((0,o.default)(p)&&(0,o.default)(v)){var h=[];v&&h.push({type:"text",value:v});var m="".concat(p).concat((0,s.stringifyChildren)(e.children.slice(f+1),!0));m&&h.push({type:"inlineCode",value:m}),(i=e.children).splice.apply(i,[f,e.children.length-f].concat((0,r._)(h)))}}},{order:"in_order",isReverse:!0})}},76755:function(e,t,n){"use strict";n.d(t,{autofixTruncatedEscape:function(){return o}});var r=n("17604"),i=n("17039"),o=function(e){(0,r.updateAst)(e,function(e,t){var n,r,o=t.insertAfter,a=t.stop;if(!(0,i.isParent)(e)&&"text"===e.type){a();var s=e.value.match(RegExp("^(?<text>[\\s\\S]*)\\\\$"));s&&o([{type:"text",value:null!==(r=null===(n=s.groups)||void 0===n?void 0:n.text)&&void 0!==r?r:""}],!0)}},{isReverse:!0})}},65794:function(e,t,n){"use strict";n.d(t,{autofixTruncatedHtmlTag:function(){return l}});var r=n("17604"),i=n("17039"),o=n("98124"),a=[/<([a-zA-Z]+((\s+([a-zA-Z]+=(("[^"]*")|('[^']*'))))*(\s*\/?|(\s+[a-zA-Z]+(=(("[^"]*)|('[^']*))?)?)))?)?$/,/<\/([a-zA-Z]+)?$/],s=function(e){var t=(0,o.firstMatch)(a,function(t){return t.exec(e)});return t?e.slice(0,t.index):e},l=function(e){(0,r.updateAst)(e,function(e,t){var n=t.stop,r=t.insertAfter;if((0,i.isTypeOfContent)(e,"text","html")){n();var o=s(e.value);r(o?[{type:e.type,value:o}]:[],!0)}},{isReverse:!0})}},87973:function(e,t,n){"use strict";n.d(t,{autofixTruncatedImage:function(){return a}});var r=n("68905"),i=n("17604"),o=n("17039"),a=function(e){var t=[/!$/],n=[/!\[$/,RegExp("!\\[(?<text>[^\\]]*)$"),RegExp("!\\[(?<text>[^\\]]+)\\]$"),RegExp("!\\[(?<text>[^\\]]+)\\]\\([^\\)]*$")];(0,i.updateAst)(e,function(e,i){var a,s=i.insertAfter,l=i.stop;if(!(0,o.isLiteralOfContent)(e))return;if(l(),"text"!==e.type)return;var c=n.find(function(t){return t.exec(e.value)}),u=t.find(function(t){return t.exec(e.value)});if(!u&&!c)return;var d=null!=u?u:c;if(!!d){var f=d.exec(e.value);f&&s((0,r.default)({type:"text",value:e.value.slice(0,f.index)},c?{type:"image",url:"",alt:(null===(a=f.groups)||void 0===a?void 0:a.text)||"image"}:[]),!0)}},{isReverse:!0})}},12735:function(e,t,n){"use strict";n.d(t,{autofixTruncatedLink:function(){return o}});var r=n("17604"),i=n("17039"),o=function(e){var t=[RegExp("\\[(?<text>[^\\]]*)$"),RegExp("\\[(?<text>[^\\]]+)\\]$"),RegExp("\\[(?<text>[^\\]]+)\\]\\([^\\)]*$")];(0,r.updateAst)(e,function(e,n){var r,o=n.insertAfter,a=n.stop;if((0,i.isParent)(e)||"text"!==e.type)return;a();var s=t.find(function(t){return t.exec(e.value)});if(!!s){var l=s.exec(e.value);if(l){var c=null===(r=l.groups)||void 0===r?void 0:r.text,u=l.index;o(c?[{type:"text",value:e.value.slice(0,u)},{type:"link",title:null,url:"#",children:[{type:"text",value:c}]}]:[{type:"text",value:e.value.slice(0,u)}],!0)}}},{isReverse:!0})}},1637:function(e,t,n){"use strict";n.d(t,{autofixTruncatedTexMathDollar:function(){return h}});var r=n("24682"),i=n("68905"),o=n("17604"),a=n("91485"),s=n("17039"),l=n("98124"),c=function(e){var t,n=e.match(RegExp("(?<prefix>[^\\$\\\\]|^)(\\$|\\$\\$)(?!\\$)"));if(!n)return -1;var i=n.index,o=null==n?void 0:null===(t=n.groups)||void 0===t?void 0:t.prefix;return(0,r.default)(o)?(void 0===i?0:i)+o.length:-1},u=function(e){var t=e.match(/^\$*/);return t?t[0].length:0},d=function(e){for(var t=c(e),n=0,r=!0;-1!==t;){var i=(0,a.texMathExtract)(e.slice(t));if(i)t+=i.endIndex,r=!1,n=t;else{var o=c(e.slice(t));if(-1===o)break;r?t+=Math.max(o,u(e.slice(t))):t+=o,r=!0}}return n},f=/^[0-9a-zA-Z\s"'\.,\-\(\)]$/,g=/^[0-9a-zA-Z\s"'\.,\-\(\)]{15}/,v=/^\s*(\\begin)/,p=function(e,t){var n=e.trim(),r=n.slice(0,t),i=n.length;return!v.exec(n)&&(!r||(0,l.isNumeric)(r)?i-t>10:!!(f.exec(r)&&i-t>10||g.exec(r))||!1)},h=function(e,t){var n=t.katex;(0,o.updateAst)(e,function(e,t){var r=t.insertAfter,o=t.stop;if(!(0,s.isParent)(e)){if((0,s.isLiteralOfContent)(e)&&o(),"text"===e.type){var l=d(e.value),c=e.value.slice(l).match(RegExp("^(?<prefix>[\\s\\S]*?([^\\$\\\\]|^))(?<inter>\\$|\\$\\$)(?!\\$)(?<value>[^\\$]*?)(?<suffix>\\$*)$")),u=null==c?void 0:c.groups;if(!u)return;var f=u.prefix,g=u.value,v=(0,a.findMaxLegalPrefixEndIndex)({src:g,katex:n});if(p(g,v))return;var h=g.slice(0,v).trim(),m="".concat(e.value.slice(0,l)).concat(f);r((0,i.default)(m?{type:"text",value:m}:[],h?{type:"inlineMath",value:h}:[]),!0)}else if("inlineMath"===e.type||"math"===e.type){var _,x="math"===e.type&&null!==(_=e.meta)&&void 0!==_?_:e.value,b=(0,a.findMaxLegalPrefixEndIndex)({src:x,katex:n});if(p(x,b)){r(["inlineMath"===e.type?{type:"text",value:"$".concat(x,"$")}:{type:"paragraph",children:[{type:"text",value:"$$".concat(x,"$$")}]}],!0);return}var k=x.slice(0,b).trim(),C="inlineMath"===e.type?{type:"inlineMath",value:k}:{type:"paragraph",children:[{type:"inlineMath",value:k}]};r(k?[C]:[],!0)}}},{order:"in_order",isReverse:!0})}},47870:function(e,t,n){"use strict";n.d(t,{completeProtocol:function(){return r}});var r=function(e){return e.match(/https?:\/\//)?e:"https://".concat(e)}},12754:function(e,t,n){"use strict";n.d(t,{HyperNodeType:function(){return a},getHyperLinkNodes:function(){return f}});var r,i=n("67457"),o=n("54876");var a=((r={})[r.text=0]="text",r[r.link=1]="link",r),s={"(":")","[":"]","{":"}","<":">"},l=Object.keys(s),c=Object.values(s),u=[".",",","!","?","'",":",";","@","#"],d=function(e){for(var t=-1,n=[],r=0;r<e.length;++r){var i=e[r];if(l.includes(i))n.push({char:i,index:r});else if(c.includes(i)){if(n.length){if(i===s[n[n.length-1].char])n.pop();else{t=n[0].index;break}}else{t=r;break}}}for(n.length&&(t=n[0].index),-1===t&&(t=e.length);t>1&&u.includes(e[t-1]);)t--;return e.slice(0,t)},f=function(e){var t=[],n=0;for(o.urlRegExp.lastIndex=0;;){var r=o.urlRegExp.exec(e);if(!r)break;var s=r.index,l=r[0],c=e.slice(n,s);if(c&&t.push({type:a.text,text:c}),l){var u=/^(@|#|\+|-|%)+/.exec(l);if(u)t.push({type:a.text,text:u[0]}),n=r.index+u[0].length,o.urlRegExp.lastIndex=n;else{var f=d(l);if(f)i.validate(f)?t.push({type:a.text,text:f}):t.push({type:a.link,url:f}),n=r.index+f.length,o.urlRegExp.lastIndex=n;else{var g=l.slice(0,1);t.push({type:a.text,text:g}),n=r.index+g.length,o.urlRegExp.lastIndex=n}}}}return n!==e.length&&t.push({type:a.text,text:e.slice(n)}),t}},54876:function(e,t,n){"use strict";n.d(t,{urlRegExp:function(){return d}});var r="https?|s?ftp|ftps|nfs|ssh",i="\\b([/#?][\\-A-Z0-9@:%_+.~#?&'/=;$,!\\*\\[\\]\\(\\){}^|<>]*[-A-Z0-9&@#/%=~\\(\\)_|]?)?",o=RegExp("((((".concat(r,")://)?(").concat(/localhost(:[0-9]{2,5})?/.source,"))|(((").concat(r,")://)(").concat(/(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])(:[0-9]{2,5})?/.source,")))").concat(i),"gi"),a="([-A-Z0-9%_+~#@][\\-A-Z:0-9%_+~#@]{0,256}\\.){1,50}",s="[a-z\\-]{2,15}",l=RegExp("(((".concat(r,"):\\/\\/").concat(a).concat(s,")|(").concat(a,"(").concat("com|cn|tk|de|net|org|uk|info|nl|ru|hk",")))(:[0-9]{2,5})?").concat(i),"gi"),c="[\\w.!#$%&'*+-/=?^_\\`{|}~]{1,2000}@[A-Za-z0-9_.-]+\\.",u=RegExp("^(?!data:)((mailto:".concat(c).concat(s,")|(").concat(c,"(").concat("com|org|net|int|edu|gov|mil|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gh|gi|gl|gm|gn|gp|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|site|top|wtf|xxx|xyz|cloud|engineering|help|one",")))\\b"),"gi"),d=RegExp("(".concat(o.source,")|(").concat(l.source,")|(").concat(u.source,")"),"gi")},65786:function(e,t,n){"use strict";n.d(t,{disableIllegalHtml:function(){return a}});var r=n("17604"),i=n("17039"),o=n("77978"),a=function(e){(0,r.updateAst)(e,function(e,t){var n=t.insertAfter;(0,i.isLiteralOfContent)(e)&&"html"===e.type&&n([{type:"html",value:(0,o.autoDisableHtmlTag)(e.value)}],!0)},{order:"pre_order",isReverse:!0})}},72671:function(e,t,n){"use strict";n.d(t,{extractCustomAutolink:function(){return s}});var r=n("12754"),i=n("47870"),o=n("17604"),a=n("17039"),s=function(e){(0,o.updateAst)(e,function(e,t){var n=t.insertAfter,o=t.skip;if((0,a.isParent)(e)){(0,a.isParentOfContent)(e)&&"link"===e.type&&o();return}"text"===e.type&&n((0,r.getHyperLinkNodes)(e.value).map(function(e){return e.type===r.HyperNodeType.link?{type:"link",url:(0,i.completeProtocol)(e.url),children:[{type:"text",value:e.url}]}:e.type===r.HyperNodeType.text?{type:"text",value:e.text}:null}).filter(function(e){return!!e}),!0)})}},2382:function(e,t,n){"use strict";n.d(t,{ellipsisContent:function(){return o},insertEllipsis:function(){return a}});var r=n("17604"),i=n("17039"),o="...",a=function(e){(0,r.updateAst)(e,function(e,t){var n=t.insertAfter,r=t.stop;(!(0,i.isParentOfContent)(e)||(0,i.isTypeOfContent)(e,"link"))&&(r(),(0,i.isTypeOfContent)(e,"text")&&n([{type:"text",value:"".concat(e.value).concat(o)}],!0),(0,i.isTypeOfContent)(e,"link","inlineCode")&&n([{type:"text",value:o}],!1))},{isReverse:!0})}},6859:function(e,t,n){"use strict";n.d(t,{insertIndicator:function(){return l}});var r=n("9161"),i=n("16044"),o=n("17604"),a=n("17039"),s={type:"html",value:'<span class="indicator" />'},l=function(e){(0,o.updateAst)(e,function(e,t){var n=t.insertAfter,o=t.stop;if((0,a.isImage)(e)){o();return}if((0,a.isParentOfContent)(e)&&"listItem"===e.type&&!(0,a.stringifyChildren)(e.children,!0).trim()){o(),n([(0,i._)((0,r._)({},e),{children:[s]})],!0);return}if((0,a.isLiteralOfContent)(e)){if(o(),"code"===e.type)return;n([s])}},{isReverse:!0})}},68108:function(e,t,n){"use strict";n.d(t,{removeCocoLinkInCodeblock:function(){return s}});var r=n("9161"),i=n("16044"),o=n("17604"),a=n("17039"),s=function(e){(0,o.updateAst)(e,function(e,t){var n=t.insertAfter;if((0,a.isLiteralOfContent)(e)&&("code"===e.type||"inlineCode"===e.type)){var o=e.value.replace(/\[(.*?)\]\(coco:\/\/.*?\)/g,"$1");n([(0,i._)((0,r._)({},e),{value:o})],!0)}})}},66535:function(e,t,n){"use strict";n.d(t,{restoreMathPandocLatexInContent:function(){return l}});var r=n("9161"),i=n("16044"),o=n("17604"),a=n("17039"),s=n("73723"),l=function(e){(0,o.updateAst)(e,function(e,t){var n=t.insertAfter;if(!!(0,a.isLiteralOfContent)(e))(0,a.isTypeOfContent)(e,"code","inlineCode","math","inlineMath")&&n([(0,i._)((0,r._)({},e),{value:(0,s.restoreMathPandocLatex)(e.value)})],!0)},{order:"pre_order"})}},96024:function(e,t,n){"use strict";n.d(t,{transformEndlineBeforeHtml:function(){return o}});var r=n("17604"),i=n("17039"),o=function(e){(0,r.updateAst)(e,function(e,t){var n=t.index,r=t.parent;if(!(0,i.isLiteralOfContent)(e)||"html"!==e.type||!r||!n)return;var o=r.children[n-1];if("text"===o.type){var a=/(\r?\n|\r)$/;a.test(o.value)&&r.children.splice(n-1,1,{type:"text",value:o.value.replace(a,"")},{type:"html",value:"<br />"})}},{order:"pre_order"})}},90260:function(e,t,n){"use strict";n.d(t,{processMarkdownForMdbox:function(){return E}});var r=n("6462"),i=n("35680"),o=n("84572"),a=n("66439"),s=n("91609"),l=n("62102"),c=n("76755"),u=n("985"),d=n("53060"),f=n("68108"),g=n("1637"),v=n("87973"),p=n("12735"),h=n("72671"),m=n("65461"),_=n("65794"),x=n("66535"),b=n("65786"),k=n("96024"),C=n("2382"),S=n("6859"),w=n("62224"),y=n("10934"),I=n("17039"),M=n("98124"),T=function(e,t){var n=t.insertedElements,i=t.autofixEndingPandocLatex,c=t.katex,u=[];return n&&u.push(function(e){return(0,y.addInsertElementSlotToString)(e,n)}),u.push(o.removeCodeBlockIndent,a.completeUnpairedCodeBlock,s.completeTruncatedLink),u.push(function(e){return(0,l.convertMathPandocLatex)({src:e,autofixEndingPandocLatex:i,katex:c})}),M.pipe.apply(void 0,(0,r._)(u))(e)},R=function(e,t,n){var r=n.showIndicator,o=n.showEllipsis,a=n.autolink,s=n.autofixCodeblock,l=n.autofixEscape,y=n.autofixLink,I=n.autofixImage,M=n.autofixTexMath,T=n.autofixEndingHtml,R=n.autofixHeading,E=n.katex,j=(0,i.default)(e);return void 0!==l&&l&&(0,c.autofixTruncatedEscape)(j),(void 0===s||s)&&((0,u.autofixLastCodeBlock)(j),(0,d.autofixLastInlineCodeBlock)(j),(0,f.removeCocoLinkInCodeblock)(j)),(void 0===M||M)&&E&&(0,g.autofixTruncatedTexMathDollar)(j,{katex:E}),void 0!==I&&I&&(0,v.autofixTruncatedImage)(j),void 0!==y&&y&&(0,p.autofixTruncatedLink)(j),(void 0===a||a)&&(0,h.extractCustomAutolink)(j),(void 0===R||R)&&(0,m.autofixHeading)(j),void 0!==T&&T&&(0,_.autofixTruncatedHtmlTag)(j),(0,x.restoreMathPandocLatexInContent)(j),(0,b.disableIllegalHtml)(j),(0,k.transformEndlineBeforeHtml)(j),void 0!==o&&o&&(0,C.insertEllipsis)(j),void 0!==r&&r&&(0,S.insertIndicator)(j),(0,w.autoMergeSiblingText)(j),j},E=function(e,t){var n=t.enableSourceProcessor,r=t.enableAstProcessor,i=e,o=void 0;if(void 0!==n&&n&&(i=T(i,t)),void 0!==r&&r){var a=R((0,I.parseMarkdown)(i,t),e,t);o=a,i=(0,I.stringifyMarkdown)(a)}return{ast:o,value:i}}},91609:function(e,t,n){"use strict";n.d(t,{completeTruncatedLink:function(){return r}});var r=function(e){return e.replace(RegExp("(^|[^!])\\[(?<text>[^\\]]+)\\]\\([^\\)]*$"),"$1[$2](#)")}},66439:function(e,t,n){"use strict";n.d(t,{completeUnpairedCodeBlock:function(){return r}});var r=function(e){var t=e.match(/(^|\n|\s)```/g);return t&&t.length%2!=0?"".concat(e.trimEnd(),"\n```"):e}},62102:function(e,t,n){"use strict";n.d(t,{convertMathPandocLatex:function(){return d}});var r=n("6462"),i=n("37903"),o=n("73723"),a=n("91485"),s=n("98124"),l=function(e){return e.replace(/\\\(([\s\S]*?)\\\)/g,function(e,t){return(0,o.renderInlineMathSpanString)(t)}).replace(/\\\[([\s\S]*?)\\\]/g,function(e,t){return(0,o.renderBlockMathSpanString)(t)})},c=function(e){var t,n=e.src,r=e.katex,s=n.match(RegExp("\\\\\\((?<ending>[\\s\\S]*?)$"));if(!(null==s?void 0:s.groups)||(0,i.default)(s.index))return n;var l=null!==(t=s.groups.ending)&&void 0!==t?t:"";if(l.match(/((\\\()|(\\\)))/))return n;var c=l.slice(0,(0,a.findMaxLegalPrefixEndIndex)({src:l,katex:r})).trim(),u=n.slice(0,s.index);return c?"".concat(u).concat((0,o.renderInlineMathSpanString)(c)):u},u=function(e){var t,n=e.src,r=e.katex,s=n.match(RegExp("\\\\\\[(?<ending>[\\s\\S]*?)$"));if(!(null==s?void 0:s.groups)||(0,i.default)(s.index))return n;var l=null!==(t=s.groups.ending)&&void 0!==t?t:"";if(l.match(/((\\\[)|(\\\]))/))return n;var c=l.slice(0,(0,a.findMaxLegalPrefixEndIndex)({src:l,katex:r})).trim(),u=n.slice(0,s.index);return c?"".concat(u).concat((0,o.renderBlockMathSpanString)(c)):u},d=function(e){var t=e.src,n=e.katex,i=e.autofixEndingPandocLatex,o=[l];return n&&void 0!==i&&i&&o.push(function(e){return c({src:e,katex:n})},function(e){return u({src:e,katex:n})}),s.pipe.apply(void 0,(0,r._)(o))(t)}},84572:function(e,t,n){"use strict";n.d(t,{removeCodeBlockIndent:function(){return r}});var r=function(e){return e.replace(/(\n|^)[ \t\r\f\v]+?(```)/g,"$1$2")}},17604:function(e,t,n){"use strict";n.d(t,{updateAst:function(){return l}});var r=n("40509"),i=n("6462"),o=n("77590"),a=n("17039"),s=n("50655"),l=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=n.order,c=void 0===l?"pre_order":l,u=n.isReverse,d=void 0!==u&&u,f=!1,g=!1,v=!1,p=[[null,e]],h=[];p.length&&"break"!==function(){var e=p.pop();(0,s.assert)(e,"current must not be undefined");var n=(0,r._)(e,2),l=n[0],u=n[1],m=(0,a.isParent)(u)?u.children.slice():[],_=d?m:m.reverse(),x=(0,a.isParent)(u)?_.map(function(e){return[u,e]}):[],b=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l){var a=l.children.findIndex(function(e){return e===u});(0,s.assert)((0,o.default)(a),"Invoke insertAfter error in updateAst: parent is not parent of current"),r?(t=l.children).splice.apply(t,[a,1].concat((0,i._)(e))):(n=l.children).splice.apply(n,[a+1,0].concat((0,i._)(e)))}},k=function(){if(v)throw Error("You have to call stop synchronously");f=!0},C=function(){if(v)throw Error("You have to call skip synchronously");g=!0},S=function(){var e=null==l?void 0:l.children.findIndex(function(e){return e===u});(0,s.assert)(-1!==e,"Current must be child of it's parent"),t(u,{stop:k,skip:C,insertAfter:b,parent:l||void 0,index:e})};if("pre_order"===c)S(),!g&&p.push.apply(p,(0,i._)(x));else if("post_order"===c){var w=x.filter(function(e){return!h.includes((0,r._)(e,2)[1])});w.length?(p.push(e),p.push.apply(p,(0,i._)(w))):(S(),h.push(u))}else"in_order"===c&&((0,a.isParent)(u)&&x.length&&x.every(function(e){return!h.includes((0,r._)(e,2)[1])})?(p.push.apply(p,(0,i._)(x.slice(0,x.length-1))),p.push(e),p.push(x[x.length-1])):(S(),h.push(u)));if(f)return"break";f=!1,g=!1}(););v=!0}},17303:function(e,t,n){"use strict";n.d(t,{renderCodeBlockGroup:function(){return k}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("6462"),s=n("97458"),l=n("52983"),c=n("3820"),u=n("35043"),d=n("95095"),f=n("12526"),g=n("27796"),v=n("99521"),p=(0,g.createMdBoxSlots)("CodeBar"),h=(0,g.createMdBoxSlots)("CodeBlock"),m=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plaintext";if((0,f.isElementType)(e,"code"))return(null===(r=e.attribs)||void 0===r?void 0:null===(n=r.class)||void 0===n?void 0:null===(t=n.match(/language-(.*)/))||void 0===t?void 0:t[1])||i;if((0,f.isElementType)(e,"pre")){var o=e.childNodes.find(function(e){return(0,f.isElementType)(e,"code")});return o?m(o,i):i}return i},_=function(e){return!!((0,f.isElementType)(e,"pre")&&e.childNodes.find(function(e){return(0,f.isElementType)(e,"code")}))||!1},x=function(e,t){var n=t.renderRest,r=t.autoHideCodeHeaderLanguage,i=void 0===r?"result":r;if(_(e)){var o=e.childNodes;return(0,s.jsx)(v.BlockElement,{children:function(e){var t=e.className;return o.map(function(e,r){if((0,f.isElementType)(e,"code")){var o=m(e);return(0,s.jsx)(h,{code:(0,f.getInnerText)(e),language:o,showHeader:o.toLowerCase()!==i,className:t},r)}return(0,f.isElementType)(e)?(0,s.jsx)("pre",{className:t,children:n(e)},r):(0,s.jsx)("pre",{className:t,children:(0,u.domToReact)([e])},r)})}})}},b=function(e){var t=[],n=[],r=!0,i=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;if(_(c)){var u=t.at(t.length-1),g=m(c,"");(null==u?void 0:u.isCodeBlockGroup)?u.codeBlocks.push({target:c,language:g,code:(0,d.innerText)(c)}):t.push({isCodeBlockGroup:!0,codeBlocks:[{target:c,language:g,code:(0,d.innerText)(c)}]})}else(0,f.isEndlineText)(c)?!n.length&&n.push(c):(t.push.apply(t,(0,a._)(n.map(function(e){return{isCodeBlockGroup:!1,target:e,code:(0,d.innerText)(e)}}))),n=[],t.push({isCodeBlockGroup:!1,target:c,code:(0,f.isElementType)(c)||(0,f.isTextType)(c)?(0,d.innerText)(c):""}))}}catch(e){i=!0,o=e}finally{try{!r&&null!=l.return&&l.return()}finally{if(i)throw o}}return t},k=function(e,t){var n=t.renderRest,a=t.codeBarConfig;if(!!(0,f.isElementType)(e)){var d=e.childNodes;if(!d.every(function(e){return!_(e)})){var g=b(d);return(0,f.renderReactElement)(e.name,(0,u.attributesToProps)(e.attribs),g.map(function(e,t){if(!e.isCodeBlockGroup)return(0,s.jsx)(l.Fragment,{children:n(e.target)},t);var u=e.codeBlocks,d=t===g.length-1,f=((0,c.default)(a)?a({codeBlocks:u}):a)||{},v=f.finished,h=f.autoHideCodeHeaderLanguage,m=(0,o._)(f,["finished","autoHideCodeHeaderLanguage"]);return(0,s.jsx)(p,(0,i._)((0,r._)({showBar:!!a,loading:d&&!v},m),{children:function(e){return(!a||e)&&u.map(function(e,t){var r=e.target;return(0,s.jsx)(l.Fragment,{children:x(r,{renderRest:n,autoHideCodeHeaderLanguage:h})},t)})}}),t)}))}}}},35844:function(e,t,n){"use strict";n.d(t,{renderDanger:function(){return i}});var r=n("97458"),i=function(e){if("tag"!==e.type&&"text"!==e.type&&"root"!==e.type)return(0,r.jsx)(r.Fragment,{})}},2966:function(e,t,n){"use strict";n.d(t,{renderEm:function(){return s}});var r=n("97458"),i=n("30470"),o=n("35043"),a=n("12526"),s=function(e,t){var n,s,l=t.renderRest,c=t.spacingAfterChineseEm;if((0,a.isElementType)(e,"em")){var u=void 0!==c&&!1!==c&&(0,a.detectIsChinese)(null!==(n=(0,a.getInnerText)(e).at(-1))&&void 0!==n?n:"")&&!(0,i.default)(e.nextSibling)&&((0,a.isElementType)(e.nextSibling)||(0,a.isTextType)(e.nextSibling))&&(0,a.detectIsChinese)(null!==(s=(0,a.getInnerText)(e.nextSibling).at(0))&&void 0!==s?s:"");return(0,r.jsx)("em",{style:{marginRight:u?"boolean"==typeof c?2:c:void 0},children:(0,o.domToReact)(e.children,{replace:l})})}}},86240:function(e,t,n){"use strict";n.d(t,{renderHeader:function(){return s}});var r=n("97458"),i=n("12526"),o=n("99521"),a=n("58918"),s=function(e,t){var n=t.renderRest;if((0,i.isElementType)(e,/^h[0-9]+$/))return(0,r.jsx)(o.BlockElement,{node:e,renderRest:n,className:a.header})}},87497:function(e,t,n){"use strict";n.d(t,{renderImage:function(){return u}});var r=n("9161"),i=n("97458"),o=n("35043"),a=n("12526"),s=n("22333"),l=(0,n("27796").createMdBoxSlots)("Image"),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.regardSiblingBrAsText,r=void 0===n||n,i={hasLeftText:!1,hasRightText:!1};if(!e.parent)return i;var o=e.parent.children,s=o.indexOf(e);if(s<0)return i;var l=function(e){return e<o.length&&e>=0&&((0,a.isTextType)(o[e])||!!r&&(0,a.isElementType)(o[e],"br"))};return{hasLeftText:l(s-1),hasRightText:l(s+1)}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.callbacks,u=void 0===n?{}:n,d=t.imageOptions,f=t.marginWithSiblingBr,g=u.onImageRender,v=u.onImageClick;if((0,a.isElementType)(e,"img")){var p=e.attribs,h=p.src,m=p.alt,_=c(e,{regardSiblingBrAsText:void 0===f||f}),x=_.hasLeftText,b=_.hasRightText;return(0,i.jsx)(l,(0,r._)({extraProps:(0,o.attributesToProps)(e.attribs),src:(0,s.safeParseUrl)(h)&&h,onImageClick:v,onImageRender:g,imageOptions:(0,r._)({alt:m,objectFit:"cover",objectPosition:"center",height:256,width:400},d),style:{borderRadius:12,overflow:"hidden"},wrapperStyle:{marginTop:x?20:void 0,marginBottom:b?20:void 0,display:"inline-block",width:"100%"}},u))}}},38781:function(e,t,n){"use strict";n.d(t,{renderCustomNode:function(){return m}});var r=n("12526"),i=n("98184"),o=n("62189"),a=n("96355"),s=n("56378"),l=n("79583"),c=n("93307"),u=n("23041"),d=n("90643"),f=n("87497"),g=n("86240"),v=n("2966"),p=n("35844"),h=n("17303"),m=function(e){var t,n,_,x,b,k,C,S,w,y,I,M,T,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=R.callbacks,j=void 0===E?{}:E,B=R.insertedElements,L=R.imageOptions,N=R.codeBarConfig,A=R.forceBrInterSpacing,F=R.spacingAfterChineseEm,P=function(e){return m(e,R)};return null!==(T=null!==(M=null!==(I=null!==(y=null!==(w=null!==(S=null!==(C=null!==(k=null!==(b=null!==(x=null!==(_=null!==(n=null!==(t=(0,s.renderMath)(e))&&void 0!==t?t:B&&(0,u.renderInsertElement)(e,{insertedElements:B}))&&void 0!==n?n:(0,p.renderDanger)(e))&&void 0!==_?_:(0,c.renderLink)(e,{renderRest:P,callbacks:j}))&&void 0!==x?x:(0,f.renderImage)(e,{callbacks:j,imageOptions:L,marginWithSiblingBr:!A}))&&void 0!==b?b:(0,h.renderCodeBlockGroup)(e,{renderRest:P,codeBarConfig:N}))&&void 0!==k?k:(0,d.renderIndicator)(e))&&void 0!==C?C:(0,a.renderParagraph)(e,{renderRest:P,forceBrInterSpacing:A}))&&void 0!==S?S:(0,v.renderEm)(e,{renderRest:P,spacingAfterChineseEm:F}))&&void 0!==w?w:(0,i.renderTable)(e,{renderRest:P}))&&void 0!==y?y:(0,l.renderList)(e,{renderRest:P}))&&void 0!==I?I:(0,g.renderHeader)(e,{renderRest:P}))&&void 0!==M?M:(0,o.renderSimpleHtml)(e,{renderRest:P}))&&void 0!==T?T:(0,r.renderDom)(e)}},90643:function(e,t,n){"use strict";n.d(t,{renderIndicator:function(){return a}});var r=n("97458"),i=n("12526"),o=(0,n("27796").createMdBoxSlots)("Indicator"),a=function(e){var t;if((0,i.isElementType)(e,"span")&&(null===(t=e.attribs)||void 0===t?void 0:t.class)==="indicator")return(0,r.jsx)(o,{})}},23041:function(e,t,n){"use strict";n.d(t,{renderInsertElement:function(){return s}});var r=n("15313"),i=n("37903"),o=n("12526"),a=n("83897"),s=function(e,t){var n,s=t.insertedElements,l=void 0===s?[]:s;if(!(0,o.isElementType)(e,"span")||e.attribs["data-type"]!==a.INSERT_ELEMENT_SLOT_EXTENSION_NAME)return;var c=e.attribs["data-index"],u=e.attribs["data-raw"];if(!(0,i.default)(c)){var d=parseInt(c);if(!(d>l.length))return null===(n=l[d])||void 0===n?void 0:n.render(u&&r.Buffer.from(u,"base64").toString("utf-8"))}}},93307:function(e,t,n){"use strict";n.d(t,{renderLink:function(){return u}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("35043"),s=n("12526"),l=n("22333"),c=(0,n("27796").createMdBoxSlots)("Link"),u=function(e,t){var n=t.renderRest,u=t.callbacks;if((0,s.isElementType)(e,"a")){var d=e.attribs.href,f=d?(0,l.safeParseUrl)(d):null;return(0,o.jsx)(c,(0,i._)((0,r._)({extraProps:(0,a.attributesToProps)(e.attribs),eventData:f?{url:d,parsedUrl:f}:void 0},u),{children:(0,a.domToReact)(e.children,{replace:n})}))}}},79583:function(e,t,n){"use strict";n.d(t,{renderList:function(){return s}});var r=n("97458"),i=n("37903"),o=n("12526"),a=n("99521"),s=function(e,t){var n=t.renderRest;if((0,o.isElementType)(e,"ol","ul")){var s=e.children.every(function(e){return(0,o.isTextType)(e)||(0,o.isElementType)(e,"li")&&!(0,i.default)(e.children[0])&&(0,o.isElementType)(e.children[0],"input")&&"checkbox"===e.children[0].attribs.type})?"tasklist":void 0;return(0,r.jsx)(a.BlockElement,{className:s,node:e,renderRest:n})}}},56378:function(e,t,n){"use strict";n.d(t,{renderMath:function(){return l}});var r=n("97458"),i=n("15313"),o=n("12526"),a=n("73723"),s=(0,n("27796").createMdBoxSlots)("Tex"),l=function(e){if(!!(0,o.isElementType)(e,"span")){var t=e.attribs["data-type"],n=e.attribs["data-value"];if(n)try{var l=i.Buffer.from(n,"base64").toString("utf8");if(t===a.BLOCK_MATH_SPAN_DATA_TYPE)return(0,r.jsx)(s,{tex:l,mode:"display"});if(t===a.INLINE_MATH_SPAN_DATA_TYPE)return(0,r.jsx)(s,{tex:l,mode:"inline"})}catch(e){return}}}},96355:function(e,t,n){"use strict";n.d(t,{renderParagraph:function(){return v}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("35043"),l=n("87608"),c=n.n(l),u=n("12526"),d=n("27796"),f=n("99521"),g=(0,d.createMdBoxSlots)("Paragraph"),v=function(e,t){var n=t.renderRest,l=t.forceBrInterSpacing;if((0,u.isElementType)(e,"p")){var d=(0,s.attributesToProps)(e.attribs),v=d.className,p=(0,o._)(d,["className"]);return(0,a.jsx)(f.BlockElement,{children:function(t){var o=t.className;return(0,a.jsx)(g,(0,i._)((0,r._)({},p),{className:c()(v,o),forceBrInterSpacing:l,children:(0,s.domToReact)(e.children,{replace:n})}))}})}}},62189:function(e,t,n){"use strict";n.d(t,{renderSimpleHtml:function(){return u}});var r=n("97458"),i=n("52983"),o=n("35043"),a=n("12526"),s=n("27796"),l=n("99521"),c=(0,s.createMdBoxSlots)("BreakLine"),u=function(e,t){var n=t.renderRest;if((0,a.isElementType)(e)){if("br"===e.name)return(0,r.jsx)(c,{});if("hr"===e.name)return(0,r.jsx)(l.BlockElement,{node:e,renderRest:n});if(1===e.children.length){var s=e.children[0];if((0,a.isTextType)(s)&&!s.data.trim())return(0,r.jsx)(r.Fragment,{})}return(0,a.renderReactElement)(e.name,(0,o.attributesToProps)(e.attribs),e.children.length?e.children.map(function(e,t){return(0,r.jsx)(i.Fragment,{children:n(e)},t)}):void 0)}}},98184:function(e,t,n){"use strict";n.d(t,{renderTable:function(){return v}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("35043"),l=n("87608"),c=n.n(l),u=n("12526"),d=n("27796"),f=n("99521"),g=(0,d.createMdBoxSlots)("Table"),v=function(e,t){var n=t.renderRest;if((0,u.isElementType)(e,"table")){var l=(0,s.attributesToProps)(e.attribs),d=l.className,v=(0,o._)(l,["className"]);return(0,a.jsx)(f.BlockElement,{children:function(t){var o=t.className;return(0,a.jsx)(g,(0,i._)((0,r._)({},v),{className:c()(d,o),children:(0,s.domToReact)(e.children,{replace:n})}))}})}}},12526:function(e,t,n){"use strict";n.d(t,{detectIsChinese:function(){return d},getInnerText:function(){return u},isElementType:function(){return c},isEndlineText:function(){return l},isTextType:function(){return s},renderDom:function(){return f},renderReactElement:function(){return g}});var r=n("97458"),i=n("52983"),o=n("61283"),a=n("35043"),s=function(e){return"text"===e.type},l=function(e){return s(e)&&/^\n+$/.test(u(e))},c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"attribs"in e&&"object"==typeof e.attribs&&"tag"===e.type&&(!(null==n?void 0:n.length)||n.some(function(t){return(0,o.default)(t)?t.test(e.name):t===e.name}))},u=function(e){return s(e)?e.data:c(e)?e.children.map(u).join(""):""},d=function(e){return/[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DB5\u4E00-\u9FD5\uF900-\uFA6D\uFA70-\uFAD9]/.test(e)},f=function(e){return(0,r.jsx)(r.Fragment,{children:(0,a.domToReact)([e])})},g=function(e,t,n){return"markdown-root"===t.className?(0,r.jsx)(r.Fragment,{children:n}):(0,r.jsx)(r.Fragment,{children:(0,i.createElement)(e,t,(null==n?void 0:n.length)?n:void 0)})}},15478:function(e,t,n){"use strict";n.d(t,{BreakLine:function(){return f},withMdBoxBreakLine:function(){return g}});var r=n("83316"),i=n("9161"),o=n("89334"),a=n("97458"),s=n("87608"),l=n.n(s),c=n("65482"),u=n("4802"),d=n("29371"),f=function(e){var t=e.className,n=e.style;return(0,a.jsx)("br",{className:l()(d.container,t),style:n})},g=function(e){return function(t){var n=t.className,s=(0,o._)(t,["className"]);return(0,a.jsx)(a.Fragment,{children:e&&(0,a.jsx)(e,(0,i._)({className:l()(u.wrapper,n,(0,r._)({},d["non-select"],!(0,c.getIsSafari)()))},s))})}}},80694:function(e,t,n){"use strict";n.d(t,{CodeBar:function(){return v}});var r=n("83316"),i=n("40509"),o=n("97458"),a=n("52983"),s=n("87608"),l=n.n(s),c=n("56320"),u=n("8125"),d=n("62652"),f=n("99521"),g=n("10913"),v=function(e){var t=(0,d.useMdBoxTranslate)(),n=e.loading,s=e.defaultExpand,v=void 0!==s&&s,p=e.showBar,h=e.children,m=e.expandedFinishedText,_=void 0===m?t("codeBarExpandedFinishedText"):m,x=e.unExpandFinishedText,b=void 0===x?t("codeBarUnExpandFinishedText"):x,k=e.className,C=e.style,S=(0,i._)((0,a.useState)(v),2),w=S[0],y=S[1];return(0,a.useEffect)(function(){y(v)},[v]),(0,o.jsxs)(o.Fragment,{children:[(void 0===p||p)&&(0,o.jsx)(f.BlockElement,{children:function(e){var i=e.className;return(0,o.jsxs)("div",{className:l()(g.container,g.hoverable,i,k),"data-testid":"code-bar",onClick:function(){y(!w)},style:C,children:[n&&(0,o.jsx)(c.ReactComponent,{className:l()(g.icon,g.rotating)}),(0,o.jsx)("div",{className:g.title,children:n?t("codeBarLoadingText"):w?_:b}),(0,o.jsx)(u.ReactComponent,{className:l()(g.icon,(0,r._)({},g.reverse,w))})]})}}),null==h?void 0:h(w)]})}},71:function(e,t,n){"use strict";n.d(t,{CodeBlock:function(){return h}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("86724"),s=n.n(a),l=n("87608"),c=n.n(l),u=n("49956"),d=n("95351"),f=n("1841"),g=n("27796"),v=n("62652"),p=n("65607"),h=function(e){var t=e.code,n=e.language,a=e.className,l=e.style,h=e.showHeader,m=(0,g.useMdBoxSlots)().CodeBlockHighlighter,_=(0,v.useMdBoxTranslate)(),x=(0,r._)((0,o.useState)(!1),2),b=x[0],k=x[1],C=(0,u.useAutoDetectLanguage)(t,n);return(0,i.jsx)("div",{className:c()(p["code-block-element"],"hide-indicator",a),children:(0,i.jsxs)("div",{className:c()(p["code-area"]),style:l,dir:"ltr",children:[(void 0===h||h)&&(0,i.jsxs)("div",{className:p.header,children:[(0,i.jsx)("div",{className:p.text,children:C}),(0,i.jsxs)("div",{className:p.copy,onClick:function(){!b&&(s()(t),k(!0),setTimeout(function(){k(!1)},3e3))},children:[(0,i.jsx)("div",{className:c()(p.icon,p.hoverable),"data-testid":"code-block-copy",children:b?(0,i.jsx)(d.ReactComponent,{className:p.img}):(0,i.jsx)(f.ReactComponent,{className:p.img})}),(0,i.jsx)("div",{className:p["copy-title"],children:_("copyTitle")})]})]}),(0,i.jsx)("div",{className:p.content,children:m&&(0,i.jsx)(m,{code:t,language:n})})]})})}},49956:function(e,t,n){"use strict";n.d(t,{useAutoDetectLanguage:function(){return c}});var r=n("92769"),i=n("40509"),o=n("88802"),a=n("52983"),s=n("87048"),l="plaintext",c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,c=(0,i._)((0,a.useState)(n),2),u=c[0],d=c[1];var f=(t=(0,r._)(function(){var t;return(0,o.__generator)(this,function(n){switch(n.label){case 0:if(u!==l)return[3,2];return[4,(0,s.detectLanguage)(e)];case 1:(t=n.sent())&&d(t),n.label=2;case 2:return[2]}})}),function(){return t.apply(this,arguments)});return(0,a.useEffect)(function(){d(n)},[n]),(0,a.useEffect)(function(){f()},[e,u]),u}},87048:function(e,t,n){"use strict";n.d(t,{detectLanguage:function(){return r}});var r=function(e){}},96451:function(e,t,n){"use strict";n.d(t,{Image:function(){return m}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("40509"),l=n("97458"),c=n("52983"),u=n("87608"),d=n.n(u),f=n("24914"),g=n("36877"),v=n("54489"),p=n("6044");(0,f.GlobalConfig)({formats:["avif","webp"],placeholder:"skeleton",loader:function(e){return e.extra.origin}});var h=function(e){var t=new URL(e);return"http:"===t.protocol&&(t.protocol="https:"),t.toString()},m=function(e){var t,n=e.className,u=e.style,m=e.wrapperClassName,_=e.wrapperStyle,x=e.extraProps,b=e.src,k=void 0===b?null:b,C=e.onImageClick,S=e.onImageRender,w=e.imageOptions,y=void 0===w?{layout:"intrinsic",objectFit:"contain",width:400,height:400}:w,I=e.errorClassName,M=e.children,T=y.squareContainer,R=y.forceHttps,E=(0,a._)(y,["squareContainer","forceHttps"]),j=y.width,B=y.height,L=k&&(void 0!==R&&R?h(k):k),N=(0,s._)((0,c.useState)(v.ImageStatus.Loading),2),A=N[0],F=N[1],P={src:L,status:A};(0,c.useEffect)(function(){L&&(null==S||S(P))},[L]);var O=j&&B&&{width:"100%",height:0,paddingBottom:"min(".concat(B/j*100,"%, ").concat(B,"px)"),maxWidth:j};return(0,l.jsx)("div",{onClick:function(e){C&&P&&(C(e,P),e.stopPropagation())},className:d()(p["image-wrapper"],(t={},(0,r._)(t,p.clickable,!!C),(0,r._)(t,p.square,void 0!==T&&T),t),m),style:(0,i._)({},O,_),"data-testid":"mdbox_image",children:M||(0,l.jsx)(f.Viewer,(0,o._)((0,i._)({},x,E),{alt:"image",src:null!=L?L:"",error:(0,l.jsx)("div",{className:d()(p["error-wrapper"],I,"error-wrapper"),ref:function(){F(v.ImageStatus.Failed)},children:(0,l.jsx)(g.ReactComponent,{className:p.fallbackIcon})}),onLoadingComplete:function(){F(v.ImageStatus.Success)},className:d()(n,p.image),style:u}))})}},14917:function(e,t,n){"use strict";n.d(t,{Indicator:function(){return s}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("39352"),s=function(e){var t=e.className,n=e.style;return(0,r.jsx)("span",{className:a.container,children:(0,r.jsx)("span",{className:o()(a.indicator,a.flashing,t),style:n,"data-testid":"indicator"})})}},55851:function(e,t,n){"use strict";n.d(t,{LightCodeBlockHighlighter:function(){return s}});var r=n("97458"),i=n("87608"),o=n.n(i),a=n("63405"),s=function(e){var t=e.language,n=e.code,i=e.className,s=e.style;return(0,r.jsx)("pre",{className:o()(t&&"language-".concat(t),a["light-scrollbar"],i),style:s,children:(0,r.jsx)("code",{children:n})})};t.default=s},21651:function(e,t,n){"use strict";var r=n("97458"),i=n("87608"),o=n.n(i);t.default=function(e){var t=e.tex,n=(e.mode,e.className),i=e.style;return(0,r.jsx)("span",{className:o()("math-inline",n),style:i,children:t})}},33497:function(e,t,n){"use strict";n.d(t,{Link:function(){return v}});var r=n("9161"),i=n("16044"),o=n("97458"),a=n("52983"),s=n("46593"),l=n("30934"),c=n("22333"),u=n("54489"),d=n("32097"),f=function(e){var t=(0,c.safeParseUrl)(e);return!!t&&("http:"===t.protocol||"https:"===t.protocol)},g=function(e){var t=(0,c.safeParseUrl)(e);return!!t&&"coco:"===t.protocol},v=function(e){var t=e.extraProps,n=e.eventData,c=e.children,v=e.onSendMessage,p=e.onLinkClick,h=e.onLinkRender;return(0,a.useEffect)(function(){n&&(null==h||h(n))},[]),(0,o.jsx)("a",(0,i._)((0,r._)({},(0,s.default)(t,"href")),{className:d.link,onClick:function(e){if(!n){e.preventDefault();return}var t=n.parsedUrl,o=n.url;if(g(o)){e.preventDefault();var a=t.searchParams.get("msg"),s=t.searchParams.get("ext"),c=s?(0,l.parseJSON)(s):void 0,d=null==c?void 0:c.s$wiki_link;if(d){f(d)&&(null==p||p(e,(0,i._)((0,r._)({},n),{exts:{wiki_link:d,type:u.LinkType.wiki}})));return}if(a){null==v||v(a);return}null==p||p(e,(0,i._)((0,r._)({},n),{exts:{type:u.LinkType.coco}}))}f(o)&&(p?p(e,(0,i._)((0,r._)({},n),{exts:{type:u.LinkType.normal}})):(e.preventDefault(),e.stopPropagation(),window.open(o)))},href:null==n?void 0:n.url,target:"_blank",children:c}))}},30934:function(e,t,n){"use strict";n.d(t,{parseJSON:function(){return r}});var r=function(e){try{return e?JSON.parse(e):{}}catch(e){return{}}}},47677:function(e,t,n){"use strict";n.d(t,{Paragraph:function(){return u}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("87608"),l=n.n(s),c=n("5424"),u=function(e){var t=e.children,n=e.className,s=e.forceBrInterSpacing,u=(0,o._)(e,["children","className","forceBrInterSpacing"]);return(0,a.jsx)("div",(0,i._)((0,r._)({className:l()(n,c.paragraph,"paragraph-element",{"br-paragraph-space":void 0!==s&&s})},u),{children:t}))}},88393:function(e,t,n){"use strict";n.d(t,{Table:function(){return u}});var r=n("9161"),i=n("16044"),o=n("89334"),a=n("97458"),s=n("87608"),l=n.n(s),c=n("942"),u=function(e){var t=e.children,n=e.className,s=(0,o._)(e,["children","className"]);return(0,a.jsx)("div",(0,i._)((0,r._)({className:l()(n,c["table-container"])},s),{children:(0,a.jsx)("table",{children:t})}))}},50655:function(e,t,n){"use strict";n.d(t,{assert:function(){return f}});var r=n("47767"),i=n("69420"),o=n("73209"),a=n("6462"),s=n("29048"),l=n("67941"),c=n("26379"),u=n("51247"),d=function(e){(0,o._)(n,e);var t=(0,c._)(n);function n(){for(var e,o,l,c,u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];return(0,i._)(this,n),c=t.call.apply(t,[this].concat((0,a._)(d))),e=(0,r._)(c),l="assert_error",(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,s._)(t))?t:String(t)}(o="name"))in e?Object.defineProperty(e,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[o]=l,c}return n}((0,l._)(Error)),f=function(e,t){if(!e){if((0,u.default)(t))throw t;throw new d(t)}}},98124:function(e,t,n){"use strict";n.d(t,{firstMatch:function(){return o},isNumeric:function(){return i},pipe:function(){return r}});var r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},i=function(e){var t=e.replace(/,/g,"");return!isNaN(t)&&!isNaN(parseFloat(t))},o=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t(s);if(l)return l}}catch(e){r=!0,i=e}finally{try{!n&&null!=a.return&&a.return()}finally{if(r)throw i}}}},65482:function(e,t,n){"use strict";var r;function i(){return void 0===r&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),r}n.d(t,{getIsSafari:function(){return i}})},46125:function(e,t,n){"use strict";n.d(t,{useCustomMemoValue:function(){return a},useDeepCompareMemo:function(){return s}});var r=n("52983"),i=n("37903"),o=n("83053"),a=function(e,t){var n=(0,r.useRef)(e);return!t(e,n.current)&&(n.current=e),n.current},s=function(e,t){var n=(0,r.useRef)();return((0,i.default)(n.current)||!(0,o.default)(n.current,t))&&(n.current=t),(0,r.useMemo)(e,n.current)}},22333:function(e,t,n){"use strict";n.d(t,{safeParseUrl:function(){return r}});var r=function(e){try{return new URL(e)}catch(e){return null}}},18029:function(e,t,n){"use strict";n.d(t,{purifyHtml:function(){return o}});var r=n("52520"),i=n.n(r),o=function(e){var t;return null===(t=i().sanitize)||void 0===t?void 0:t.call(i(),e,{ALLOW_UNKNOWN_PROTOCOLS:!0,RETURN_DOM:!1})}},72492:function(e,t,n){"use strict";n.d(t,{Button:function(){return f}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458");n("52983");var l=n("87608"),c=n.n(l),u=n("53268"),d=n("62159"),f=function(e){var t=e.theme,n=e.type,l=(0,a._)(e,["theme","type"]);return(0,s.jsx)(u.Button,(0,o._)((0,i._)({},l),{type:void 0===n?"secondary":n,className:c()((0,r._)({},d.flow,"flow"===(void 0===t?"flow":t))),children:e.children}))}},67477:function(e,t,n){"use strict";n.d(t,{CarouselItem:function(){return s}});var r=n("97458");n("52983");var i=n("87608"),o=n.n(i),a=n("90016"),s=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:o()(a["carousel-item"],n,"carousel-item"),children:t})}},9407:function(e,t,n){"use strict";n.d(t,{Carousel:function(){return h}});var r=n("83316"),i=n("40509"),o=n("97458"),a=n("52983"),s=n("34757"),l=n("87608"),c=n.n(l),u=n("67477"),d=n("75554"),f=n("7879"),g=n("20440"),v=function(e){var t=e.enableArrowBorder,n=e.enableArrowShalldow,i=e.className,a=e.onClick;return(0,o.jsx)("div",{className:c()(g["arrow-container"],(0,r._)({},g.left,n),"arrow-container-left"),children:(0,o.jsx)("div",{onClick:a,className:c()(i,g["left-arrow"],g.arrow,"left-arrow",(0,r._)({},g["no-border"],!t)),children:(0,o.jsx)(d.ReactComponent,{})})})},p=function(e){var t=e.enableArrowBorder,n=e.enableArrowShalldow,i=e.className,a=e.onClick;return(0,o.jsx)("div",{className:c()(g["arrow-container"],(0,r._)({},g.right,n),"arrow-container-right"),children:(0,o.jsx)("div",{onClick:a,className:c()(i,g["right-arrow"],g.arrow,"right-arrow",(0,r._)({},g["no-border"],!t)),children:(0,o.jsx)(f.ReactComponent,{})})})},h=function(e){var t=e.rows,n=void 0===t?1:t,r=e.column,l=e.itemClassName,d=e.leftArrowClassName,f=e.rightArrowClassName,h=e.carouselRowClassName,m=e.children,_=e.enableArrowShalldow,x=void 0===_||_,b=e.scrollStep,k=void 0===b?.5:b,C=e.enableArrowBorder,S=void 0===C||C,w=e.onScroll,y=(0,a.useRef)(null),I=(0,i._)((0,a.useState)(!1),2),M=I[0],T=I[1],R=(0,i._)((0,a.useState)(!1),2),E=R[0],j=R[1];if(!m)return null;var B=a.Children.map(m,function(e,t){return(0,o.jsx)(u.CarouselItem,{className:l,children:e},t)}),L=(0,s.default)(B,null!=r?r:Math.ceil(((null==B?void 0:B.length)||0)/n)),N=Array.from(Array(n).fill(null)).map(function(e,t){return(0,o.jsx)("div",{className:c()(g["carousel-row"],"carousel-row",h),children:L[t]},t)});return(0,a.useEffect)(function(){var e,t,n=function(){var e,t,n,r,i,o,a=Math.ceil(null!==(r=null==y?void 0:null===(e=y.current)||void 0===e?void 0:e.scrollLeft)&&void 0!==r?r:0),s=(null!==(i=null==y?void 0:null===(t=y.current)||void 0===t?void 0:t.scrollWidth)&&void 0!==i?i:0)-(null!==(o=null==y?void 0:null===(n=y.current)||void 0===n?void 0:n.clientWidth)&&void 0!==o?o:0)-a;T(a>0),j(Math.abs(s)>2)},r=function(){null==w||w(),n()};return n(),null==y||null===(e=y.current)||void 0===e||e.addEventListener("scroll",r),null===(t=window)||void 0===t||t.addEventListener("resize",n),function(){var e,t;null==y||null===(e=y.current)||void 0===e||e.removeEventListener("scroll",r),null===(t=window)||void 0===t||t.removeEventListener("resize",n)}},[m]),(0,o.jsxs)("div",{className:c()(g.carousel,"carousel"),children:[M&&(0,o.jsx)(v,{onClick:function(){var e,t,n,r;(null==y?void 0:null===(e=y.current)||void 0===e?void 0:e.scrollLeft)!==void 0&&(null==y?void 0:null===(t=y.current)||void 0===t?void 0:t.clientWidth)&&(null===(n=(r=y.current).scrollTo)||void 0===n||n.call(r,{left:Math.max(y.current.scrollLeft-y.current.clientWidth*k,0),behavior:"smooth"}))},enableArrowBorder:S,enableArrowShalldow:x,className:d}),(0,o.jsx)("div",{className:c()(g["carousel-content"],"carousel-content"),ref:y,children:N}),E&&(0,o.jsx)(p,{onClick:function(){var e=null!==(r=null==y?void 0:null===(t=y.current)||void 0===t?void 0:t.clientWidth)&&void 0!==r?r:0;if((null==y?void 0:null===(n=y.current)||void 0===n?void 0:n.scrollLeft)!==void 0&&e){var t,n,r,i,o,a,s,l,c,u=(null!==(l=null==y?void 0:null===(i=y.current)||void 0===i?void 0:i.scrollWidth)&&void 0!==l?l:0)-(null!==(c=null==y?void 0:null===(o=y.current)||void 0===o?void 0:o.clientWidth)&&void 0!==c?c:0);null===(a=(s=y.current).scrollTo)||void 0===a||a.call(s,{left:Math.min(y.current.scrollLeft+e*k,u),behavior:"smooth"})}},enableArrowBorder:S,enableArrowShalldow:x,className:f})]})}},25211:function(e,t,n){"use strict";n.d(t,{ImageGrid:function(){return v}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458"),l=n("52983"),c=n("87608"),u=n.n(c),d=n("41561"),f=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=e<i,a=e%i==0,s=e>=t-(t%i||i),l=e%i==Math.min(i,t)-1;return u()((n={},(0,r._)(n,d["top-left"],0===e),(0,r._)(n,d["top-right"],o&&l),(0,r._)(n,d["bottom-left"],s&&a),(0,r._)(n,d["bottom-right"],s&&l),n))},g=function(e){return l.createElement("img",{src:e,style:{display:"block"}})},v=function(e){var t=e.className,n=e.style,r=e.imgList,l=e.gridColumns,c=e.children,v=void 0===c?g:c,p=(0,a._)(e,["className","style","imgList","gridColumns","children"]),h=l?"repeat(".concat(l,", minmax(0, 1fr))"):void 0;return(0,s.jsx)("div",(0,o._)((0,i._)({className:u()(d["image-box-grid"],t),style:(0,i._)({},n,h?{gridTemplateColumns:h}:{})},p),{children:r.map(function(e,t,n){return(0,s.jsx)("div",{className:u()(d["image-box-grid-item"],f(t,n.length,l)),children:v(e,t,n)},t)})}))}},16566:function(e,t,n){"use strict";n.d(t,{MessageBoxBase:function(){return m}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("40509"),l=n("97458"),c=n("52983"),u=n("28377"),d=n("87608"),f=n.n(d),g=n("78597"),v=n("69313"),p=function(){var e=(0,s._)((0,c.useState)(!1),2),t=e[0],n=e[1];return{val:t,mouseEvents:{onMouseEnter:function(){(0,g.isMobile)()&&(0,g.isAppleWebkit)()?setTimeout(function(){return n(!0)},50):n(!0)},onMouseLeave:function(){return n(!1)}}}},h=(0,c.forwardRef)(function(e,t){var n=e.className,s=e.children,c=e.widthInitial,u=(0,a._)(e,["className","children","widthInitial"]);return(0,l.jsx)("div",(0,o._)((0,i._)({ref:t,className:f()("message-content",v["message-box-content"],(0,r._)({},v["message-box-content__width-initial"],c),n)},u),{children:s}))}),m=(0,c.forwardRef)(function(e,t){var n=e.contentRef,s=e.contentProps,c=(0,a._)(e,["contentRef","contentProps"]),d=c.contentWrapperClassName,g=c.inlineReverse,m=c.inlineBefore,_=c.inlineAfter,x=c.before,b=c.after,k=c.children,C=c.layoutOnly,S=c.className,w=(0,a._)(c,["contentWrapperClassName","inlineReverse","inlineBefore","inlineAfter","before","after","children","layoutOnly","className"]),y=p(),I=y.val,M=y.mouseEvents,T=(0,u.useInView)(),R=T.ref,E=T.inView;return(0,l.jsxs)("div",(0,o._)((0,i._)({ref:t},w,M),{className:f()(v["message-box"],(0,r._)({},v["message-box__reverse"],g),S),children:[!C&&x,(0,l.jsxs)("div",{ref:R,className:f()(v["message-box-content-wrapper"],d),children:[!C&&m,C?k({inView:E,mouseOver:I}):(0,l.jsx)(h,(0,o._)((0,i._)({ref:n},s),{children:k({inView:E,mouseOver:I})})),!C&&_]}),!C&&(null==b?void 0:b({inView:E,mouseOver:I}))]}))})},44052:function(e,t,n){"use strict";n.d(t,{RadioGroup:function(){return f}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458");n("52983");var l=n("87608"),c=n.n(l),u=n("53268"),d=n("73292"),f=function(e){var t,n=e.theme,l=(0,a._)(e,["theme"]),f="button"===l.type;return(0,s.jsx)(u.RadioGroup,(0,o._)((0,i._)({},l),{className:c()((t={},(0,r._)(t,d.flow,"flow"===(void 0===n?"flow":n)),(0,r._)(t,d["button-type"],f),t)),children:e.children}))}},51578:function(e,t,n){"use strict";n.d(t,{Select:function(){return f}});var r=n("83316"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("97458");n("52983");var l=n("87608"),c=n.n(l),u=n("53268"),d=n("39801"),f=function(e){var t,n=e.theme,l=void 0===n?"flow":n,f=e.mode,g=e.className,v=(0,a._)(e,["theme","mode","className"]);return(0,s.jsx)(u.Select,(0,o._)((0,i._)({},v),{className:c()((t={},(0,r._)(t,d.flow,"flow"===l),(0,r._)(t,d.wrap,"wrap"===(void 0===f?"ellipsis":f)),t),g),dropdownClassName:c()((0,r._)({},d["flow-dropdown"],"flow"===l)),children:e.children}))}},5601:function(e,t,n){"use strict";function r(e){return e?{"data-testid":e}:{}}n.d(t,{getTestIdProps:function(){return r}})},38142:function(e){"use strict";e.exports={avatar:"avatar-_5265b",avatarBox:"avatarBox-_11b52",bottomBox:"bottomBox-_741c8",button:"button-_7eeba",container:"container-_815f8",createButton:"createButton-_30314",icon:"icon-bb2175",name:"name-aaf4a2",topBox:"topBox-_908c0",topLeft:"topLeft-e516c8"}},9197:function(e){"use strict";e.exports={container:"container-_9f668",inner:"inner-f39578","inner-mask":"inner-mask-aac8dd",innerMask:"inner-mask-aac8dd","inner-show-more":"inner-show-more-_9f81f",innerShowMore:"inner-show-more-_9f81f","inner-unloaded":"inner-unloaded-a3b879",innerUnloaded:"inner-unloaded-a3b879","show-more-action":"show-more-action-b69497",showMoreAction:"show-more-action-b69497"}},48167:function(e){"use strict";e.exports={skeleton:"skeleton-ceb5c1"}},53853:function(e){"use strict";e.exports={"error-boundary":"error-boundary-d84a09",errorBoundary:"error-boundary-d84a09","file-box-container":"file-box-container-d05e8d",fileBoxContainer:"file-box-container-d05e8d","file-box-container__clickable":"file-box-container__clickable-b43712",fileBoxContainerClickable:"file-box-container__clickable-b43712","file-icon-box":"file-icon-box-_275d8",fileIconBox:"file-icon-box-_275d8","file-icon-overlay-container":"file-icon-overlay-container-_7bb64",fileIconOverlayContainer:"file-icon-overlay-container-_7bb64","file-overlay":"file-overlay-_720a2",fileOverlay:"file-overlay-_720a2","file-title-box":"file-title-box-_7c787",fileTitleBox:"file-title-box-_7c787","hover-press-shadow":"hover-press-shadow-_5fe24",hoverPressShadow:"hover-press-shadow-_5fe24"}},37509:function(e){"use strict";e.exports={disabled:"disabled-d5a531","dot-flashing":"dot-flashing-_4f97e",dotFlashing:"dot-flashing-_4f97e"}},63083:function(e){"use strict";e.exports={button:"button-_267c2","close-icon":"close-icon-_4c270",closeIcon:"close-icon-_4c270",conatiner:"conatiner-_1afcb",title:"title-dd0c47"}},9516:function(e){"use strict";e.exports={container:"container-_9a49d"}},45236:function(e){"use strict";e.exports={close:"close-c41576",container:"container-_7b7da",icon:"icon-fa12c8",inner:"inner-_758fc",input:"input-fb895f",item:"item-_4f34e","left-side":"left-side-_6040c",leftSide:"left-side-_6040c",options:"options-f9aba6","options-bar":"options-bar-_87f77",optionsBar:"options-bar-_87f77","right-side":"right-side-acdafd",rightSide:"right-side-acdafd",submit:"submit-d03ce4",text:"text-_45738","title-bar":"title-bar-_83002",titleBar:"title-bar-_83002",unchecked:"unchecked-e40cf3"}},44111:function(e){"use strict";e.exports={checked:"checked-_0aaef","checked-theme-full":"checked-theme-full-de9353",checkedThemeFull:"checked-theme-full-de9353","checked-theme-solid":"checked-theme-solid-_74f11",checkedThemeSolid:"checked-theme-solid-_74f11",container:"container-_33668",icon:"icon-_0a217",text:"text-_24fdc"}},44311:function(e){"use strict";e.exports={bottom:"bottom-b5af83",container:"container-_9add9",inter:"inter-_4ae0b",item:"item-_585b0",top:"top-_415cb"}},56625:function(e){"use strict";e.exports={"auto-show-scrollbar":"auto-show-scrollbar-_46525",autoShowScrollbar:"auto-show-scrollbar-_46525",bottom:"bottom-c23ead",container:"container-ac5203",scroller:"scroller-_739af","show-scrollbar":"show-scrollbar-_39d3c",showScrollbar:"show-scrollbar-_39d3c","show-scrollbar-thumb":"show-scrollbar-thumb-bb0b5f",showScrollbarThumb:"show-scrollbar-thumb-bb0b5f",top:"top-_345f6"}},29889:function(e){"use strict";e.exports={box:"box-_61fb4","delete-button":"delete-button-c25fc2",deleteButton:"delete-button-c25fc2"}},10378:function(e){"use strict";e.exports={"disclaimer-text":"disclaimer-text-b5c207",disclaimerText:"disclaimer-text-b5c207",footer:"footer-c791af","footer-text":"footer-text-_6206a",footerText:"footer-text-_6206a"}},54319:function(e){"use strict";e.exports={"close-box":"close-box-_85525",closeBox:"close-box-_85525","close-icon":"close-icon-_1acac",closeIcon:"close-icon-_1acac",container:"container-_95a6b",icon:"icon-_8ee6e",info:"info-_7bae2",line:"line-_7796d","line-box":"line-box-ce9ea3",lineBox:"line-box-ce9ea3",name:"name-c9820c","ref-content":"ref-content-_88344",refContent:"ref-content-_88344"}},21939:function(e){"use strict";e.exports={"chat-header":"chat-header-ab7ecd",chatHeader:"chat-header-ab7ecd",container:"container-b1264f","container-shrink":"container-shrink-_80f2b",containerShrink:"container-shrink-_80f2b",containerWrapper:"containerWrapper-_51692","conversation-header":"conversation-header-a2790a",conversationHeader:"conversation-header-a2790a",dragover:"dragover-_3954f","drop-area":"drop-area-dd02ea",dropArea:"drop-area-dd02ea",footer:"footer-_1a579",header:"header-_77714",inter:"inter-_5a1bb",ipad:"ipad-_275ad","outer-container":"outer-container-_977a5",outerContainer:"outer-container-_977a5","side-sheet":"side-sheet-_5c426",sideSheet:"side-sheet-_5c426"}},92650:function(e){"use strict";e.exports={icon:"icon-fab416","skill-bar-item":"skill-bar-item-fdaa81",skillBarItem:"skill-bar-item-fdaa81","skill-bar-item__primary":"skill-bar-item__primary-b3b725",skillBarItemPrimary:"skill-bar-item__primary-b3b725","skill-bar-item__primary-active":"skill-bar-item__primary-active-_0baf8",skillBarItemPrimaryActive:"skill-bar-item__primary-active-_0baf8","skill-bar-item__primary-active-back":"skill-bar-item__primary-active-back-c6dda6",skillBarItemPrimaryActiveBack:"skill-bar-item__primary-active-back-c6dda6",text:"text-_4d56d"}},25332:function(e){"use strict";e.exports={"more-skill-input":"more-skill-input-_89975",moreSkillInput:"more-skill-input-_89975","more-skills-content-container":"more-skills-content-container-_51b15",moreSkillsContentContainer:"more-skills-content-container-_51b15","skill-item":"skill-item-d60db0",skillItem:"skill-item-d60db0","skill-item-desc":"skill-item-desc-d896ac",skillItemDesc:"skill-item-desc-d896ac","skill-item-icon":"skill-item-icon-_20939",skillItemIcon:"skill-item-icon-_20939","skill-item-list":"skill-item-list-c3fb28",skillItemList:"skill-item-list-c3fb28","skill-item-list-empty":"skill-item-list-empty-be6976",skillItemListEmpty:"skill-item-list-empty-be6976","skill-item-name":"skill-item-name-_31728",skillItemName:"skill-item-name-_31728","skill-item-selected":"skill-item-selected-ec745b",skillItemSelected:"skill-item-selected-ec745b"}},24676:function(e){"use strict";e.exports={"action-btn-wrapper":"action-btn-wrapper-_1c5ec",actionBtnWrapper:"action-btn-wrapper-_1c5ec","close-btn-svg":"close-btn-svg-_7ef01",closeBtnSvg:"close-btn-svg-_7ef01","collapse-btn-svg":"collapse-btn-svg-_9bf81",collapseBtnSvg:"collapse-btn-svg-_9bf81","expand-btn-svg":"expand-btn-svg-_7da4d",expandBtnSvg:"expand-btn-svg-_7da4d",icon:"icon-_6e966",right:"right-_38e0b",shortcut:"shortcut-a1f87e","shortcut-key":"shortcut-key-_7fde2",shortcutKey:"shortcut-key-_7fde2","shortcut-name":"shortcut-name-_8e9b2",shortcutName:"shortcut-name-_8e9b2","skill-title-container":"skill-title-container-d356fc",skillTitleContainer:"skill-title-container-d356fc","skill-title-container-blue":"skill-title-container-blue-_83d29",skillTitleContainerBlue:"skill-title-container-blue-_83d29","skill-title-container-gray":"skill-title-container-gray-_28e4d",skillTitleContainerGray:"skill-title-container-gray-_28e4d","skill-title-container-normal":"skill-title-container-normal-_56cbc",skillTitleContainerNormal:"skill-title-container-normal-_56cbc","skill-title-content":"skill-title-content-_55f20",skillTitleContent:"skill-title-content-_55f20",title:"title-_017ce"}},37931:function(e){"use strict";e.exports={"chat-footer-action-wrapper":"chat-footer-action-wrapper-c0d391",chatFooterActionWrapper:"chat-footer-action-wrapper-c0d391"}},99012:function(e){"use strict";e.exports={"disabled-tips":"disabled-tips-ead835",disabledTips:"disabled-tips-ead835"}},34753:function(e){"use strict";e.exports={"add-button":"add-button-_35b54",addButton:"add-button-_35b54","add-button-exited":"add-button-exited-_3658b",addButtonExited:"add-button-exited-_3658b","add-button-exiting":"add-button-exiting-_511e5",addButtonExiting:"add-button-exiting-_511e5","button-fadeout":"button-fadeout-_18ce7",buttonFadeout:"button-fadeout-_18ce7",fade:"fade-_3ee2e","fade-exited":"fade-exited-_5e7d7",fadeExited:"fade-exited-_5e7d7","fade-exiting":"fade-exiting-_561ee",fadeExiting:"fade-exiting-_561ee",fadeout:"fadeout-_08073","font-footnote":"font-footnote-e1d6aa",fontFootnote:"font-footnote-e1d6aa","font-h1":"font-h1-d7923b",fontH1:"font-h1-d7923b"}},65886:function(e){"use strict";e.exports={"message-block-container":"message-block-container-_311ac",messageBlockContainer:"message-block-container-_311ac"}},33049:function(e){"use strict";e.exports={"bottom-absoluted":"bottom-absoluted-_72e49",bottomAbsoluted:"bottom-absoluted-_72e49",container:"container-a892d4",item:"item-_38bc2"}},82640:function(e){"use strict";e.exports={borderless:"borderless-e79f94",line:"line-_82171","section-divider":"section-divider-_7d50e",sectionDivider:"section-divider-_7d50e",text:"text-_5611e"}},89405:function(e){"use strict";e.exports={hidden:"hidden-_4b5ab","inner-item":"inner-item-fa1dff",innerItem:"inner-item-fa1dff","message-list":"message-list-_88318",messageList:"message-list-_88318",mobile:"mobile-fda985","msg-list-loading":"msg-list-loading-b20d1a",msgListLoading:"msg-list-loading-b20d1a","to-bottom-button":"to-bottom-button-fdfc77",toBottomButton:"to-bottom-button-fdfc77"}},84712:function(e){"use strict";e.exports={borderless:"borderless-b2aa71",image:"image-df23a1",primary:"primary-_1e505"}},48601:function(e){"use strict";e.exports={modal:"modal-f3bb9b"}},15930:function(e){"use strict";e.exports={"action-button":"action-button-_541da",actionButton:"action-button-_541da",container:"container-_75925","delete-icon":"delete-icon-_09984",deleteIcon:"delete-icon-_09984","with-right-space":"with-right-space-_296ae",withRightSpace:"with-right-space-_296ae"}},85471:function(e){"use strict";e.exports={"popover-more-item":"popover-more-item-_684a7",popoverMoreItem:"popover-more-item-_684a7"}},21247:function(e){"use strict";e.exports={container:"container-_63aea",hide:"hide-_45283",left:"left-_95842","overflow-list":"overflow-list-c88042",overflowList:"overflow-list-c88042",right:"right-_1cee7"}},28267:function(e){"use strict";e.exports={"answer-action-bar":"answer-action-bar-f52165",answerActionBar:"answer-action-bar-f52165","bottom-action-bar":"bottom-action-bar-_0c4da",bottomActionBar:"bottom-action-bar-_0c4da","bottom-action-bar-wrapper":"bottom-action-bar-wrapper-_81826",bottomActionBarWrapper:"bottom-action-bar-wrapper-_81826","feedback-card":"feedback-card-_4a9d7",feedbackCard:"feedback-card-_4a9d7",hide:"hide-_62928","large-space":"large-space-_91a73",largeSpace:"large-space-_91a73","message-box-extra":"message-box-extra-ac13b1",messageBoxExtra:"message-box-extra-ac13b1","message-box-failed-icon":"message-box-failed-icon-bf9c06",messageBoxFailedIcon:"message-box-failed-icon-bf9c06","message-box-hint":"message-box-hint-_993c5",messageBoxHint:"message-box-hint-_993c5","message-box-loading-icon":"message-box-loading-icon-e83b9b",messageBoxLoadingIcon:"message-box-loading-icon-e83b9b","onboarding-mb":"onboarding-mb-_56ba0",onboardingMb:"onboarding-mb-_56ba0","receive-message-box-content":"receive-message-box-content-e4aa2e",receiveMessageBoxContent:"receive-message-box-content-e4aa2e","samantha-message-box-content":"samantha-message-box-content-_83dc2",samanthaMessageBoxContent:"samantha-message-box-content-_83dc2","send-message-box-content":"send-message-box-content-_9ef17",sendMessageBoxContent:"send-message-box-content-_9ef17"}},76445:function(e){"use strict";e.exports={active:"active-_0278c",content:"content-_0cf71","content-wrapper":"content-wrapper-c71fd6",contentWrapper:"content-wrapper-c71fd6","crowd-test-box":"crowd-test-box-_6f36b",crowdTestBox:"crowd-test-box-_6f36b","crowd-test-box-container":"crowd-test-box-container-_0fb3b",crowdTestBoxContainer:"crowd-test-box-container-_0fb3b",disabled:"disabled-_1d271",error:"error-fb263d","icon-wrapper":"icon-wrapper-_5dad2",iconWrapper:"icon-wrapper-_5dad2",inactive:"inactive-_1d928",loading:"loading-_31932","loading-icon":"loading-icon-fd2eaf",loadingIcon:"loading-icon-fd2eaf","modal-content":"modal-content-_7d53d",modalContent:"modal-content-_7d53d","scroll-box":"scroll-box-_9ca70",scrollBox:"scroll-box-_9ca70",title:"title-_70c3c"}},54211:function(e){"use strict";e.exports={"content-container":"content-container-dadcfc",contentContainer:"content-container-dadcfc","crowd-test-container":"crowd-test-container-b41b62",crowdTestContainer:"crowd-test-container-b41b62","message-box-left":"message-box-left-d5b892",messageBoxLeft:"message-box-left-d5b892","message-box-right":"message-box-right-_358dc",messageBoxRight:"message-box-right-_358dc",subtitle:"subtitle-e2a373",title:"title-_049e2"}},89965:function(e){"use strict";e.exports={botCard:"botCard-a2a04f",card:"card-_0ca6a",cardList:"cardList-_74873","chat-header":"chat-header-d04c59",chatHeader:"chat-header-d04c59","conversation-header":"conversation-header-_9ba26",conversationHeader:"conversation-header-_9ba26",image:"image-_7d94a",music:"music-f5f4a8",video:"video-_92af0"}},39258:function(e){"use strict";e.exports={"attachment-node":"attachment-node-_8e5f9",attachmentNode:"attachment-node-_8e5f9"}},24251:function(e){"use strict";e.exports={"failed-comp":"failed-comp-_6607e",failedComp:"failed-comp-_6607e","failed-icon":"failed-icon-a1feef",failedIcon:"failed-icon-a1feef","failed-text":"failed-text-e678b1",failedText:"failed-text-e678b1"}},22764:function(e){"use strict";e.exports={container:"container-d0421a","image-icon-overlay-container":"image-icon-overlay-container-c44a77",imageIconOverlayContainer:"image-icon-overlay-container-c44a77","img-error":"img-error-e7dea1",imgError:"img-error-e7dea1",uploading:"uploading-_86cde"}},47659:function(e){"use strict";e.exports={content:"content-_89e0c"}},61631:function(e){"use strict";e.exports={"message-text-link":"message-text-link-_6579a",messageTextLink:"message-text-link-_6579a","message-text-link-wrapper":"message-text-link-wrapper-_5e075",messageTextLinkWrapper:"message-text-link-wrapper-_5e075"}},2796:function(e){"use strict";e.exports={"self-content-pre":"self-content-pre-bb1e4a",selfContentPre:"self-content-pre-bb1e4a"}},71517:function(e){"use strict";e.exports={content:"content-_53140","message-text":"message-text-_17c96",messageText:"message-text-_17c96"}},85969:function(e){"use strict";e.exports={"fade-entered":"fade-entered-_28881",fadeEntered:"fade-entered-_28881",fadein:"fadein-_6c14f","send-composite-content":"send-composite-content-_2861e",sendCompositeContent:"send-composite-content-_2861e","send-file-content":"send-file-content-cf4c7f",sendFileContent:"send-file-content-cf4c7f","send-image-content":"send-image-content-_5f849",sendImageContent:"send-image-content-_5f849","send-message-box-content":"send-message-box-content-_9dd2f",sendMessageBoxContent:"send-message-box-content-_9dd2f","send-message-box-content-coco":"send-message-box-content-coco-_15093",sendMessageBoxContentCoco:"send-message-box-content-coco-_15093","send-read-pdf-message-with-link":"send-read-pdf-message-with-link-a71b6c",sendReadPdfMessageWithLink:"send-read-pdf-message-with-link-a71b6c"}},78643:function(e){"use strict";e.exports={fadeIn:"fadeIn-_36c49",icon:"icon-_6e772","no-hover":"no-hover-_9c740",noHover:"no-hover-_9c740","suggest-message":"suggest-message-_920c2",suggestMessage:"suggest-message-_920c2","suggest-message-list-wrapper":"suggest-message-list-wrapper-b3ab4d",suggestMessageListWrapper:"suggest-message-list-wrapper-b3ab4d",title:"title-fb6328"}},62366:function(e){"use strict";e.exports={disabled:"disabled-f7a2c2",inactive:"inactive-d2c1a3","ogf-toggle-container":"ogf-toggle-container-b17833",ogfToggleContainer:"ogf-toggle-container-b17833"}},76775:function(e){"use strict";e.exports={banner:"banner-_825ca",btns:"btns-_2c7a9","feature-btns":"feature-btns-_2890f",featureBtns:"feature-btns-_2890f","feature-content":"feature-content-_285e2",featureContent:"feature-content-_285e2","feature-title":"feature-title-_06a6b",featureTitle:"feature-title-_06a6b",footer:"footer-_18706","image-content":"image-content-_88234",imageContent:"image-content-_88234","image-inner":"image-inner-_72c1e",imageInner:"image-inner-_72c1e",item:"item-_2102a","item-icon":"item-icon-_55161",itemIcon:"item-icon-_55161","item-img":"item-img-_82875",itemImg:"item-img-_82875","item-title":"item-title-_78812",itemTitle:"item-title-_78812","item-title-inner":"item-title-inner-_70273",itemTitleInner:"item-title-inner-_70273","small-banner":"small-banner-_73fd9",smallBanner:"small-banner-_73fd9",title:"title-_4b540"}},75024:function(e){"use strict";e.exports={"drop-area-bg":"drop-area-bg-bf8f49",dropAreaBg:"drop-area-bg-bf8f49","drop-area-desc":"drop-area-desc-_11645",dropAreaDesc:"drop-area-desc-_11645","drop-area-limit":"drop-area-limit-e5bef2",dropAreaLimit:"drop-area-limit-e5bef2"}},24155:function(e){"use strict";e.exports={"input-modal":"input-modal-_50d1f",inputModal:"input-modal-_50d1f","input-prefix":"input-prefix-eb16b9",inputPrefix:"input-prefix-eb16b9"}},58890:function(e){"use strict";e.exports={"text-area":"text-area-_635f2",textArea:"text-area-_635f2"}},78989:function(e){"use strict";e.exports={button:"button-_1f4f9"}},75231:function(e){"use strict";e.exports={btns:"btns-_65545","feature-btns":"feature-btns-_30b76",featureBtns:"feature-btns-_30b76","feature-content":"feature-content-b75a29",featureContent:"feature-content-b75a29","feature-title":"feature-title-d8b7b7",featureTitle:"feature-title-d8b7b7",footer:"footer-b14988",header:"header-_8eaa1",input:"input-_4c720","read-content":"read-content-bc4e9a",readContent:"read-content-bc4e9a","read-inner":"read-inner-_50e83",readInner:"read-inner-_50e83",small:"small-f1dfa9",text:"text-_610de",title:"title-e74a9c"}},44867:function(e){"use strict";e.exports={"text-area":"text-area-_34d80",textArea:"text-area-_34d80"}},76786:function(e){"use strict";e.exports={btns:"btns-_8c094","feature-btns":"feature-btns-da15b3",featureBtns:"feature-btns-da15b3","feature-content":"feature-content-f24087",featureContent:"feature-content-f24087","feature-title":"feature-title-_38067",featureTitle:"feature-title-_38067",footer:"footer-cfa6df",header:"header-c5e7f3",input:"input-c056c9",title:"title-_037b8","translate-content":"translate-content-f15483",translateContent:"translate-content-f15483","translate-inner":"translate-inner-c998f9",translateInner:"translate-inner-c998f9"}},21839:function(e){"use strict";e.exports={language:"language-c56001","language-local":"language-local-e5b039",languageLocal:"language-local-e5b039","language-select":"language-select-a33045",languageSelect:"language-select-a33045"}},32486:function(e){"use strict";e.exports={language:"language-_1da57","language-local":"language-local-_415eb",languageLocal:"language-local-_415eb"}},68167:function(e){"use strict";e.exports={banner:"banner-_689f4","bottom-bar-container":"bottom-bar-container-b10f5b",bottomBarContainer:"bottom-bar-container-b10f5b","carousel-row-wrapper":"carousel-row-wrapper-_31e11",carouselRowWrapper:"carousel-row-wrapper-_31e11","flow-chat-editor":"flow-chat-editor-_1a4f8",flowChatEditor:"flow-chat-editor-_1a4f8",item:"item-dc2a3c","item-title":"item-title-_58d9b",itemTitle:"item-title-_58d9b",narrow:"narrow-_50368","rich-editor-wrapper":"rich-editor-wrapper-aca02f",richEditorWrapper:"rich-editor-wrapper-aca02f",selected:"selected-f9820b","tools-box":"tools-box-e70328",toolsBox:"tools-box-e70328","writing-skill-container":"writing-skill-container-c1d934",writingSkillContainer:"writing-skill-container-c1d934"}},57872:function(e){"use strict";e.exports={"bottom-bar-container":"bottom-bar-container-_83905",bottomBarContainer:"bottom-bar-container-_83905","carousel-item":"carousel-item-_38ad0",carouselItem:"carousel-item-_38ad0","compose-tab-container":"compose-tab-container-_97a93",composeTabContainer:"compose-tab-container-_97a93","left-box":"left-box-d730f0",leftBox:"left-box-d730f0","middle-box":"middle-box-_47cb5",middleBox:"middle-box-_47cb5",narrow:"narrow-_87cce","right-box":"right-box-_302b2",rightBox:"right-box-_302b2","select-item":"select-item-_51a89",selectItem:"select-item-_51a89","text-area-wrapper":"text-area-wrapper-_28cf1",textAreaWrapper:"text-area-wrapper-_28cf1","textarea-title":"textarea-title-cc7935",textareaTitle:"textarea-title-cc7935",wide:"wide-d66b00",wrap:"wrap-_22d9b","writing-skill-container":"writing-skill-container-_82474",writingSkillContainer:"writing-skill-container-_82474"}},1140:function(e){"use strict";e.exports={"chat-input-drop-file-icon":"chat-input-drop-file-icon-_5a9d7",chatInputDropFileIcon:"chat-input-drop-file-icon-_5a9d7","chat-input-drop-rect":"chat-input-drop-rect-_4399a",chatInputDropRect:"chat-input-drop-rect-_4399a","chat-input-droprange":"chat-input-droprange-_26cdb",chatInputDroprange:"chat-input-droprange-_26cdb"}},62730:function(e){"use strict";e.exports={container:"container-c27848","send-btn":"send-btn-_57433",sendBtn:"send-btn-_57433"}},95122:function(e){"use strict";e.exports={"action-btn":"action-btn-_390c1",actionBtn:"action-btn-_390c1",actions:"actions-_7341c","chat-input":"chat-input-e6d415",chatInput:"chat-input-e6d415","chat-input-container":"chat-input-container-_934be",chatInputContainer:"chat-input-container-_934be","chat-input-container-disabled":"chat-input-container-disabled-f5e7ab",chatInputContainerDisabled:"chat-input-container-disabled-f5e7ab","chat-input-container-readonly":"chat-input-container-readonly-_6b55a",chatInputContainerReadonly:"chat-input-container-readonly-_6b55a","chat-input-container-visible":"chat-input-container-visible-da98d9",chatInputContainerVisible:"chat-input-container-visible-da98d9","chat-input-float":"chat-input-float-cf5529",chatInputFloat:"chat-input-float-cf5529","chat-input-focus-with-function":"chat-input-focus-with-function-e446ae",chatInputFocusWithFunction:"chat-input-focus-with-function-e446ae",input:"input-_63ddc",menu:"menu-cd5eee"}},65622:function(e){"use strict";e.exports={loading:"loading-_8370b"}},327:function(e){"use strict";e.exports={container:"container-fe3752"}},14596:function(e){"use strict";e.exports={"retry-button-wrapper":"retry-button-wrapper-_893f7",retryButtonWrapper:"retry-button-wrapper-_893f7"}},62526:function(e){"use strict";e.exports={"button-icon":"button-icon-a78b70",buttonIcon:"button-icon-a78b70",divider:"divider-_468cb","icon-wrapper":"icon-wrapper-b3fc5d",iconWrapper:"icon-wrapper-b3fc5d","zoom-wrapper":"zoom-wrapper-ba81c7",zoomWrapper:"zoom-wrapper-ba81c7"}},22951:function(e){"use strict";e.exports={"load-more-wrapper":"load-more-wrapper-_82737",loadMoreWrapper:"load-more-wrapper-_82737"}},40698:function(e){"use strict";e.exports={"feedback-modal":"feedback-modal-d6bfe7",feedbackModal:"feedback-modal-d6bfe7",inner:"inner-_5a20a","select-group":"select-group-fcf5d6",selectGroup:"select-group-fcf5d6","select-item":"select-item-b30173",selectItem:"select-item-b30173"}},17936:function(e){"use strict";e.exports={btn:"btn-_44c8b","content-wrapper":"content-wrapper-b510ae",contentWrapper:"content-wrapper-b510ae",list:"list-fe0399","list-wrapper":"list-wrapper-a2574b",listWrapper:"list-wrapper-a2574b","report-modal":"report-modal-_02a18",reportModal:"report-modal-_02a18",right:"right-_32ea2","sub-title":"sub-title-b9c586",subTitle:"sub-title-b9c586",success:"success-e49aeb",title:"title-_45ffa"}},47447:function(e){"use strict";e.exports={btn:"btn-_51461","focus-btn":"focus-btn-e6723d",focusBtn:"focus-btn-e6723d","focus-primary":"focus-primary-_57765",focusPrimary:"focus-primary-_57765",icon:"icon-ae7f6e","no-icon":"no-icon-_26fbf",noIcon:"no-icon-_26fbf",primary:"primary-_74d41",title:"title-f6f1af"}},12688:function(e){"use strict";e.exports={flow:"flow-_89876"}},4360:function(e){"use strict";e.exports={container:"container-e1dd47",icon:"icon-_99278"}},11973:function(e){"use strict";e.exports={"active-color-black":"active-color-black-_03458",activeColorBlack:"active-color-black-_03458","answer-action-button":"answer-action-button-_333c5",answerActionButton:"answer-action-button-_333c5","background-blue":"background-blue-_265e7",backgroundBlue:"background-blue-_265e7","background-grey":"background-grey-b6bcb0",backgroundGrey:"background-grey-b6bcb0","background-white":"background-white-d30904",backgroundWhite:"background-white-d30904","color-black":"color-black-_00229",colorBlack:"color-black-_00229","color-blue":"color-blue-_08f4a",colorBlue:"color-blue-_08f4a","color-danger":"color-danger-_1b630",colorDanger:"color-danger-_1b630","color-grey":"color-grey-_18d95",colorGrey:"color-grey-_18d95","color-grey-deep":"color-grey-deep-b09d6f",colorGreyDeep:"color-grey-deep-b09d6f",disabled:"disabled-c4102f","dropdown-item":"dropdown-item-c76e76",dropdownItem:"dropdown-item-c76e76","hover-color-black":"hover-color-black-c0c81b",hoverColorBlack:"hover-color-black-c0c81b",hoverable:"hoverable-_72b80",mobile:"mobile-_1910a","semi-button-disabled":"semi-button-disabled-b89cfe",semiButtonDisabled:"semi-button-disabled-b89cfe","size-large":"size-large-_41355",sizeLarge:"size-large-_41355","size-small":"size-small-_46eaa",sizeSmall:"size-small-_46eaa","with-padding":"with-padding-bcc57e",withPadding:"with-padding-bcc57e"}},40143:function(e){"use strict";e.exports={"chat-input-icon":"chat-input-icon-_484eb",chatInputIcon:"chat-input-icon-_484eb","chat-input-icon-area":"chat-input-icon-area-a737fb",chatInputIconArea:"chat-input-icon-area-a737fb","chat-input-icon__disabled":"chat-input-icon__disabled-_31187",chatInputIconDisabled:"chat-input-icon__disabled-_31187"}},36673:function(e){"use strict";e.exports={"btn-group":"btn-group-c97202",btnGroup:"btn-group-c97202","close-btn":"close-btn-_55646",closeBtn:"close-btn-_55646",input:"input-d10d8e","ok-icon":"ok-icon-_59f37",okIcon:"ok-icon-_59f37","send-btn":"send-btn-_8475b",sendBtn:"send-btn-_8475b",wrapper:"wrapper-c0b1ec"}},33471:function(e){"use strict";e.exports={"index-icon":"index-icon-c26490",indexIcon:"index-icon-c26490","index-name":"index-name-_86993",indexName:"index-name-_86993","index-title":"index-title-_6275b",indexTitle:"index-title-_6275b","index-wrapper":"index-wrapper-_829e1",indexWrapper:"index-wrapper-_829e1",wrapper:"wrapper-de0b6a"}},94042:function(e){"use strict";e.exports={"thinking-box":"thinking-box-b5083b",thinkingBox:"thinking-box-b5083b","thinking-box-bg-color":"thinking-box-bg-color-bbd0a9",thinkingBoxBgColor:"thinking-box-bg-color-bbd0a9"}},46577:function(e){"use strict";e.exports={"message-error-fallback":"message-error-fallback-_36cd8",messageErrorFallback:"message-error-fallback-_36cd8","message-error-refresh":"message-error-refresh-_941d7",messageErrorRefresh:"message-error-refresh-_941d7"}},15487:function(e){"use strict";e.exports={"bg-color":"bg-color-_45de3",bgColor:"bg-color-_45de3","fade-in":"fade-in-_48d16",fadeIn:"fade-in-_48d16","search-keywords":"search-keywords-b0ba79",searchKeywords:"search-keywords-b0ba79","search-keywords-content":"search-keywords-content-fcb93e",searchKeywordsContent:"search-keywords-content-fcb93e","search-loading":"search-loading-_9a1ae",searchLoading:"search-loading-_9a1ae","search-loading-header":"search-loading-header-d24765",searchLoadingHeader:"search-loading-header-d24765","search-loading-header-divider":"search-loading-header-divider-e5cd8a",searchLoadingHeaderDivider:"search-loading-header-divider-e5cd8a","search-loading-header-title":"search-loading-header-title-_68077",searchLoadingHeaderTitle:"search-loading-header-title-_68077","search-loading-title":"search-loading-title-_76b7e",searchLoadingTitle:"search-loading-title-_76b7e","search-result-collapse":"search-result-collapse-_2b99e",searchResultCollapse:"search-result-collapse-_2b99e","search-result-collapse-content":"search-result-collapse-content-_47c27",searchResultCollapseContent:"search-result-collapse-content-_47c27","search-result-collapse-header":"search-result-collapse-header-_07c27",searchResultCollapseHeader:"search-result-collapse-header-_07c27","search-result-collapse-header-content":"search-result-collapse-header-content-_86889",searchResultCollapseHeaderContent:"search-result-collapse-header-content-_86889","search-result-collapse-header-divider":"search-result-collapse-header-divider-_3649f",searchResultCollapseHeaderDivider:"search-result-collapse-header-divider-_3649f","search-result-collapse-header-expand-icon":"search-result-collapse-header-expand-icon-_9f406",searchResultCollapseHeaderExpandIcon:"search-result-collapse-header-expand-icon-_9f406","search-result-collapse-header-title":"search-result-collapse-header-title-_521b5",searchResultCollapseHeaderTitle:"search-result-collapse-header-title-_521b5","search-source-card":"search-source-card-d5ab7e",searchSourceCard:"search-source-card-d5ab7e","search-source-card-content":"search-source-card-content-dfd8ff",searchSourceCardContent:"search-source-card-content-dfd8ff","search-source-card-content-footer":"search-source-card-content-footer-b6c7fe",searchSourceCardContentFooter:"search-source-card-content-footer-b6c7fe","search-source-card-content-footer-icon":"search-source-card-content-footer-icon-_30a25",searchSourceCardContentFooterIcon:"search-source-card-content-footer-icon-_30a25","search-source-card-content-footer-site-name":"search-source-card-content-footer-site-name-_276d4",searchSourceCardContentFooterSiteName:"search-source-card-content-footer-site-name-_276d4","search-source-card-content-title":"search-source-card-content-title-b6395a",searchSourceCardContentTitle:"search-source-card-content-title-b6395a","search-source-card-first-card-in-row":"search-source-card-first-card-in-row-_894d7",searchSourceCardFirstCardInRow:"search-source-card-first-card-in-row-_894d7","search-source-card-last-card-in-row":"search-source-card-last-card-in-row-abde48",searchSourceCardLastCardInRow:"search-source-card-last-card-in-row-abde48","search-source-content":"search-source-content-f2ff47",searchSourceContent:"search-source-content-f2ff47","search-source-grid":"search-source-grid-b44067",searchSourceGrid:"search-source-grid-b44067","search-source-grid-col":"search-source-grid-col-_79b30",searchSourceGridCol:"search-source-grid-col-_79b30","search-source-shortcuts":"search-source-shortcuts-_31786",searchSourceShortcuts:"search-source-shortcuts-_31786","search-source-shortcuts-hide":"search-source-shortcuts-hide-c75089",searchSourceShortcutsHide:"search-source-shortcuts-hide-c75089","search-source-shortcuts-icon":"search-source-shortcuts-icon-_38b9e",searchSourceShortcutsIcon:"search-source-shortcuts-icon-_38b9e","search-sources-left-arrow":"search-sources-left-arrow-_682f2",searchSourcesLeftArrow:"search-sources-left-arrow-_682f2","search-sources-right-arrow":"search-sources-right-arrow-_39ec1",searchSourcesRightArrow:"search-sources-right-arrow-_39ec1","search-step-item":"search-step-item-_1a7bc",searchStepItem:"search-step-item-_1a7bc","search-step-item-content":"search-step-item-content-_2487a",searchStepItemContent:"search-step-item-content-_2487a","search-step-item-header":"search-step-item-header-_8256e",searchStepItemHeader:"search-step-item-header-_8256e","search-step-item-header-point-icon":"search-step-item-header-point-icon-_40164",searchStepItemHeaderPointIcon:"search-step-item-header-point-icon-_40164","search-step-item-header-sub-title":"search-step-item-header-sub-title-a2125a",searchStepItemHeaderSubTitle:"search-step-item-header-sub-title-a2125a","search-step-item-header-title":"search-step-item-header-title-_263a1",searchStepItemHeaderTitle:"search-step-item-header-title-_263a1","search-step-item-header-with-child":"search-step-item-header-with-child-c28350",searchStepItemHeaderWithChild:"search-step-item-header-with-child-c28350","suspense-placeholder":"suspense-placeholder-_394d1",suspensePlaceholder:"suspense-placeholder-_394d1","transform-180":"transform-180-_97346",transform180:"transform-180-_97346"}},36245:function(e){"use strict";e.exports={active:"active-_3baf5","align-center":"align-center-_8062f",alignCenter:"align-center-_8062f","align-right":"align-right-ab4d57",alignRight:"align-right-ab4d57",blink:"blink-cfb675",container:"container-_8d118",cursorAnimation:"cursorAnimation-e6a83d",enabled:"enabled-_93772","float-left":"float-left-_1c864",floatLeft:"float-left-_1c864","float-right":"float-right-d78f36",floatRight:"float-right-d78f36",frame:"frame-_47f89","no-list":"no-list-_5c94b",noList:"no-list-_5c94b","theme-samantha":"theme-samantha-_54cd6",themeSamantha:"theme-samantha-_54cd6"}},58918:function(e){"use strict";e.exports={header:"header-_80ab0"}},29371:function(e){"use strict";e.exports={container:"container-_22d5f"}},4802:function(e){"use strict";e.exports={"non-select":"non-select-d0f735",nonSelect:"non-select-d0f735",wrapper:"wrapper-_4a483"}},10913:function(e){"use strict";e.exports={container:"container-_39a38",hoverable:"hoverable-_3faeb",icon:"icon-d9eaed",reverse:"reverse-_8f75e",rotating:"rotating-e0c24d",title:"title-c14688"}},65607:function(e){"use strict";e.exports={"code-area":"code-area-dee02d",codeArea:"code-area-dee02d","code-block-element":"code-block-element-_25de1",codeBlockElement:"code-block-element-_25de1",content:"content-_0af23",copy:"copy-a209bd","copy-text":"copy-text-d199ca",copyText:"copy-text-d199ca",header:"header-_4b69f",hoverable:"hoverable-_99118",icon:"icon-_56484",img:"img-_41ddf","light-scrollbar":"light-scrollbar-_05e81",lightScrollbar:"light-scrollbar-_05e81",text:"text-c003fe"}},6044:function(e){"use strict";e.exports={clickable:"clickable-_430ed","error-wrapper":"error-wrapper-_823b3",errorWrapper:"error-wrapper-_823b3",fallbackIcon:"fallbackIcon-e78e2b",image:"image-afdb5a","image-wrapper":"image-wrapper-_6eb8d",imageWrapper:"image-wrapper-_6eb8d",loading:"loading-_3f764","loading-image":"loading-image-_3d90d",loadingImage:"loading-image-_3d90d",square:"square-cd823f"}},39352:function(e){"use strict";e.exports={container:"container-ea9f57","dot-flashing":"dot-flashing-be68f5",dotFlashing:"dot-flashing-be68f5",flashing:"flashing-c673bb",indicator:"indicator-_7d037"}},63405:function(e){"use strict";e.exports={"light-scrollbar":"light-scrollbar-b4b176",lightScrollbar:"light-scrollbar-b4b176"}},32097:function(e){"use strict";e.exports={link:"link-_8f4bd"}},5424:function(e){"use strict";e.exports={paragraph:"paragraph-_45712"}},942:function(e){"use strict";e.exports={"table-container":"table-container-_11d28",tableContainer:"table-container-_11d28"}},62159:function(e){"use strict";e.exports={flow:"flow-_95727"}},90016:function(e){"use strict";e.exports={"carousel-item":"carousel-item-fa36bd",carouselItem:"carousel-item-fa36bd"}},20440:function(e){"use strict";e.exports={arrow:"arrow-f57674","arrow-container":"arrow-container-d824c3",arrowContainer:"arrow-container-d824c3",carousel:"carousel-_6b639","carousel-content":"carousel-content-c834be",carouselContent:"carousel-content-c834be","carousel-row":"carousel-row-_1dda4",carouselRow:"carousel-row-_1dda4",left:"left-ea39a3","left-arrow":"left-arrow-_5f44b",leftArrow:"left-arrow-_5f44b","no-border":"no-border-_0ff03",noBorder:"no-border-_0ff03",right:"right-_1800b","right-arrow":"right-arrow-dd4c00",rightArrow:"right-arrow-dd4c00"}},41561:function(e){"use strict";e.exports={"bottom-left":"bottom-left-ca20c6",bottomLeft:"bottom-left-ca20c6","bottom-right":"bottom-right-_61428",bottomRight:"bottom-right-_61428","image-box-grid":"image-box-grid-e89c2e",imageBoxGrid:"image-box-grid-e89c2e","image-box-grid-item":"image-box-grid-item-_2b846",imageBoxGridItem:"image-box-grid-item-_2b846","top-left":"top-left-_1c64c",topLeft:"top-left-_1c64c","top-right":"top-right-e3a04c",topRight:"top-right-e3a04c"}},69313:function(e){"use strict";e.exports={"message-box":"message-box-_31bb0",messageBox:"message-box-_31bb0","message-box-content":"message-box-content-ea2c84",messageBoxContent:"message-box-content-ea2c84","message-box-content-wrapper":"message-box-content-wrapper-cc2bd7",messageBoxContentWrapper:"message-box-content-wrapper-cc2bd7","message-box-content__width-initial":"message-box-content__width-initial-_3faa8",messageBoxContentWidthInitial:"message-box-content__width-initial-_3faa8","message-box__reverse":"message-box__reverse-_78d60",messageBoxReverse:"message-box__reverse-_78d60"}},73292:function(e){"use strict";e.exports={"button-type":"button-type-_2e1ea",buttonType:"button-type-_2e1ea",flow:"flow-_1161d"}},39801:function(e){"use strict";e.exports={flow:"flow-_4be3e","flow-dropdown":"flow-dropdown-_900ed",flowDropdown:"flow-dropdown-_900ed",wrap:"wrap-dc2f42"}},24327:function(e){},57834:function(e){"use strict";e.exports=JSON.parse('{"v":"5.12.2","fr":25,"ip":0,"op":75,"w":500,"h":500,"nm":"In App Element","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Color","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[250,250,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[400,400],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692D\u5706\u8DEF\u5F84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.624,0.251,0.6,1,0.624,0.251,1,1,0.624,0.251,0.3,0.8,0.65,0.4,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[200,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[250,-150],"e":[115,160],"to":[0,0],"ti":[0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":25,"s":[115,160],"e":[-100,0],"to":[0,0],"ti":[0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":50,"s":[-100,0],"e":[250,-150],"to":[0,0],"ti":[0,0]},{"t":74}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[160,160],"e":[160,120]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":25,"s":[160,120],"e":[160,160]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":50,"s":[160,160],"e":[160,160]},{"t":74}],"ix":3},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[0],"e":[45]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":25,"s":[45],"e":[360]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":61,"s":[360],"e":[0]},{"t":74}],"ix":6},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100],"e":[100]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":25,"s":[100],"e":[60]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":50,"s":[60],"e":[100]},{"t":74}],"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53D8\u6362"}],"nm":"Orange","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[400,400],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692D\u5706\u8DEF\u5F84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.349,0.569,0.6,0.98,0.318,0.541,1,0.961,0.286,0.514,0.3,1,0.65,0.5,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[200,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[-200,-200],"e":[125,100],"to":[0,0],"ti":[0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[125,100],"e":[-200,-200],"to":[0,0],"ti":[0,0]},{"t":74}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[200,200],"e":[160,160]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":40,"s":[160,160],"e":[200,200]},{"t":74}],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53D8\u6362"}],"nm":"Red","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[400,400],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"\u692D\u5706\u8DEF\u5F84 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"gf","o":{"a":0,"k":100,"ix":10},"r":1,"bm":0,"g":{"p":3,"k":{"a":0,"k":[0,1,0.824,0.698,0.6,1,0.824,0.698,1,1,0.824,0.698,0.3,0.7,0.65,0.35,1,0],"ix":9}},"s":{"a":0,"k":[0,0],"ix":5},"e":{"a":0,"k":[200,0],"ix":6},"t":2,"h":{"a":0,"k":0,"ix":7},"a":{"a":0,"k":0,"ix":8},"nm":"Gradient Fill","mn":"ADBE Vector Graphic - G-Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[-60,240],"e":[-250,0],"to":[0,0],"ti":[0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":25,"s":[-250,0],"e":[-60,240],"to":[0,0],"ti":[0,0]},{"t":74}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":0,"s":[120,120],"e":[200,200]},{"i":{"x":[0.833,0.833],"y":[0.833,0.833]},"o":{"x":[0.167,0.167],"y":[0.167,0.167]},"t":25,"s":[200,200],"e":[120,120]},{"t":74}],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"\u53D8\u6362"}],"nm":"Yellow","np":2,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":75,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":1,"nm":"BG Basic","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[250,250,0],"ix":2,"l":2},"a":{"a":0,"k":[250,250,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"sw":500,"sh":500,"sc":"#f562e9","ip":0,"op":75,"st":0,"bm":0}],"markers":[],"props":{}}')}}]);