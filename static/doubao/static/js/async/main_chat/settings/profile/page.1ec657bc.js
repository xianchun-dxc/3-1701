/*! For license information please see page.1ec657bc.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["6840"],{97114:function(e,t,n){"use strict";n.d(t,{CodeInputContent:function(){return s}});var r=n("92769"),i=n("88802"),o=n("52983"),a=n("37884"),s=(0,n("54650").withSuspense)(o.lazy((0,r._)(function(){var e;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return e={},[4,a.FlowAccount.FlowAccountComponents.CodeInputContent];case 1:return[2,(e.default=t.sent(),e)]}})})))},15280:function(e,t,n){"use strict";n.d(t,{MobileInput:function(){return s}});var r=n("92769"),i=n("88802"),o=n("52983"),a=n("37884"),s=(0,n("54650").withSuspense)(o.lazy((0,r._)(function(){var e;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return e={},[4,a.FlowAccount.FlowAccountComponents.MobileInput];case 1:return[2,(e.default=t.sent(),e)]}})})))},54650:function(e,t,n){"use strict";n.d(t,{withSuspense:function(){return a}});var r=n("9161"),i=n("97458"),o=n("52983"),a=function(e,t){var n,a=function(n){return(0,i.jsx)(o.Suspense,{fallback:t&&(0,i.jsx)(t,(0,r._)({},n)),children:(0,i.jsx)(e,(0,r._)({},n))})};return a.displayName=null!==(n=e.displayName)&&void 0!==n?n:null==t?void 0:t.displayName,a}},33440:function(e,t,n){"use strict";n.d(t,{ChatHeaderTitle:function(){return h},ChatHeaderTitleInChat:function(){return p}});var r=n("83316"),i=n("8831"),o=n("52935"),a=n("9161"),s=n("16044"),u=n("97458"),c=n("87608"),l=n.n(c),f=n("65042"),d=n("43582"),p=function(e){var t=(0,i._)({},(0,o._)(e));return(0,u.jsx)(h,(0,s._)((0,a._)({},t),{innerClassName:l()(d.center,(0,r._)({},d.mobile,(0,f.isMobile)())),className:d.leftTitle,titleClassName:d.titleText}))},h=function(e){var t=e.subTitle,n=e.title,r=e.onClick,i=e.onInnerClick,o=e.className,a=e.innerClassName,s=e.titleClassName;return(0,u.jsx)("div",{className:l()(d.container,o),onClick:r,style:{cursor:r?"pointer":"auto"},children:(0,u.jsxs)("div",{className:l()(d.inner,a),onClick:i,children:[n&&(0,u.jsx)("span",{className:l()(d.title,s,d["auto-ellipsis"]),children:n}),t&&(0,u.jsx)("span",{className:l()(d["sub-title"],d["auto-ellipsis"]),children:t})]})})}},76628:function(e,t,n){"use strict";n.d(t,{WebSettingComponents:function(){return x},useSettingConfig:function(){return N}});var r=n("69420"),i=n("6462"),o=n("29048"),a=n("87382"),s=n("29794"),u=n("75995"),c=n("49503"),l=n("45431"),f=n("59240"),d=n("37884"),p=n("76185"),h=n("72676"),_=n("15280"),m=n("97114");function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(void 0===t?"undefined":(0,o._)(t))?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=new function e(){var t;(0,r._)(this,e),g(this,"getLanguage",function(){return c.I18n.language}),g(this,"getTranslate",function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=c.I18n).t.apply(t,[e].concat((0,i._)(r)))}),g(this,"useTranslateFn",h.useTranslateFn)},b=u.useFeatureConfigStore.getState().featureConfig,C=(0,s.initSettingKit)({i18n:v,logger:a.logger,trackEvent:f.trackEvent,ApiService:p.apiService,launchData:b,rawAxiosInstance:p.rawAxiosInstance,isEnableDebug:l.isEnableDebug,passportApi:d.FlowAccount.passportApi,flowAccount:d.FlowAccount.flowAccount,FlowAccountComponents:{MobileInput:_.MobileInput,CodeInputContent:m.CodeInputContent}}),x=C.WebSettingComponents,N=C.useSettingConfig;C.useSettingStore},51914:function(e,t,n){"use strict";n.r(t);var r=n("40509"),i=n("97458"),o=n("52983"),a=n("99136"),s=n("40789"),u=n("89066"),c=n("32156"),l=n("71383"),f=n("96317"),d=n("32208"),p=n("53268"),h=n("94686"),_=n("59240"),m=n("72676"),g=n("76628"),v=n("33440"),b=n("64061"),C=function(e){var t=e.newUserProfile,n=(0,h.useUserProfile)(),r=(0,o.useMemo)(function(){if(!t||!n)return!1;var e,r=t.avatar_url,i=t.nickname,o=t.user_name;return!(r===(null==n?void 0:null===(e=n.image)||void 0===e?void 0:e.tiny_url)&&i===n.nickname&&o===n.user_name)},[n,t]),a=(0,d.useNavigate)(),s=(0,m.useTranslateFn)();return(0,i.jsx)(p.Button,{onClick:function(){r?p.Modal.warning({title:s("setting_profile_discard_title"),cancelText:s("setting_profile_discard_keep_editing"),okText:s("setting_profile_discard_discard"),centered:!0,okButtonProps:{type:"danger"},onOk:function(){a(-1)}}):a(-1)},icon:(0,i.jsx)(f.ArrowLeftIcon,{}),className:"icon-button"})};t.default=function(){var e,t=(0,a.useMobile)().mobileSidebarVisible,n=(0,m.useTranslateFn)(),f=(0,d.useNavigate)(),p=s.VisitPage.PROFILE_SETTING;(0,u.useMarkCurPageOnMount)(p);var x=(0,u.useMarkCurPageOnClick)(p),N=(0,r._)((0,o.useState)(),2)[1],w=(0,h.useUserProfile)(),S=null===(e=(0,h.getUserInfo)())||void 0===e?void 0:e.user_id_str,I=(0,h.useUserInfoAction)().updateUserProfile;return(0,o.useEffect)(function(){(0,_.trackEvent)("enter_page",{page:"profile_setting",enter_from:"profile_setting"})},[]),(0,i.jsx)(c.SamanthaLayout.MaxWidthLayout,{children:(0,i.jsxs)("div",{ref:x,className:b.container,"sidebar-visible":String(t),"data-testid":"profile_second_page",children:[(0,i.jsx)(l.ChatHeaderUI,{left:(0,i.jsx)(C,{}),center:(0,i.jsx)(v.ChatHeaderTitle,{title:n("setting_profile_title")})}),(0,i.jsx)(g.WebSettingComponents.ProfileEdit,{onSuccess:function(){f(-1)},onChange:function(e){N(e)},userProfile:w,userId:S,updateUserProfile:function(e){return I(e)},className:b["form-content"]})]})})}},39749:function(e,t,n){"use strict";n.d(t,{FileBizType:function(){return i}});var r,i=((r={})[r.BIZ_UNKNOWN=0]="BIZ_UNKNOWN",r[r.BIZ_BOT_ICON=1]="BIZ_BOT_ICON",r[r.BIZ_PROFILE_ICON=2]="BIZ_PROFILE_ICON",r[r.BIZ_AUDIO=3]="BIZ_AUDIO",r)},99136:function(e,t,n){"use strict";n.d(t,{MobileProvider:function(){return u},useMobile:function(){return c}});var r=n("40509"),i=n("97458"),o=n("52983"),a=n("2945"),s=(0,o.createContext)(null),u=function(e){var t=e.children,n=(0,r._)((0,o.useState)(!1),2),a=n[0],u=n[1],c=(0,o.useMemo)(function(){return{mobileSidebarVisible:a,setMobileSidebarVisible:u}},[a,u]);return(0,i.jsx)(s.Provider,{value:c,children:t})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.optionalProvider,n=(0,o.useContext)(s);if(!n){if(void 0!==t&&t)return{mobileSidebarVisible:!1,setMobileSidebarVisible:a.default};throw Error("Expect mobileContext")}return n}},99766:function(e,t,n){"use strict";n.d(t,{useAuthLoginDataRouteFromOAuth2:function(){return g},useHandleAuthCallback:function(){return m},usePlatformRouteFromOAuth2:function(){return v}});var r=n("92769"),i=n("9161"),o=n("16044"),a=n("89334"),s=n("40509"),u=n("88802"),c=n("52983"),l=n("3820"),f=n("46593"),d=n("87382"),p=n("17997"),h=n("78597"),_=n("11361"),m=function(e){var t=e.location,n=e.navigate,f=e.context,m=f.logger,g=f.flowAccount,v=(0,d.createReportEvent)({logger:m,eventName:"third_party_auth_complete"}),b=(0,s._)((0,c.useState)(!1),2),C=b[0],x=b[1];return(0,c.useLayoutEffect)(function(){(0,h.execute)((0,r._)(function(){var e,r,s,c,f,d,h,b,C,N,w,S,I,y,k,A;return(0,u.__generator)(this,function(u){switch(u.label){case 0:try{r=(0,_.parseOAuthUrl)(t)}catch(e){return m.persist.error({message:"oauth2_callback_parameter_error",error:e}),x(!0),[2]}return s=r.access_token,c=r.code,d=(f=r.state).platform,h=f.navigatePath,b=f.type,C=f.entry,N=f.method,w=(0,a._)(f,["platform","navigatePath","type","entry","method"]),[4,g.third.getThirdPlatform(d)];case 1:if(!(S=u.sent()))return m.warning({message:"not_support_platform",error:Error("Not support platform from oauth2 callback parameter state."),meta:{parsedState:f}}),x(!0),[2];if(y=(I=S.config).platformId,k=I.extraParams,A={authLoginData:{platform_app_id:y,access_token:s,code:c,extra_params:k},type:b,platform:d},"google"===d&&!y)return m.persist.error({message:"not_support_google_region",error:Error("Not support region to auth google platform from oauth2 route parameter.")}),v.error({reason:"not_support",meta:{platform:"google",from:"redirect"}}),x(!0),[2];if(v.success({meta:{platform:d,from:"redirect"}}),(0,_.isPostMessageRedirect)(N)&&(0,l.default)(null===(e=window.opener)||void 0===e?void 0:e.postMessage))window.opener.postMessage((0,o._)((0,i._)({},w),{oauth2:A}),window.location.origin),window.close();else if(!(0,_.isPostMessageRedirect)(N)){if(!(0,p.isCurrentEntry)(C))return window.location.href="".concat(window.location.origin).concat((0,p.getFullPath)(t.pathname,(0,p.getBasename)(C))).concat(t.search).concat(t.hash),[2];n(h,{state:(0,o._)((0,i._)({},w),{oauth2:A})})}return[2]}})}))},[]),{error:C}},g=function(e,t){var n,r,i,o=(0,c.useRef)(null===(n=t.state)||void 0===n?void 0:n.oauth2);if((null===(r=t.state)||void 0===r?void 0:r.oauth2)&&(o.current=null===(i=t.state)||void 0===i?void 0:i.oauth2),o.current&&window.history.replaceState((0,f.default)(t.state,"oauth2"),""),!!(0,_.isOAuth2RouteParameter)(o.current)){if(o.current.type===e)return o.current.authLoginData}},v=function(e){var t,n=null===(t=e.state)||void 0===t?void 0:t.oauth2;if((0,_.isOAuth2RouteParameter)(n))return n.platform}},3123:function(e,t,n){"use strict";n.d(t,{ImageCrop:function(){return d}});var r=n("92769"),i=n("40509"),o=n("88802"),a=n("97458"),s=n("64650"),u=n("52983"),c=n("78597"),l=n("53268"),f=n("75662"),d=function(e){var t,n=e.visible,d=e.title,p=e.image,h=e.loading,_=e.okText,m=e.cancelText,g=e.onCancel,v=e.onCropComplete,b=e.onComplete,C=(0,i._)((0,u.useState)(null),2),x=C[0],N=C[1],w=(0,i._)((0,u.useState)(null),2),S=w[0],I=w[1],y=(0,i._)((0,u.useState)(null),2),k=y[0],A=y[1],j=(0,i._)((0,u.useState)({x:0,y:0}),2),P=j[0],T=j[1],O=(0,i._)((0,u.useState)(1),2),M=O[0],E=O[1];var F=(t=(0,r._)(function(e,t){var n,r;return(0,o.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,c.getCroppedImg)(p,t)];case 1:return(n=e.sent())&&(N(n.base64),I(n.blob),A(n.fileType),null==v||v(n)),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})}),function(e,n){return t.apply(this,arguments)});return(0,a.jsx)(l.Modal,{visible:n,centered:!0,motion:!1,title:d,width:450,onCancel:function(){N(""),null==g||g()},onOk:function(){x&&k&&(null==b||b({blob:S,base64:x,fileType:k}))},confirmLoading:h,okButtonProps:{disabled:!x||!k,"data-testid":"profile_upload_ok"},className:f.modal,okText:_,cancelText:m,children:(0,a.jsx)("div",{className:f["crop-container"],children:(0,a.jsx)(s.default,{image:p,objectFit:"contain",crop:P,zoom:M,aspect:1,cropShape:"round",onCropChange:T,onZoomChange:E,onCropComplete:F})})})}},71383:function(e,t,n){"use strict";n.d(t,{ChatHeaderUI:function(){return f}});var r=n("83316"),i=n("40509"),o=n("97458"),a=n("52983"),s=n("87608"),u=n.n(s),c=n("78597"),l=n("55734"),f=function(e){var t=e.left,n=e.center,s=e.right,f=e.className,d=e.innerClassName,p=e.backgroundVisible,h=e.autoCenter,_=void 0===h||h,m=e.leftClassName,g=(0,i._)((0,a.useState)(!_),2),v=g[0],b=g[1];(0,a.useEffect)(function(){_&&b(!0)},[_]);var C=(0,c.useResizeObserver)(),x=C.ref,N=C.width,w=(0,c.useResizeObserver)(),S=w.ref,I=w.width,y=Math.max(void 0===N?0:N,void 0===I?0:I),k=function(e){var r=e.leftContainerRef,i=e.rightContainerRef,a=e.leftMinWidth,c=e.rightMinWidth;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{ref:r,className:u()(l.left,m),style:{minWidth:c},children:t}),n&&(0,o.jsx)("div",{className:l.center,children:n}),(0,o.jsx)("div",{ref:i,className:l.right,style:{minWidth:a},children:s})]})};return(0,o.jsxs)("div",{className:u()(l.container,f,(0,r._)({},l["hide-background"],!(void 0===p||p))),children:[_&&(0,o.jsx)("div",{className:u()(l.inner,l.hidden),children:k({leftContainerRef:x,rightContainerRef:S})}),(0,o.jsx)("div",{className:u()(l.inner,d,(0,r._)({},l.hidden,!v)),children:k({leftMinWidth:_?y:void 0,rightMinWidth:_?y:void 0})})]})}},43582:function(e){"use strict";e.exports={"auto-ellipsis":"auto-ellipsis-_210c1",autoEllipsis:"auto-ellipsis-_210c1",center:"center-_5216a",container:"container-_736b0",hoverable:"hoverable-_3cf02",inner:"inner-_5528d",left:"left-_16dab",leftTitle:"leftTitle-_7d1fa",mobile:"mobile-_72791","sub-title":"sub-title-_85fe5",subTitle:"sub-title-_85fe5",title:"title-f1a5e2",titleText:"titleText-_9e5a3"}},64061:function(e){"use strict";e.exports={"chat-header":"chat-header-ae530c",chatHeader:"chat-header-ae530c",container:"container-_1b981","conversation-header":"conversation-header-e17103",conversationHeader:"conversation-header-e17103","form-content":"form-content-f018b0",formContent:"form-content-f018b0"}},75662:function(e){"use strict";e.exports={"crop-container":"crop-container-dfff60",cropContainer:"crop-container-dfff60",modal:"modal-b93de2"}},55734:function(e){"use strict";e.exports={center:"center-_18dc0",container:"container-aa7d3a",hidden:"hidden-f8a6fd","hide-background":"hide-background-_0e21e",hideBackground:"hide-background-_0e21e",inner:"inner-b033aa",left:"left-ffede3",right:"right-_1888b"}}}]);