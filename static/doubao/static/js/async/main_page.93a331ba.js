/*! For license information please see main_page.93a331ba.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["3027"],{8038:function(t,e,n){"use strict";n.d(e,{SessionBeat:function(){return c}});var o=n("49434"),i=n("45831"),r=function(){return(r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a="passport_fe_beating_status",s={web:"/passport/token/beat/web/",aff:"/passport/token/beat/aff/web/",sso:"/passport/token/beat/sso/web/"},c=function(){function t(t){var e=this;this.throttleOnDrop=(0,o.throttle)(function(){e.onAction()}),this.init=function(){if(window.XMLHttpRequest){e.startBeating("boot");try{window.addEventListener("click",e.throttleOnDrop),window.addEventListener("scroll",e.throttleOnDrop),window.addEventListener("mousemove",e.throttleOnDrop),window.addEventListener("beforeunload",function(){e.stopBeating()})}catch(t){}}},this.onAction=function(){e.beating?e.setOperationFlag(!0):e.startBeating("active")},this.setOperationFlag=function(t){localStorage.setItem("".concat(window.location.origin,"-operation"),String(t))},this.getOperationFlag=function(){return"true"===localStorage.getItem("".concat(window.location.origin,"-operation"))},this.sendBeat=function(t){void 0===t&&(t="polling");var n=e.initProps,o=n.type,a=void 0===o?"web":o,c=n.aid,u=n.subjectAid,l=n.ssoHost,d=n.commonParams,f=r(r({},d),{aid:c,subjectAid:u,scene:t,device_platform:"web",passport_jssdk_version:i.default});"sso"===a?e.sendBeatRequest(l+s.sso,f,function(){e.sendBeatRequest(s.web,f)}):"aff"===a?e.sendBeatRequest(s.aff,f):e.sendBeatRequest(s.web,f)},this.sendBeatRequest=function(t,n,i){var r=e.initProps.onDrop,a=new XMLHttpRequest;a.withCredentials=!0,a.onreadystatechange=function(){var t;if(4===a.readyState&&200===a.status){var n=a.responseText,o={};try{o=JSON.parse(n)}catch(t){}if((null==o?void 0:o.message)==="error"||null==i||i(),(null==o?void 0:o.message)==="error"&&(null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.error_code)===401){try{window.removeEventListener("click",e.throttleOnDrop),window.removeEventListener("scroll",e.throttleOnDrop),window.removeEventListener("mousemove",e.throttleOnDrop)}catch(t){}e.stopBeating(),null==r||r()}}};var s="".concat(t,"?").concat((0,o.paramsToString)(n));a.open("GET","".concat(s)),a.send()},this.stopBeating=function(){e.timer&&clearInterval(e.timer),e.beating&&(e.beating=!1,(0,o.setCookie)(a,!1,"/",window.location.host),e.setOperationFlag(!1))},this.startBeating=function(t){if(void 0===t&&(t="polling"),"true"!==(0,o.getCookie)(a)||e.beating){var n=e.initProps.beatFreq;e.sendBeat(t),(0,o.setCookie)(a,!0,"/",window.location.host),e.beating=!0,e.timer&&clearInterval(e.timer),e.timer=setInterval(function(){e.getOperationFlag()?(e.setOperationFlag(!1),e.sendBeat("polling")):e.stopBeating()},n?6e4*n:6e5)}},this.initProps=t,this.beating=!1,this.timer=null}return t.getInstance=function(e){return!t.instance&&(t.instance=new t(e)),this.instance},t.instance=null,t}()},49434:function(t,e,n){"use strict";n.d(e,{getCookie:function(){return o},paramsToString:function(){return a},setCookie:function(){return i},throttle:function(){return r}});var o=function(t){for(var e="".concat(t,"="),n=document.cookie.split(";"),o=0;o<n.length;o++){var i=n[o].trim();if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""},i=function(t,e,n,o){void 0===n&&(n="/"),document.cookie="".concat(t,"=").concat(e,";path=").concat(n,";domain=").concat(o)},r=function(t,e){var n=!1;return function(){!n&&(n=!0,t(),setTimeout(function(){n=!1},e||1e4))}},a=function(t){return Object.keys(t).filter(function(e){return void 0!==t[e]}).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&")}},45831:function(t,e){"use strict";e.default="1.0.0"},27279:function(t,e,n){"use strict";n.r(e);var o=n("97458");n("52983");var i=n("33220"),r=n("32208"),a=n("31734"),s=n("96535"),c=n("88600"),u=n("58416"),l=n("3766"),d=(0,l.withRequireAuth)(function(){return((0,a.useOnce)(function(){(0,c.markHomeLoadPhase)(c.HomeLoadPhase.PAGE_COMPONENT_LOADED)}),(0,i.isLogined)()&&s.featureEnableChat)?(0,o.jsx)(r.Navigate,{to:u.CHAT_PAGE_ROUTE,replace:!0,relative:"route"}):(0,o.jsx)(l.Guest,{})},{successNavigatePath:u.CHAT_PAGE_ROUTE,showLoadingWhenAuthFailed:!1});e.default=d}}]);